function S0(l,a){for(var r=0;r<a.length;r++){const s=a[r];if(typeof s!="string"&&!Array.isArray(s)){for(const o in s)if(o!=="default"&&!(o in l)){const f=Object.getOwnPropertyDescriptor(s,o);f&&Object.defineProperty(l,o,f.get?f:{enumerable:!0,get:()=>s[o]})}}}return Object.freeze(Object.defineProperty(l,Symbol.toStringTag,{value:"Module"}))}(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const f of o)if(f.type==="childList")for(const h of f.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function r(o){const f={};return o.integrity&&(f.integrity=o.integrity),o.referrerPolicy&&(f.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?f.credentials="include":o.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function s(o){if(o.ep)return;o.ep=!0;const f=r(o);fetch(o.href,f)}})();function tc(l){return l&&l.__esModule&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l}function w0(l){if(Object.prototype.hasOwnProperty.call(l,"__esModule"))return l;var a=l.default;if(typeof a=="function"){var r=function s(){var o=!1;try{o=this instanceof s}catch{}return o?Reflect.construct(a,arguments,this.constructor):a.apply(this,arguments)};r.prototype=a.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(l).forEach(function(s){var o=Object.getOwnPropertyDescriptor(l,s);Object.defineProperty(r,s,o.get?o:{enumerable:!0,get:function(){return l[s]}})}),r}var wo={exports:{}},lr={};var dg;function E0(){if(dg)return lr;dg=1;var l=Symbol.for("react.transitional.element"),a=Symbol.for("react.fragment");function r(s,o,f){var h=null;if(f!==void 0&&(h=""+f),o.key!==void 0&&(h=""+o.key),"key"in o){f={};for(var m in o)m!=="key"&&(f[m]=o[m])}else f=o;return o=f.ref,{$$typeof:l,type:s,key:h,ref:o!==void 0?o:null,props:f}}return lr.Fragment=a,lr.jsx=r,lr.jsxs=r,lr}var gg;function T0(){return gg||(gg=1,wo.exports=E0()),wo.exports}var A=T0(),Eo={exports:{}},ae={};var mg;function O0(){if(mg)return ae;mg=1;var l=Symbol.for("react.transitional.element"),a=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),T=Symbol.iterator;function E(S){return S===null||typeof S!="object"?null:(S=T&&S[T]||S["@@iterator"],typeof S=="function"?S:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,U={};function q(S,L,Y){this.props=S,this.context=L,this.refs=U,this.updater=Y||D}q.prototype.isReactComponent={},q.prototype.setState=function(S,L){if(typeof S!="object"&&typeof S!="function"&&S!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,S,L,"setState")},q.prototype.forceUpdate=function(S){this.updater.enqueueForceUpdate(this,S,"forceUpdate")};function $(){}$.prototype=q.prototype;function H(S,L,Y){this.props=S,this.context=L,this.refs=U,this.updater=Y||D}var K=H.prototype=new $;K.constructor=H,N(K,q.prototype),K.isPureReactComponent=!0;var ie=Array.isArray;function ne(){}var G={H:null,A:null,T:null,S:null},ve=Object.prototype.hasOwnProperty;function Te(S,L,Y){var J=Y.ref;return{$$typeof:l,type:S,key:L,ref:J!==void 0?J:null,props:Y}}function rt(S,L){return Te(S.type,L,S.props)}function Ye(S){return typeof S=="object"&&S!==null&&S.$$typeof===l}function nt(S){var L={"=":"=0",":":"=2"};return"$"+S.replace(/[=:]/g,function(Y){return L[Y]})}var Ft=/\/+/g;function Lt(S,L){return typeof S=="object"&&S!==null&&S.key!=null?nt(""+S.key):L.toString(36)}function Rt(S){switch(S.status){case"fulfilled":return S.value;case"rejected":throw S.reason;default:switch(typeof S.status=="string"?S.then(ne,ne):(S.status="pending",S.then(function(L){S.status==="pending"&&(S.status="fulfilled",S.value=L)},function(L){S.status==="pending"&&(S.status="rejected",S.reason=L)})),S.status){case"fulfilled":return S.value;case"rejected":throw S.reason}}throw S}function M(S,L,Y,J,re){var fe=typeof S;(fe==="undefined"||fe==="boolean")&&(S=null);var Se=!1;if(S===null)Se=!0;else switch(fe){case"bigint":case"string":case"number":Se=!0;break;case"object":switch(S.$$typeof){case l:case a:Se=!0;break;case b:return Se=S._init,M(Se(S._payload),L,Y,J,re)}}if(Se)return re=re(S),Se=J===""?"."+Lt(S,0):J,ie(re)?(Y="",Se!=null&&(Y=Se.replace(Ft,"$&/")+"/"),M(re,L,Y,"",function(gi){return gi})):re!=null&&(Ye(re)&&(re=rt(re,Y+(re.key==null||S&&S.key===re.key?"":(""+re.key).replace(Ft,"$&/")+"/")+Se)),L.push(re)),1;Se=0;var st=J===""?".":J+":";if(ie(S))for(var ke=0;ke<S.length;ke++)J=S[ke],fe=st+Lt(J,ke),Se+=M(J,L,Y,fe,re);else if(ke=E(S),typeof ke=="function")for(S=ke.call(S),ke=0;!(J=S.next()).done;)J=J.value,fe=st+Lt(J,ke++),Se+=M(J,L,Y,fe,re);else if(fe==="object"){if(typeof S.then=="function")return M(Rt(S),L,Y,J,re);throw L=String(S),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(S).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.")}return Se}function V(S,L,Y){if(S==null)return S;var J=[],re=0;return M(S,J,"","",function(fe){return L.call(Y,fe,re++)}),J}function W(S){if(S._status===-1){var L=S._result;L=L(),L.then(function(Y){(S._status===0||S._status===-1)&&(S._status=1,S._result=Y)},function(Y){(S._status===0||S._status===-1)&&(S._status=2,S._result=Y)}),S._status===-1&&(S._status=0,S._result=L)}if(S._status===1)return S._result.default;throw S._result}var oe=typeof reportError=="function"?reportError:function(S){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var L=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof S=="object"&&S!==null&&typeof S.message=="string"?String(S.message):String(S),error:S});if(!window.dispatchEvent(L))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",S);return}console.error(S)},ce={map:V,forEach:function(S,L,Y){V(S,function(){L.apply(this,arguments)},Y)},count:function(S){var L=0;return V(S,function(){L++}),L},toArray:function(S){return V(S,function(L){return L})||[]},only:function(S){if(!Ye(S))throw Error("React.Children.only expected to receive a single React element child.");return S}};return ae.Activity=_,ae.Children=ce,ae.Component=q,ae.Fragment=r,ae.Profiler=o,ae.PureComponent=H,ae.StrictMode=s,ae.Suspense=g,ae.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=G,ae.__COMPILER_RUNTIME={__proto__:null,c:function(S){return G.H.useMemoCache(S)}},ae.cache=function(S){return function(){return S.apply(null,arguments)}},ae.cacheSignal=function(){return null},ae.cloneElement=function(S,L,Y){if(S==null)throw Error("The argument must be a React element, but you passed "+S+".");var J=N({},S.props),re=S.key;if(L!=null)for(fe in L.key!==void 0&&(re=""+L.key),L)!ve.call(L,fe)||fe==="key"||fe==="__self"||fe==="__source"||fe==="ref"&&L.ref===void 0||(J[fe]=L[fe]);var fe=arguments.length-2;if(fe===1)J.children=Y;else if(1<fe){for(var Se=Array(fe),st=0;st<fe;st++)Se[st]=arguments[st+2];J.children=Se}return Te(S.type,re,J)},ae.createContext=function(S){return S={$$typeof:h,_currentValue:S,_currentValue2:S,_threadCount:0,Provider:null,Consumer:null},S.Provider=S,S.Consumer={$$typeof:f,_context:S},S},ae.createElement=function(S,L,Y){var J,re={},fe=null;if(L!=null)for(J in L.key!==void 0&&(fe=""+L.key),L)ve.call(L,J)&&J!=="key"&&J!=="__self"&&J!=="__source"&&(re[J]=L[J]);var Se=arguments.length-2;if(Se===1)re.children=Y;else if(1<Se){for(var st=Array(Se),ke=0;ke<Se;ke++)st[ke]=arguments[ke+2];re.children=st}if(S&&S.defaultProps)for(J in Se=S.defaultProps,Se)re[J]===void 0&&(re[J]=Se[J]);return Te(S,fe,re)},ae.createRef=function(){return{current:null}},ae.forwardRef=function(S){return{$$typeof:m,render:S}},ae.isValidElement=Ye,ae.lazy=function(S){return{$$typeof:b,_payload:{_status:-1,_result:S},_init:W}},ae.memo=function(S,L){return{$$typeof:v,type:S,compare:L===void 0?null:L}},ae.startTransition=function(S){var L=G.T,Y={};G.T=Y;try{var J=S(),re=G.S;re!==null&&re(Y,J),typeof J=="object"&&J!==null&&typeof J.then=="function"&&J.then(ne,oe)}catch(fe){oe(fe)}finally{L!==null&&Y.types!==null&&(L.types=Y.types),G.T=L}},ae.unstable_useCacheRefresh=function(){return G.H.useCacheRefresh()},ae.use=function(S){return G.H.use(S)},ae.useActionState=function(S,L,Y){return G.H.useActionState(S,L,Y)},ae.useCallback=function(S,L){return G.H.useCallback(S,L)},ae.useContext=function(S){return G.H.useContext(S)},ae.useDebugValue=function(){},ae.useDeferredValue=function(S,L){return G.H.useDeferredValue(S,L)},ae.useEffect=function(S,L){return G.H.useEffect(S,L)},ae.useEffectEvent=function(S){return G.H.useEffectEvent(S)},ae.useId=function(){return G.H.useId()},ae.useImperativeHandle=function(S,L,Y){return G.H.useImperativeHandle(S,L,Y)},ae.useInsertionEffect=function(S,L){return G.H.useInsertionEffect(S,L)},ae.useLayoutEffect=function(S,L){return G.H.useLayoutEffect(S,L)},ae.useMemo=function(S,L){return G.H.useMemo(S,L)},ae.useOptimistic=function(S,L){return G.H.useOptimistic(S,L)},ae.useReducer=function(S,L,Y){return G.H.useReducer(S,L,Y)},ae.useRef=function(S){return G.H.useRef(S)},ae.useState=function(S){return G.H.useState(S)},ae.useSyncExternalStore=function(S,L,Y){return G.H.useSyncExternalStore(S,L,Y)},ae.useTransition=function(){return G.H.useTransition()},ae.version="19.2.0",ae}var vg;function nc(){return vg||(vg=1,Eo.exports=O0()),Eo.exports}var ue=nc();const or=tc(ue);var To={exports:{}},ur={},Oo={exports:{}},Ao={};var yg;function A0(){return yg||(yg=1,(function(l){function a(M,V){var W=M.length;M.push(V);e:for(;0<W;){var oe=W-1>>>1,ce=M[oe];if(0<o(ce,V))M[oe]=V,M[W]=ce,W=oe;else break e}}function r(M){return M.length===0?null:M[0]}function s(M){if(M.length===0)return null;var V=M[0],W=M.pop();if(W!==V){M[0]=W;e:for(var oe=0,ce=M.length,S=ce>>>1;oe<S;){var L=2*(oe+1)-1,Y=M[L],J=L+1,re=M[J];if(0>o(Y,W))J<ce&&0>o(re,Y)?(M[oe]=re,M[J]=W,oe=J):(M[oe]=Y,M[L]=W,oe=L);else if(J<ce&&0>o(re,W))M[oe]=re,M[J]=W,oe=J;else break e}}return V}function o(M,V){var W=M.sortIndex-V.sortIndex;return W!==0?W:M.id-V.id}if(l.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;l.unstable_now=function(){return f.now()}}else{var h=Date,m=h.now();l.unstable_now=function(){return h.now()-m}}var g=[],v=[],b=1,_=null,T=3,E=!1,D=!1,N=!1,U=!1,q=typeof setTimeout=="function"?setTimeout:null,$=typeof clearTimeout=="function"?clearTimeout:null,H=typeof setImmediate<"u"?setImmediate:null;function K(M){for(var V=r(v);V!==null;){if(V.callback===null)s(v);else if(V.startTime<=M)s(v),V.sortIndex=V.expirationTime,a(g,V);else break;V=r(v)}}function ie(M){if(N=!1,K(M),!D)if(r(g)!==null)D=!0,ne||(ne=!0,nt());else{var V=r(v);V!==null&&Rt(ie,V.startTime-M)}}var ne=!1,G=-1,ve=5,Te=-1;function rt(){return U?!0:!(l.unstable_now()-Te<ve)}function Ye(){if(U=!1,ne){var M=l.unstable_now();Te=M;var V=!0;try{e:{D=!1,N&&(N=!1,$(G),G=-1),E=!0;var W=T;try{t:{for(K(M),_=r(g);_!==null&&!(_.expirationTime>M&&rt());){var oe=_.callback;if(typeof oe=="function"){_.callback=null,T=_.priorityLevel;var ce=oe(_.expirationTime<=M);if(M=l.unstable_now(),typeof ce=="function"){_.callback=ce,K(M),V=!0;break t}_===r(g)&&s(g),K(M)}else s(g);_=r(g)}if(_!==null)V=!0;else{var S=r(v);S!==null&&Rt(ie,S.startTime-M),V=!1}}break e}finally{_=null,T=W,E=!1}V=void 0}}finally{V?nt():ne=!1}}}var nt;if(typeof H=="function")nt=function(){H(Ye)};else if(typeof MessageChannel<"u"){var Ft=new MessageChannel,Lt=Ft.port2;Ft.port1.onmessage=Ye,nt=function(){Lt.postMessage(null)}}else nt=function(){q(Ye,0)};function Rt(M,V){G=q(function(){M(l.unstable_now())},V)}l.unstable_IdlePriority=5,l.unstable_ImmediatePriority=1,l.unstable_LowPriority=4,l.unstable_NormalPriority=3,l.unstable_Profiling=null,l.unstable_UserBlockingPriority=2,l.unstable_cancelCallback=function(M){M.callback=null},l.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ve=0<M?Math.floor(1e3/M):5},l.unstable_getCurrentPriorityLevel=function(){return T},l.unstable_next=function(M){switch(T){case 1:case 2:case 3:var V=3;break;default:V=T}var W=T;T=V;try{return M()}finally{T=W}},l.unstable_requestPaint=function(){U=!0},l.unstable_runWithPriority=function(M,V){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var W=T;T=M;try{return V()}finally{T=W}},l.unstable_scheduleCallback=function(M,V,W){var oe=l.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?oe+W:oe):W=oe,M){case 1:var ce=-1;break;case 2:ce=250;break;case 5:ce=1073741823;break;case 4:ce=1e4;break;default:ce=5e3}return ce=W+ce,M={id:b++,callback:V,priorityLevel:M,startTime:W,expirationTime:ce,sortIndex:-1},W>oe?(M.sortIndex=W,a(v,M),r(g)===null&&M===r(v)&&(N?($(G),G=-1):N=!0,Rt(ie,W-oe))):(M.sortIndex=ce,a(g,M),D||E||(D=!0,ne||(ne=!0,nt()))),M},l.unstable_shouldYield=rt,l.unstable_wrapCallback=function(M){var V=T;return function(){var W=T;T=V;try{return M.apply(this,arguments)}finally{T=W}}}})(Ao)),Ao}var pg;function j0(){return pg||(pg=1,Oo.exports=A0()),Oo.exports}var jo={exports:{}},at={};var bg;function R0(){if(bg)return at;bg=1;var l=nc();function a(g){var v="https://react.dev/errors/"+g;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)v+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+g+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var s={d:{f:r,r:function(){throw Error(a(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},o=Symbol.for("react.portal");function f(g,v,b){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:_==null?null:""+_,children:g,containerInfo:v,implementation:b}}var h=l.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,v){if(g==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return at.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,at.createPortal=function(g,v){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(a(299));return f(g,v,null,b)},at.flushSync=function(g){var v=h.T,b=s.p;try{if(h.T=null,s.p=2,g)return g()}finally{h.T=v,s.p=b,s.d.f()}},at.preconnect=function(g,v){typeof g=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,s.d.C(g,v))},at.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},at.preinit=function(g,v){if(typeof g=="string"&&v&&typeof v.as=="string"){var b=v.as,_=m(b,v.crossOrigin),T=typeof v.integrity=="string"?v.integrity:void 0,E=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;b==="style"?s.d.S(g,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:_,integrity:T,fetchPriority:E}):b==="script"&&s.d.X(g,{crossOrigin:_,integrity:T,fetchPriority:E,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},at.preinitModule=function(g,v){if(typeof g=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var b=m(v.as,v.crossOrigin);s.d.M(g,{crossOrigin:b,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&s.d.M(g)},at.preload=function(g,v){if(typeof g=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var b=v.as,_=m(b,v.crossOrigin);s.d.L(g,b,{crossOrigin:_,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},at.preloadModule=function(g,v){if(typeof g=="string")if(v){var b=m(v.as,v.crossOrigin);s.d.m(g,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:b,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else s.d.m(g)},at.requestFormReset=function(g){s.d.r(g)},at.unstable_batchedUpdates=function(g,v){return g(v)},at.useFormState=function(g,v,b){return h.H.useFormState(g,v,b)},at.useFormStatus=function(){return h.H.useHostTransitionStatus()},at.version="19.2.0",at}var _g;function C0(){if(_g)return jo.exports;_g=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(a){console.error(a)}}return l(),jo.exports=R0(),jo.exports}var Sg;function N0(){if(Sg)return ur;Sg=1;var l=j0(),a=nc(),r=C0();function s(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function f(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function h(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function m(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function g(e){if(f(e)!==e)throw Error(s(188))}function v(e){var t=e.alternate;if(!t){if(t=f(e),t===null)throw Error(s(188));return t!==e?null:e}for(var n=e,i=t;;){var u=n.return;if(u===null)break;var c=u.alternate;if(c===null){if(i=u.return,i!==null){n=i;continue}break}if(u.child===c.child){for(c=u.child;c;){if(c===n)return g(u),e;if(c===i)return g(u),t;c=c.sibling}throw Error(s(188))}if(n.return!==i.return)n=u,i=c;else{for(var d=!1,y=u.child;y;){if(y===n){d=!0,n=u,i=c;break}if(y===i){d=!0,i=u,n=c;break}y=y.sibling}if(!d){for(y=c.child;y;){if(y===n){d=!0,n=c,i=u;break}if(y===i){d=!0,i=c,n=u;break}y=y.sibling}if(!d)throw Error(s(189))}}if(n.alternate!==i)throw Error(s(190))}if(n.tag!==3)throw Error(s(188));return n.stateNode.current===n?e:t}function b(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=b(e),t!==null)return t;e=e.sibling}return null}var _=Object.assign,T=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),U=Symbol.for("react.strict_mode"),q=Symbol.for("react.profiler"),$=Symbol.for("react.consumer"),H=Symbol.for("react.context"),K=Symbol.for("react.forward_ref"),ie=Symbol.for("react.suspense"),ne=Symbol.for("react.suspense_list"),G=Symbol.for("react.memo"),ve=Symbol.for("react.lazy"),Te=Symbol.for("react.activity"),rt=Symbol.for("react.memo_cache_sentinel"),Ye=Symbol.iterator;function nt(e){return e===null||typeof e!="object"?null:(e=Ye&&e[Ye]||e["@@iterator"],typeof e=="function"?e:null)}var Ft=Symbol.for("react.client.reference");function Lt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Ft?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case N:return"Fragment";case q:return"Profiler";case U:return"StrictMode";case ie:return"Suspense";case ne:return"SuspenseList";case Te:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case D:return"Portal";case H:return e.displayName||"Context";case $:return(e._context.displayName||"Context")+".Consumer";case K:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case G:return t=e.displayName||null,t!==null?t:Lt(e.type)||"Memo";case ve:t=e._payload,e=e._init;try{return Lt(e(t))}catch{}}return null}var Rt=Array.isArray,M=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W={pending:!1,data:null,method:null,action:null},oe=[],ce=-1;function S(e){return{current:e}}function L(e){0>ce||(e.current=oe[ce],oe[ce]=null,ce--)}function Y(e,t){ce++,oe[ce]=e.current,e.current=t}var J=S(null),re=S(null),fe=S(null),Se=S(null);function st(e,t){switch(Y(fe,t),Y(re,e),Y(J,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?kd(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=kd(t),e=Bd(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}L(J),Y(J,e)}function ke(){L(J),L(re),L(fe)}function gi(e){e.memoizedState!==null&&Y(Se,e);var t=J.current,n=Bd(t,e.type);t!==n&&(Y(re,e),Y(J,n))}function br(e){re.current===e&&(L(J),L(re)),Se.current===e&&(L(Se),ar._currentValue=W)}var al,fc;function Qn(e){if(al===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);al=t&&t[1]||"",fc=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+al+e+fc}var il=!1;function rl(e,t){if(!e||il)return"";il=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(t){var B=function(){throw Error()};if(Object.defineProperty(B.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(B,[])}catch(x){var C=x}Reflect.construct(e,[],B)}else{try{B.call()}catch(x){C=x}e.call(B.prototype)}}else{try{throw Error()}catch(x){C=x}(B=e())&&typeof B.catch=="function"&&B.catch(function(){})}}catch(x){if(x&&C&&typeof x.stack=="string")return[x.stack,C.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var c=i.DetermineComponentFrameRoot(),d=c[0],y=c[1];if(d&&y){var p=d.split(`
`),R=y.split(`
`);for(u=i=0;i<p.length&&!p[i].includes("DetermineComponentFrameRoot");)i++;for(;u<R.length&&!R[u].includes("DetermineComponentFrameRoot");)u++;if(i===p.length||u===R.length)for(i=p.length-1,u=R.length-1;1<=i&&0<=u&&p[i]!==R[u];)u--;for(;1<=i&&0<=u;i--,u--)if(p[i]!==R[u]){if(i!==1||u!==1)do if(i--,u--,0>u||p[i]!==R[u]){var z=`
`+p[i].replace(" at new "," at ");return e.displayName&&z.includes("<anonymous>")&&(z=z.replace("<anonymous>",e.displayName)),z}while(1<=i&&0<=u);break}}}finally{il=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?Qn(n):""}function Pm(e,t){switch(e.tag){case 26:case 27:case 5:return Qn(e.type);case 16:return Qn("Lazy");case 13:return e.child!==t&&t!==null?Qn("Suspense Fallback"):Qn("Suspense");case 19:return Qn("SuspenseList");case 0:case 15:return rl(e.type,!1);case 11:return rl(e.type.render,!1);case 1:return rl(e.type,!0);case 31:return Qn("Activity");default:return""}}function hc(e){try{var t="",n=null;do t+=Pm(e,n),n=e,e=e.return;while(e);return t}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}var sl=Object.prototype.hasOwnProperty,ll=l.unstable_scheduleCallback,ul=l.unstable_cancelCallback,Wm=l.unstable_shouldYield,ev=l.unstable_requestPaint,mt=l.unstable_now,tv=l.unstable_getCurrentPriorityLevel,dc=l.unstable_ImmediatePriority,gc=l.unstable_UserBlockingPriority,_r=l.unstable_NormalPriority,nv=l.unstable_LowPriority,mc=l.unstable_IdlePriority,av=l.log,iv=l.unstable_setDisableYieldValue,mi=null,vt=null;function pn(e){if(typeof av=="function"&&iv(e),vt&&typeof vt.setStrictMode=="function")try{vt.setStrictMode(mi,e)}catch{}}var yt=Math.clz32?Math.clz32:lv,rv=Math.log,sv=Math.LN2;function lv(e){return e>>>=0,e===0?32:31-(rv(e)/sv|0)|0}var Sr=256,wr=262144,Er=4194304;function Xn(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Tr(e,t,n){var i=e.pendingLanes;if(i===0)return 0;var u=0,c=e.suspendedLanes,d=e.pingedLanes;e=e.warmLanes;var y=i&134217727;return y!==0?(i=y&~c,i!==0?u=Xn(i):(d&=y,d!==0?u=Xn(d):n||(n=y&~e,n!==0&&(u=Xn(n))))):(y=i&~c,y!==0?u=Xn(y):d!==0?u=Xn(d):n||(n=i&~e,n!==0&&(u=Xn(n)))),u===0?0:t!==0&&t!==u&&(t&c)===0&&(c=u&-u,n=t&-t,c>=n||c===32&&(n&4194048)!==0)?t:u}function vi(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function uv(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vc(){var e=Er;return Er<<=1,(Er&62914560)===0&&(Er=4194304),e}function ol(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yi(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function ov(e,t,n,i,u,c){var d=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var y=e.entanglements,p=e.expirationTimes,R=e.hiddenUpdates;for(n=d&~n;0<n;){var z=31-yt(n),B=1<<z;y[z]=0,p[z]=-1;var C=R[z];if(C!==null)for(R[z]=null,z=0;z<C.length;z++){var x=C[z];x!==null&&(x.lane&=-536870913)}n&=~B}i!==0&&yc(e,i,0),c!==0&&u===0&&e.tag!==0&&(e.suspendedLanes|=c&~(d&~t))}function yc(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var i=31-yt(t);e.entangledLanes|=t,e.entanglements[i]=e.entanglements[i]|1073741824|n&261930}function pc(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-yt(n),u=1<<i;u&t|e[i]&t&&(e[i]|=t),n&=~u}}function bc(e,t){var n=t&-t;return n=(n&42)!==0?1:cl(n),(n&(e.suspendedLanes|t))!==0?0:n}function cl(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function fl(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function _c(){var e=V.p;return e!==0?e:(e=window.event,e===void 0?32:sg(e.type))}function Sc(e,t){var n=V.p;try{return V.p=e,t()}finally{V.p=n}}var bn=Math.random().toString(36).slice(2),Ze="__reactFiber$"+bn,ut="__reactProps$"+bn,pa="__reactContainer$"+bn,hl="__reactEvents$"+bn,cv="__reactListeners$"+bn,fv="__reactHandles$"+bn,wc="__reactResources$"+bn,pi="__reactMarker$"+bn;function dl(e){delete e[Ze],delete e[ut],delete e[hl],delete e[cv],delete e[fv]}function ba(e){var t=e[Ze];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pa]||n[Ze]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Yd(e);e!==null;){if(n=e[Ze])return n;e=Yd(e)}return t}e=n,n=e.parentNode}return null}function _a(e){if(e=e[Ze]||e[pa]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function bi(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(s(33))}function Sa(e){var t=e[wc];return t||(t=e[wc]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Xe(e){e[pi]=!0}var Ec=new Set,Tc={};function Jn(e,t){wa(e,t),wa(e+"Capture",t)}function wa(e,t){for(Tc[e]=t,e=0;e<t.length;e++)Ec.add(t[e])}var hv=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Oc={},Ac={};function dv(e){return sl.call(Ac,e)?!0:sl.call(Oc,e)?!1:hv.test(e)?Ac[e]=!0:(Oc[e]=!0,!1)}function Or(e,t,n){if(dv(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var i=t.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function Ar(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function Pt(e,t,n,i){if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+i)}}function Ct(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function jc(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function gv(e,t,n){var i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var u=i.get,c=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return u.call(this)},set:function(d){n=""+d,c.call(this,d)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return n},setValue:function(d){n=""+d},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function gl(e){if(!e._valueTracker){var t=jc(e)?"checked":"value";e._valueTracker=gv(e,t,""+e[t])}}function Rc(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=jc(e)?e.checked?"true":"false":e.value),e=i,e!==n?(t.setValue(e),!0):!1}function jr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var mv=/[\n"\\]/g;function Nt(e){return e.replace(mv,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function ml(e,t,n,i,u,c,d,y){e.name="",d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"?e.type=d:e.removeAttribute("type"),t!=null?d==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Ct(t)):e.value!==""+Ct(t)&&(e.value=""+Ct(t)):d!=="submit"&&d!=="reset"||e.removeAttribute("value"),t!=null?vl(e,d,Ct(t)):n!=null?vl(e,d,Ct(n)):i!=null&&e.removeAttribute("value"),u==null&&c!=null&&(e.defaultChecked=!!c),u!=null&&(e.checked=u&&typeof u!="function"&&typeof u!="symbol"),y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.name=""+Ct(y):e.removeAttribute("name")}function Cc(e,t,n,i,u,c,d,y){if(c!=null&&typeof c!="function"&&typeof c!="symbol"&&typeof c!="boolean"&&(e.type=c),t!=null||n!=null){if(!(c!=="submit"&&c!=="reset"||t!=null)){gl(e);return}n=n!=null?""+Ct(n):"",t=t!=null?""+Ct(t):n,y||t===e.value||(e.value=t),e.defaultValue=t}i=i??u,i=typeof i!="function"&&typeof i!="symbol"&&!!i,e.checked=y?e.checked:!!i,e.defaultChecked=!!i,d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.name=d),gl(e)}function vl(e,t,n){t==="number"&&jr(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function Ea(e,t,n,i){if(e=e.options,t){t={};for(var u=0;u<n.length;u++)t["$"+n[u]]=!0;for(n=0;n<e.length;n++)u=t.hasOwnProperty("$"+e[n].value),e[n].selected!==u&&(e[n].selected=u),u&&i&&(e[n].defaultSelected=!0)}else{for(n=""+Ct(n),t=null,u=0;u<e.length;u++){if(e[u].value===n){e[u].selected=!0,i&&(e[u].defaultSelected=!0);return}t!==null||e[u].disabled||(t=e[u])}t!==null&&(t.selected=!0)}}function Nc(e,t,n){if(t!=null&&(t=""+Ct(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+Ct(n):""}function Uc(e,t,n,i){if(t==null){if(i!=null){if(n!=null)throw Error(s(92));if(Rt(i)){if(1<i.length)throw Error(s(93));i=i[0]}n=i}n==null&&(n=""),t=n}n=Ct(t),e.defaultValue=n,i=e.textContent,i===n&&i!==""&&i!==null&&(e.value=i),gl(e)}function Ta(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var vv=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function xc(e,t,n){var i=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?i?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":i?e.setProperty(t,n):typeof n!="number"||n===0||vv.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Dc(e,t,n){if(t!=null&&typeof t!="object")throw Error(s(62));if(e=e.style,n!=null){for(var i in n)!n.hasOwnProperty(i)||t!=null&&t.hasOwnProperty(i)||(i.indexOf("--")===0?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="");for(var u in t)i=t[u],t.hasOwnProperty(u)&&n[u]!==i&&xc(e,u,i)}else for(var c in t)t.hasOwnProperty(c)&&xc(e,c,t[c])}function yl(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yv=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),pv=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Rr(e){return pv.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Wt(){}var pl=null;function bl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Oa=null,Aa=null;function zc(e){var t=_a(e);if(t&&(e=t.stateNode)){var n=e[ut]||null;e:switch(e=t.stateNode,t.type){case"input":if(ml(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Nt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var u=i[ut]||null;if(!u)throw Error(s(90));ml(i,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name)}}for(t=0;t<n.length;t++)i=n[t],i.form===e.form&&Rc(i)}break e;case"textarea":Nc(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&Ea(e,!!n.multiple,t,!1)}}}var _l=!1;function Mc(e,t,n){if(_l)return e(t,n);_l=!0;try{var i=e(t);return i}finally{if(_l=!1,(Oa!==null||Aa!==null)&&(ms(),Oa&&(t=Oa,e=Aa,Aa=Oa=null,zc(t),e)))for(t=0;t<e.length;t++)zc(e[t])}}function _i(e,t){var n=e.stateNode;if(n===null)return null;var i=n[ut]||null;if(i===null)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(s(231,t,typeof n));return n}var en=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Sl=!1;if(en)try{var Si={};Object.defineProperty(Si,"passive",{get:function(){Sl=!0}}),window.addEventListener("test",Si,Si),window.removeEventListener("test",Si,Si)}catch{Sl=!1}var _n=null,wl=null,Cr=null;function kc(){if(Cr)return Cr;var e,t=wl,n=t.length,i,u="value"in _n?_n.value:_n.textContent,c=u.length;for(e=0;e<n&&t[e]===u[e];e++);var d=n-e;for(i=1;i<=d&&t[n-i]===u[c-i];i++);return Cr=u.slice(e,1<i?1-i:void 0)}function Nr(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ur(){return!0}function Bc(){return!1}function ot(e){function t(n,i,u,c,d){this._reactName=n,this._targetInst=u,this.type=i,this.nativeEvent=c,this.target=d,this.currentTarget=null;for(var y in e)e.hasOwnProperty(y)&&(n=e[y],this[y]=n?n(c):c[y]);return this.isDefaultPrevented=(c.defaultPrevented!=null?c.defaultPrevented:c.returnValue===!1)?Ur:Bc,this.isPropagationStopped=Bc,this}return _(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ur)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ur)},persist:function(){},isPersistent:Ur}),t}var Zn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xr=ot(Zn),wi=_({},Zn,{view:0,detail:0}),bv=ot(wi),El,Tl,Ei,Dr=_({},wi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Al,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ei&&(Ei&&e.type==="mousemove"?(El=e.screenX-Ei.screenX,Tl=e.screenY-Ei.screenY):Tl=El=0,Ei=e),El)},movementY:function(e){return"movementY"in e?e.movementY:Tl}}),qc=ot(Dr),_v=_({},Dr,{dataTransfer:0}),Sv=ot(_v),wv=_({},wi,{relatedTarget:0}),Ol=ot(wv),Ev=_({},Zn,{animationName:0,elapsedTime:0,pseudoElement:0}),Tv=ot(Ev),Ov=_({},Zn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Av=ot(Ov),jv=_({},Zn,{data:0}),Lc=ot(jv),Rv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Cv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Nv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Uv(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Nv[e])?!!t[e]:!1}function Al(){return Uv}var xv=_({},wi,{key:function(e){if(e.key){var t=Rv[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Nr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Cv[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Al,charCode:function(e){return e.type==="keypress"?Nr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Nr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Dv=ot(xv),zv=_({},Dr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Hc=ot(zv),Mv=_({},wi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Al}),kv=ot(Mv),Bv=_({},Zn,{propertyName:0,elapsedTime:0,pseudoElement:0}),qv=ot(Bv),Lv=_({},Dr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Hv=ot(Lv),$v=_({},Zn,{newState:0,oldState:0}),Gv=ot($v),Vv=[9,13,27,32],jl=en&&"CompositionEvent"in window,Ti=null;en&&"documentMode"in document&&(Ti=document.documentMode);var Yv=en&&"TextEvent"in window&&!Ti,$c=en&&(!jl||Ti&&8<Ti&&11>=Ti),Gc=" ",Vc=!1;function Yc(e,t){switch(e){case"keyup":return Vv.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Kc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ja=!1;function Kv(e,t){switch(e){case"compositionend":return Kc(t);case"keypress":return t.which!==32?null:(Vc=!0,Gc);case"textInput":return e=t.data,e===Gc&&Vc?null:e;default:return null}}function Qv(e,t){if(ja)return e==="compositionend"||!jl&&Yc(e,t)?(e=kc(),Cr=wl=_n=null,ja=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return $c&&t.locale!=="ko"?null:t.data;default:return null}}var Xv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Xv[e.type]:t==="textarea"}function Xc(e,t,n,i){Oa?Aa?Aa.push(i):Aa=[i]:Oa=i,t=ws(t,"onChange"),0<t.length&&(n=new xr("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var Oi=null,Ai=null;function Jv(e){Nd(e,0)}function zr(e){var t=bi(e);if(Rc(t))return e}function Jc(e,t){if(e==="change")return t}var Zc=!1;if(en){var Rl;if(en){var Cl="oninput"in document;if(!Cl){var Ic=document.createElement("div");Ic.setAttribute("oninput","return;"),Cl=typeof Ic.oninput=="function"}Rl=Cl}else Rl=!1;Zc=Rl&&(!document.documentMode||9<document.documentMode)}function Fc(){Oi&&(Oi.detachEvent("onpropertychange",Pc),Ai=Oi=null)}function Pc(e){if(e.propertyName==="value"&&zr(Ai)){var t=[];Xc(t,Ai,e,bl(e)),Mc(Jv,t)}}function Zv(e,t,n){e==="focusin"?(Fc(),Oi=t,Ai=n,Oi.attachEvent("onpropertychange",Pc)):e==="focusout"&&Fc()}function Iv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return zr(Ai)}function Fv(e,t){if(e==="click")return zr(t)}function Pv(e,t){if(e==="input"||e==="change")return zr(t)}function Wv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var pt=typeof Object.is=="function"?Object.is:Wv;function ji(e,t){if(pt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var u=n[i];if(!sl.call(t,u)||!pt(e[u],t[u]))return!1}return!0}function Wc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ef(e,t){var n=Wc(e);e=0;for(var i;n;){if(n.nodeType===3){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Wc(n)}}function tf(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?tf(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function nf(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=jr(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=jr(e.document)}return t}function Nl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var ey=en&&"documentMode"in document&&11>=document.documentMode,Ra=null,Ul=null,Ri=null,xl=!1;function af(e,t,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;xl||Ra==null||Ra!==jr(i)||(i=Ra,"selectionStart"in i&&Nl(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Ri&&ji(Ri,i)||(Ri=i,i=ws(Ul,"onSelect"),0<i.length&&(t=new xr("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=Ra)))}function In(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ca={animationend:In("Animation","AnimationEnd"),animationiteration:In("Animation","AnimationIteration"),animationstart:In("Animation","AnimationStart"),transitionrun:In("Transition","TransitionRun"),transitionstart:In("Transition","TransitionStart"),transitioncancel:In("Transition","TransitionCancel"),transitionend:In("Transition","TransitionEnd")},Dl={},rf={};en&&(rf=document.createElement("div").style,"AnimationEvent"in window||(delete Ca.animationend.animation,delete Ca.animationiteration.animation,delete Ca.animationstart.animation),"TransitionEvent"in window||delete Ca.transitionend.transition);function Fn(e){if(Dl[e])return Dl[e];if(!Ca[e])return e;var t=Ca[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in rf)return Dl[e]=t[n];return e}var sf=Fn("animationend"),lf=Fn("animationiteration"),uf=Fn("animationstart"),ty=Fn("transitionrun"),ny=Fn("transitionstart"),ay=Fn("transitioncancel"),of=Fn("transitionend"),cf=new Map,zl="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");zl.push("scrollEnd");function Ht(e,t){cf.set(e,t),Jn(t,[e])}var Mr=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Ut=[],Na=0,Ml=0;function kr(){for(var e=Na,t=Ml=Na=0;t<e;){var n=Ut[t];Ut[t++]=null;var i=Ut[t];Ut[t++]=null;var u=Ut[t];Ut[t++]=null;var c=Ut[t];if(Ut[t++]=null,i!==null&&u!==null){var d=i.pending;d===null?u.next=u:(u.next=d.next,d.next=u),i.pending=u}c!==0&&ff(n,u,c)}}function Br(e,t,n,i){Ut[Na++]=e,Ut[Na++]=t,Ut[Na++]=n,Ut[Na++]=i,Ml|=i,e.lanes|=i,e=e.alternate,e!==null&&(e.lanes|=i)}function kl(e,t,n,i){return Br(e,t,n,i),qr(e)}function Pn(e,t){return Br(e,null,null,t),qr(e)}function ff(e,t,n){e.lanes|=n;var i=e.alternate;i!==null&&(i.lanes|=n);for(var u=!1,c=e.return;c!==null;)c.childLanes|=n,i=c.alternate,i!==null&&(i.childLanes|=n),c.tag===22&&(e=c.stateNode,e===null||e._visibility&1||(u=!0)),e=c,c=c.return;return e.tag===3?(c=e.stateNode,u&&t!==null&&(u=31-yt(n),e=c.hiddenUpdates,i=e[u],i===null?e[u]=[t]:i.push(t),t.lane=n|536870912),c):null}function qr(e){if(50<Ii)throw Ii=0,Ku=null,Error(s(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Ua={};function iy(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bt(e,t,n,i){return new iy(e,t,n,i)}function Bl(e){return e=e.prototype,!(!e||!e.isReactComponent)}function tn(e,t){var n=e.alternate;return n===null?(n=bt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function hf(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Lr(e,t,n,i,u,c){var d=0;if(i=e,typeof e=="function")Bl(e)&&(d=1);else if(typeof e=="string")d=o0(e,n,J.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Te:return e=bt(31,n,t,u),e.elementType=Te,e.lanes=c,e;case N:return Wn(n.children,u,c,t);case U:d=8,u|=24;break;case q:return e=bt(12,n,t,u|2),e.elementType=q,e.lanes=c,e;case ie:return e=bt(13,n,t,u),e.elementType=ie,e.lanes=c,e;case ne:return e=bt(19,n,t,u),e.elementType=ne,e.lanes=c,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case H:d=10;break e;case $:d=9;break e;case K:d=11;break e;case G:d=14;break e;case ve:d=16,i=null;break e}d=29,n=Error(s(130,e===null?"null":typeof e,"")),i=null}return t=bt(d,n,t,u),t.elementType=e,t.type=i,t.lanes=c,t}function Wn(e,t,n,i){return e=bt(7,e,i,t),e.lanes=n,e}function ql(e,t,n){return e=bt(6,e,null,t),e.lanes=n,e}function df(e){var t=bt(18,null,null,0);return t.stateNode=e,t}function Ll(e,t,n){return t=bt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var gf=new WeakMap;function xt(e,t){if(typeof e=="object"&&e!==null){var n=gf.get(e);return n!==void 0?n:(t={value:e,source:t,stack:hc(t)},gf.set(e,t),t)}return{value:e,source:t,stack:hc(t)}}var xa=[],Da=0,Hr=null,Ci=0,Dt=[],zt=0,Sn=null,Xt=1,Jt="";function nn(e,t){xa[Da++]=Ci,xa[Da++]=Hr,Hr=e,Ci=t}function mf(e,t,n){Dt[zt++]=Xt,Dt[zt++]=Jt,Dt[zt++]=Sn,Sn=e;var i=Xt;e=Jt;var u=32-yt(i)-1;i&=~(1<<u),n+=1;var c=32-yt(t)+u;if(30<c){var d=u-u%5;c=(i&(1<<d)-1).toString(32),i>>=d,u-=d,Xt=1<<32-yt(t)+u|n<<u|i,Jt=c+e}else Xt=1<<c|n<<u|i,Jt=e}function Hl(e){e.return!==null&&(nn(e,1),mf(e,1,0))}function $l(e){for(;e===Hr;)Hr=xa[--Da],xa[Da]=null,Ci=xa[--Da],xa[Da]=null;for(;e===Sn;)Sn=Dt[--zt],Dt[zt]=null,Jt=Dt[--zt],Dt[zt]=null,Xt=Dt[--zt],Dt[zt]=null}function vf(e,t){Dt[zt++]=Xt,Dt[zt++]=Jt,Dt[zt++]=Sn,Xt=t.id,Jt=t.overflow,Sn=e}var Ie=null,Ne=null,ye=!1,wn=null,Mt=!1,Gl=Error(s(519));function En(e){var t=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ni(xt(t,e)),Gl}function yf(e){var t=e.stateNode,n=e.type,i=e.memoizedProps;switch(t[Ze]=e,t[ut]=i,n){case"dialog":de("cancel",t),de("close",t);break;case"iframe":case"object":case"embed":de("load",t);break;case"video":case"audio":for(n=0;n<Pi.length;n++)de(Pi[n],t);break;case"source":de("error",t);break;case"img":case"image":case"link":de("error",t),de("load",t);break;case"details":de("toggle",t);break;case"input":de("invalid",t),Cc(t,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0);break;case"select":de("invalid",t);break;case"textarea":de("invalid",t),Uc(t,i.value,i.defaultValue,i.children)}n=i.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||i.suppressHydrationWarning===!0||zd(t.textContent,n)?(i.popover!=null&&(de("beforetoggle",t),de("toggle",t)),i.onScroll!=null&&de("scroll",t),i.onScrollEnd!=null&&de("scrollend",t),i.onClick!=null&&(t.onclick=Wt),t=!0):t=!1,t||En(e,!0)}function pf(e){for(Ie=e.return;Ie;)switch(Ie.tag){case 5:case 31:case 13:Mt=!1;return;case 27:case 3:Mt=!0;return;default:Ie=Ie.return}}function za(e){if(e!==Ie)return!1;if(!ye)return pf(e),ye=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||so(e.type,e.memoizedProps)),n=!n),n&&Ne&&En(e),pf(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));Ne=Vd(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));Ne=Vd(e)}else t===27?(t=Ne,Bn(e.type)?(e=fo,fo=null,Ne=e):Ne=t):Ne=Ie?Bt(e.stateNode.nextSibling):null;return!0}function ea(){Ne=Ie=null,ye=!1}function Vl(){var e=wn;return e!==null&&(dt===null?dt=e:dt.push.apply(dt,e),wn=null),e}function Ni(e){wn===null?wn=[e]:wn.push(e)}var Yl=S(null),ta=null,an=null;function Tn(e,t,n){Y(Yl,t._currentValue),t._currentValue=n}function rn(e){e._currentValue=Yl.current,L(Yl)}function Kl(e,t,n){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function Ql(e,t,n,i){var u=e.child;for(u!==null&&(u.return=e);u!==null;){var c=u.dependencies;if(c!==null){var d=u.child;c=c.firstContext;e:for(;c!==null;){var y=c;c=u;for(var p=0;p<t.length;p++)if(y.context===t[p]){c.lanes|=n,y=c.alternate,y!==null&&(y.lanes|=n),Kl(c.return,n,e),i||(d=null);break e}c=y.next}}else if(u.tag===18){if(d=u.return,d===null)throw Error(s(341));d.lanes|=n,c=d.alternate,c!==null&&(c.lanes|=n),Kl(d,n,e),d=null}else d=u.child;if(d!==null)d.return=u;else for(d=u;d!==null;){if(d===e){d=null;break}if(u=d.sibling,u!==null){u.return=d.return,d=u;break}d=d.return}u=d}}function Ma(e,t,n,i){e=null;for(var u=t,c=!1;u!==null;){if(!c){if((u.flags&524288)!==0)c=!0;else if((u.flags&262144)!==0)break}if(u.tag===10){var d=u.alternate;if(d===null)throw Error(s(387));if(d=d.memoizedProps,d!==null){var y=u.type;pt(u.pendingProps.value,d.value)||(e!==null?e.push(y):e=[y])}}else if(u===Se.current){if(d=u.alternate,d===null)throw Error(s(387));d.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(e!==null?e.push(ar):e=[ar])}u=u.return}e!==null&&Ql(t,e,n,i),t.flags|=262144}function $r(e){for(e=e.firstContext;e!==null;){if(!pt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function na(e){ta=e,an=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Fe(e){return bf(ta,e)}function Gr(e,t){return ta===null&&na(e),bf(e,t)}function bf(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},an===null){if(e===null)throw Error(s(308));an=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else an=an.next=t;return n}var ry=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,i){e.push(i)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},sy=l.unstable_scheduleCallback,ly=l.unstable_NormalPriority,Le={$$typeof:H,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Xl(){return{controller:new ry,data:new Map,refCount:0}}function Ui(e){e.refCount--,e.refCount===0&&sy(ly,function(){e.controller.abort()})}var xi=null,Jl=0,ka=0,Ba=null;function uy(e,t){if(xi===null){var n=xi=[];Jl=0,ka=Fu(),Ba={status:"pending",value:void 0,then:function(i){n.push(i)}}}return Jl++,t.then(_f,_f),t}function _f(){if(--Jl===0&&xi!==null){Ba!==null&&(Ba.status="fulfilled");var e=xi;xi=null,ka=0,Ba=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function oy(e,t){var n=[],i={status:"pending",value:null,reason:null,then:function(u){n.push(u)}};return e.then(function(){i.status="fulfilled",i.value=t;for(var u=0;u<n.length;u++)(0,n[u])(t)},function(u){for(i.status="rejected",i.reason=u,u=0;u<n.length;u++)(0,n[u])(void 0)}),i}var Sf=M.S;M.S=function(e,t){id=mt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&uy(e,t),Sf!==null&&Sf(e,t)};var aa=S(null);function Zl(){var e=aa.current;return e!==null?e:Re.pooledCache}function Vr(e,t){t===null?Y(aa,aa.current):Y(aa,t.pool)}function wf(){var e=Zl();return e===null?null:{parent:Le._currentValue,pool:e}}var qa=Error(s(460)),Il=Error(s(474)),Yr=Error(s(542)),Kr={then:function(){}};function Ef(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Tf(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(Wt,Wt),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Af(e),e;default:if(typeof t.status=="string")t.then(Wt,Wt);else{if(e=Re,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=t,e.status="pending",e.then(function(i){if(t.status==="pending"){var u=t;u.status="fulfilled",u.value=i}},function(i){if(t.status==="pending"){var u=t;u.status="rejected",u.reason=i}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Af(e),e}throw ra=t,qa}}function ia(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(ra=n,qa):n}}var ra=null;function Of(){if(ra===null)throw Error(s(459));var e=ra;return ra=null,e}function Af(e){if(e===qa||e===Yr)throw Error(s(483))}var La=null,Di=0;function Qr(e){var t=Di;return Di+=1,La===null&&(La=[]),Tf(La,e,t)}function zi(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Xr(e,t){throw t.$$typeof===T?Error(s(525)):(e=Object.prototype.toString.call(t),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function jf(e){function t(O,w){if(e){var j=O.deletions;j===null?(O.deletions=[w],O.flags|=16):j.push(w)}}function n(O,w){if(!e)return null;for(;w!==null;)t(O,w),w=w.sibling;return null}function i(O){for(var w=new Map;O!==null;)O.key!==null?w.set(O.key,O):w.set(O.index,O),O=O.sibling;return w}function u(O,w){return O=tn(O,w),O.index=0,O.sibling=null,O}function c(O,w,j){return O.index=j,e?(j=O.alternate,j!==null?(j=j.index,j<w?(O.flags|=67108866,w):j):(O.flags|=67108866,w)):(O.flags|=1048576,w)}function d(O){return e&&O.alternate===null&&(O.flags|=67108866),O}function y(O,w,j,k){return w===null||w.tag!==6?(w=ql(j,O.mode,k),w.return=O,w):(w=u(w,j),w.return=O,w)}function p(O,w,j,k){var F=j.type;return F===N?z(O,w,j.props.children,k,j.key):w!==null&&(w.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===ve&&ia(F)===w.type)?(w=u(w,j.props),zi(w,j),w.return=O,w):(w=Lr(j.type,j.key,j.props,null,O.mode,k),zi(w,j),w.return=O,w)}function R(O,w,j,k){return w===null||w.tag!==4||w.stateNode.containerInfo!==j.containerInfo||w.stateNode.implementation!==j.implementation?(w=Ll(j,O.mode,k),w.return=O,w):(w=u(w,j.children||[]),w.return=O,w)}function z(O,w,j,k,F){return w===null||w.tag!==7?(w=Wn(j,O.mode,k,F),w.return=O,w):(w=u(w,j),w.return=O,w)}function B(O,w,j){if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return w=ql(""+w,O.mode,j),w.return=O,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case E:return j=Lr(w.type,w.key,w.props,null,O.mode,j),zi(j,w),j.return=O,j;case D:return w=Ll(w,O.mode,j),w.return=O,w;case ve:return w=ia(w),B(O,w,j)}if(Rt(w)||nt(w))return w=Wn(w,O.mode,j,null),w.return=O,w;if(typeof w.then=="function")return B(O,Qr(w),j);if(w.$$typeof===H)return B(O,Gr(O,w),j);Xr(O,w)}return null}function C(O,w,j,k){var F=w!==null?w.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return F!==null?null:y(O,w,""+j,k);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case E:return j.key===F?p(O,w,j,k):null;case D:return j.key===F?R(O,w,j,k):null;case ve:return j=ia(j),C(O,w,j,k)}if(Rt(j)||nt(j))return F!==null?null:z(O,w,j,k,null);if(typeof j.then=="function")return C(O,w,Qr(j),k);if(j.$$typeof===H)return C(O,w,Gr(O,j),k);Xr(O,j)}return null}function x(O,w,j,k,F){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return O=O.get(j)||null,y(w,O,""+k,F);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case E:return O=O.get(k.key===null?j:k.key)||null,p(w,O,k,F);case D:return O=O.get(k.key===null?j:k.key)||null,R(w,O,k,F);case ve:return k=ia(k),x(O,w,j,k,F)}if(Rt(k)||nt(k))return O=O.get(j)||null,z(w,O,k,F,null);if(typeof k.then=="function")return x(O,w,j,Qr(k),F);if(k.$$typeof===H)return x(O,w,j,Gr(w,k),F);Xr(w,k)}return null}function Q(O,w,j,k){for(var F=null,pe=null,Z=w,le=w=0,me=null;Z!==null&&le<j.length;le++){Z.index>le?(me=Z,Z=null):me=Z.sibling;var be=C(O,Z,j[le],k);if(be===null){Z===null&&(Z=me);break}e&&Z&&be.alternate===null&&t(O,Z),w=c(be,w,le),pe===null?F=be:pe.sibling=be,pe=be,Z=me}if(le===j.length)return n(O,Z),ye&&nn(O,le),F;if(Z===null){for(;le<j.length;le++)Z=B(O,j[le],k),Z!==null&&(w=c(Z,w,le),pe===null?F=Z:pe.sibling=Z,pe=Z);return ye&&nn(O,le),F}for(Z=i(Z);le<j.length;le++)me=x(Z,O,le,j[le],k),me!==null&&(e&&me.alternate!==null&&Z.delete(me.key===null?le:me.key),w=c(me,w,le),pe===null?F=me:pe.sibling=me,pe=me);return e&&Z.forEach(function(Gn){return t(O,Gn)}),ye&&nn(O,le),F}function ee(O,w,j,k){if(j==null)throw Error(s(151));for(var F=null,pe=null,Z=w,le=w=0,me=null,be=j.next();Z!==null&&!be.done;le++,be=j.next()){Z.index>le?(me=Z,Z=null):me=Z.sibling;var Gn=C(O,Z,be.value,k);if(Gn===null){Z===null&&(Z=me);break}e&&Z&&Gn.alternate===null&&t(O,Z),w=c(Gn,w,le),pe===null?F=Gn:pe.sibling=Gn,pe=Gn,Z=me}if(be.done)return n(O,Z),ye&&nn(O,le),F;if(Z===null){for(;!be.done;le++,be=j.next())be=B(O,be.value,k),be!==null&&(w=c(be,w,le),pe===null?F=be:pe.sibling=be,pe=be);return ye&&nn(O,le),F}for(Z=i(Z);!be.done;le++,be=j.next())be=x(Z,O,le,be.value,k),be!==null&&(e&&be.alternate!==null&&Z.delete(be.key===null?le:be.key),w=c(be,w,le),pe===null?F=be:pe.sibling=be,pe=be);return e&&Z.forEach(function(_0){return t(O,_0)}),ye&&nn(O,le),F}function je(O,w,j,k){if(typeof j=="object"&&j!==null&&j.type===N&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case E:e:{for(var F=j.key;w!==null;){if(w.key===F){if(F=j.type,F===N){if(w.tag===7){n(O,w.sibling),k=u(w,j.props.children),k.return=O,O=k;break e}}else if(w.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===ve&&ia(F)===w.type){n(O,w.sibling),k=u(w,j.props),zi(k,j),k.return=O,O=k;break e}n(O,w);break}else t(O,w);w=w.sibling}j.type===N?(k=Wn(j.props.children,O.mode,k,j.key),k.return=O,O=k):(k=Lr(j.type,j.key,j.props,null,O.mode,k),zi(k,j),k.return=O,O=k)}return d(O);case D:e:{for(F=j.key;w!==null;){if(w.key===F)if(w.tag===4&&w.stateNode.containerInfo===j.containerInfo&&w.stateNode.implementation===j.implementation){n(O,w.sibling),k=u(w,j.children||[]),k.return=O,O=k;break e}else{n(O,w);break}else t(O,w);w=w.sibling}k=Ll(j,O.mode,k),k.return=O,O=k}return d(O);case ve:return j=ia(j),je(O,w,j,k)}if(Rt(j))return Q(O,w,j,k);if(nt(j)){if(F=nt(j),typeof F!="function")throw Error(s(150));return j=F.call(j),ee(O,w,j,k)}if(typeof j.then=="function")return je(O,w,Qr(j),k);if(j.$$typeof===H)return je(O,w,Gr(O,j),k);Xr(O,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,w!==null&&w.tag===6?(n(O,w.sibling),k=u(w,j),k.return=O,O=k):(n(O,w),k=ql(j,O.mode,k),k.return=O,O=k),d(O)):n(O,w)}return function(O,w,j,k){try{Di=0;var F=je(O,w,j,k);return La=null,F}catch(Z){if(Z===qa||Z===Yr)throw Z;var pe=bt(29,Z,null,O.mode);return pe.lanes=k,pe.return=O,pe}finally{}}}var sa=jf(!0),Rf=jf(!1),On=!1;function Fl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Pl(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function An(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function jn(e,t,n){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,(_e&2)!==0){var u=i.pending;return u===null?t.next=t:(t.next=u.next,u.next=t),i.pending=t,t=qr(e),ff(e,null,n),t}return Br(e,i,t,n),qr(e)}function Mi(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,pc(e,n)}}function Wl(e,t){var n=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var u=null,c=null;if(n=n.firstBaseUpdate,n!==null){do{var d={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};c===null?u=c=d:c=c.next=d,n=n.next}while(n!==null);c===null?u=c=t:c=c.next=t}else u=c=t;n={baseState:i.baseState,firstBaseUpdate:u,lastBaseUpdate:c,shared:i.shared,callbacks:i.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var eu=!1;function ki(){if(eu){var e=Ba;if(e!==null)throw e}}function Bi(e,t,n,i){eu=!1;var u=e.updateQueue;On=!1;var c=u.firstBaseUpdate,d=u.lastBaseUpdate,y=u.shared.pending;if(y!==null){u.shared.pending=null;var p=y,R=p.next;p.next=null,d===null?c=R:d.next=R,d=p;var z=e.alternate;z!==null&&(z=z.updateQueue,y=z.lastBaseUpdate,y!==d&&(y===null?z.firstBaseUpdate=R:y.next=R,z.lastBaseUpdate=p))}if(c!==null){var B=u.baseState;d=0,z=R=p=null,y=c;do{var C=y.lane&-536870913,x=C!==y.lane;if(x?(ge&C)===C:(i&C)===C){C!==0&&C===ka&&(eu=!0),z!==null&&(z=z.next={lane:0,tag:y.tag,payload:y.payload,callback:null,next:null});e:{var Q=e,ee=y;C=t;var je=n;switch(ee.tag){case 1:if(Q=ee.payload,typeof Q=="function"){B=Q.call(je,B,C);break e}B=Q;break e;case 3:Q.flags=Q.flags&-65537|128;case 0:if(Q=ee.payload,C=typeof Q=="function"?Q.call(je,B,C):Q,C==null)break e;B=_({},B,C);break e;case 2:On=!0}}C=y.callback,C!==null&&(e.flags|=64,x&&(e.flags|=8192),x=u.callbacks,x===null?u.callbacks=[C]:x.push(C))}else x={lane:C,tag:y.tag,payload:y.payload,callback:y.callback,next:null},z===null?(R=z=x,p=B):z=z.next=x,d|=C;if(y=y.next,y===null){if(y=u.shared.pending,y===null)break;x=y,y=x.next,x.next=null,u.lastBaseUpdate=x,u.shared.pending=null}}while(!0);z===null&&(p=B),u.baseState=p,u.firstBaseUpdate=R,u.lastBaseUpdate=z,c===null&&(u.shared.lanes=0),xn|=d,e.lanes=d,e.memoizedState=B}}function Cf(e,t){if(typeof e!="function")throw Error(s(191,e));e.call(t)}function Nf(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)Cf(n[e],t)}var Ha=S(null),Jr=S(0);function Uf(e,t){e=gn,Y(Jr,e),Y(Ha,t),gn=e|t.baseLanes}function tu(){Y(Jr,gn),Y(Ha,Ha.current)}function nu(){gn=Jr.current,L(Ha),L(Jr)}var _t=S(null),kt=null;function Rn(e){var t=e.alternate;Y(Be,Be.current&1),Y(_t,e),kt===null&&(t===null||Ha.current!==null||t.memoizedState!==null)&&(kt=e)}function au(e){Y(Be,Be.current),Y(_t,e),kt===null&&(kt=e)}function xf(e){e.tag===22?(Y(Be,Be.current),Y(_t,e),kt===null&&(kt=e)):Cn()}function Cn(){Y(Be,Be.current),Y(_t,_t.current)}function St(e){L(_t),kt===e&&(kt=null),L(Be)}var Be=S(0);function Zr(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||oo(n)||co(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var sn=0,se=null,Oe=null,He=null,Ir=!1,$a=!1,la=!1,Fr=0,qi=0,Ga=null,cy=0;function ze(){throw Error(s(321))}function iu(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!pt(e[n],t[n]))return!1;return!0}function ru(e,t,n,i,u,c){return sn=c,se=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,M.H=e===null||e.memoizedState===null?mh:_u,la=!1,c=n(i,u),la=!1,$a&&(c=zf(t,n,i,u)),Df(e),c}function Df(e){M.H=$i;var t=Oe!==null&&Oe.next!==null;if(sn=0,He=Oe=se=null,Ir=!1,qi=0,Ga=null,t)throw Error(s(300));e===null||$e||(e=e.dependencies,e!==null&&$r(e)&&($e=!0))}function zf(e,t,n,i){se=e;var u=0;do{if($a&&(Ga=null),qi=0,$a=!1,25<=u)throw Error(s(301));if(u+=1,He=Oe=null,e.updateQueue!=null){var c=e.updateQueue;c.lastEffect=null,c.events=null,c.stores=null,c.memoCache!=null&&(c.memoCache.index=0)}M.H=vh,c=t(n,i)}while($a);return c}function fy(){var e=M.H,t=e.useState()[0];return t=typeof t.then=="function"?Li(t):t,e=e.useState()[0],(Oe!==null?Oe.memoizedState:null)!==e&&(se.flags|=1024),t}function su(){var e=Fr!==0;return Fr=0,e}function lu(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function uu(e){if(Ir){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Ir=!1}sn=0,He=Oe=se=null,$a=!1,qi=Fr=0,Ga=null}function lt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return He===null?se.memoizedState=He=e:He=He.next=e,He}function qe(){if(Oe===null){var e=se.alternate;e=e!==null?e.memoizedState:null}else e=Oe.next;var t=He===null?se.memoizedState:He.next;if(t!==null)He=t,Oe=e;else{if(e===null)throw se.alternate===null?Error(s(467)):Error(s(310));Oe=e,e={memoizedState:Oe.memoizedState,baseState:Oe.baseState,baseQueue:Oe.baseQueue,queue:Oe.queue,next:null},He===null?se.memoizedState=He=e:He=He.next=e}return He}function Pr(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Li(e){var t=qi;return qi+=1,Ga===null&&(Ga=[]),e=Tf(Ga,e,t),t=se,(He===null?t.memoizedState:He.next)===null&&(t=t.alternate,M.H=t===null||t.memoizedState===null?mh:_u),e}function Wr(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Li(e);if(e.$$typeof===H)return Fe(e)}throw Error(s(438,String(e)))}function ou(e){var t=null,n=se.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var i=se.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(t={data:i.data.map(function(u){return u.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=Pr(),se.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),i=0;i<e;i++)n[i]=rt;return t.index++,n}function ln(e,t){return typeof t=="function"?t(e):t}function es(e){var t=qe();return cu(t,Oe,e)}function cu(e,t,n){var i=e.queue;if(i===null)throw Error(s(311));i.lastRenderedReducer=n;var u=e.baseQueue,c=i.pending;if(c!==null){if(u!==null){var d=u.next;u.next=c.next,c.next=d}t.baseQueue=u=c,i.pending=null}if(c=e.baseState,u===null)e.memoizedState=c;else{t=u.next;var y=d=null,p=null,R=t,z=!1;do{var B=R.lane&-536870913;if(B!==R.lane?(ge&B)===B:(sn&B)===B){var C=R.revertLane;if(C===0)p!==null&&(p=p.next={lane:0,revertLane:0,gesture:null,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null}),B===ka&&(z=!0);else if((sn&C)===C){R=R.next,C===ka&&(z=!0);continue}else B={lane:0,revertLane:R.revertLane,gesture:null,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null},p===null?(y=p=B,d=c):p=p.next=B,se.lanes|=C,xn|=C;B=R.action,la&&n(c,B),c=R.hasEagerState?R.eagerState:n(c,B)}else C={lane:B,revertLane:R.revertLane,gesture:R.gesture,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null},p===null?(y=p=C,d=c):p=p.next=C,se.lanes|=B,xn|=B;R=R.next}while(R!==null&&R!==t);if(p===null?d=c:p.next=y,!pt(c,e.memoizedState)&&($e=!0,z&&(n=Ba,n!==null)))throw n;e.memoizedState=c,e.baseState=d,e.baseQueue=p,i.lastRenderedState=c}return u===null&&(i.lanes=0),[e.memoizedState,i.dispatch]}function fu(e){var t=qe(),n=t.queue;if(n===null)throw Error(s(311));n.lastRenderedReducer=e;var i=n.dispatch,u=n.pending,c=t.memoizedState;if(u!==null){n.pending=null;var d=u=u.next;do c=e(c,d.action),d=d.next;while(d!==u);pt(c,t.memoizedState)||($e=!0),t.memoizedState=c,t.baseQueue===null&&(t.baseState=c),n.lastRenderedState=c}return[c,i]}function Mf(e,t,n){var i=se,u=qe(),c=ye;if(c){if(n===void 0)throw Error(s(407));n=n()}else n=t();var d=!pt((Oe||u).memoizedState,n);if(d&&(u.memoizedState=n,$e=!0),u=u.queue,gu(qf.bind(null,i,u,e),[e]),u.getSnapshot!==t||d||He!==null&&He.memoizedState.tag&1){if(i.flags|=2048,Va(9,{destroy:void 0},Bf.bind(null,i,u,n,t),null),Re===null)throw Error(s(349));c||(sn&127)!==0||kf(i,t,n)}return n}function kf(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=se.updateQueue,t===null?(t=Pr(),se.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Bf(e,t,n,i){t.value=n,t.getSnapshot=i,Lf(t)&&Hf(e)}function qf(e,t,n){return n(function(){Lf(t)&&Hf(e)})}function Lf(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!pt(e,n)}catch{return!0}}function Hf(e){var t=Pn(e,2);t!==null&&gt(t,e,2)}function hu(e){var t=lt();if(typeof e=="function"){var n=e;if(e=n(),la){pn(!0);try{n()}finally{pn(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ln,lastRenderedState:e},t}function $f(e,t,n,i){return e.baseState=n,cu(e,Oe,typeof i=="function"?i:ln)}function hy(e,t,n,i,u){if(as(e))throw Error(s(485));if(e=t.action,e!==null){var c={payload:u,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(d){c.listeners.push(d)}};M.T!==null?n(!0):c.isTransition=!1,i(c),n=t.pending,n===null?(c.next=t.pending=c,Gf(t,c)):(c.next=n.next,t.pending=n.next=c)}}function Gf(e,t){var n=t.action,i=t.payload,u=e.state;if(t.isTransition){var c=M.T,d={};M.T=d;try{var y=n(u,i),p=M.S;p!==null&&p(d,y),Vf(e,t,y)}catch(R){du(e,t,R)}finally{c!==null&&d.types!==null&&(c.types=d.types),M.T=c}}else try{c=n(u,i),Vf(e,t,c)}catch(R){du(e,t,R)}}function Vf(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(i){Yf(e,t,i)},function(i){return du(e,t,i)}):Yf(e,t,n)}function Yf(e,t,n){t.status="fulfilled",t.value=n,Kf(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,Gf(e,n)))}function du(e,t,n){var i=e.pending;if(e.pending=null,i!==null){i=i.next;do t.status="rejected",t.reason=n,Kf(t),t=t.next;while(t!==i)}e.action=null}function Kf(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Qf(e,t){return t}function Xf(e,t){if(ye){var n=Re.formState;if(n!==null){e:{var i=se;if(ye){if(Ne){t:{for(var u=Ne,c=Mt;u.nodeType!==8;){if(!c){u=null;break t}if(u=Bt(u.nextSibling),u===null){u=null;break t}}c=u.data,u=c==="F!"||c==="F"?u:null}if(u){Ne=Bt(u.nextSibling),i=u.data==="F!";break e}}En(i)}i=!1}i&&(t=n[0])}}return n=lt(),n.memoizedState=n.baseState=t,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qf,lastRenderedState:t},n.queue=i,n=hh.bind(null,se,i),i.dispatch=n,i=hu(!1),c=bu.bind(null,se,!1,i.queue),i=lt(),u={state:t,dispatch:null,action:e,pending:null},i.queue=u,n=hy.bind(null,se,u,c,n),u.dispatch=n,i.memoizedState=e,[t,n,!1]}function Jf(e){var t=qe();return Zf(t,Oe,e)}function Zf(e,t,n){if(t=cu(e,t,Qf)[0],e=es(ln)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var i=Li(t)}catch(d){throw d===qa?Yr:d}else i=t;t=qe();var u=t.queue,c=u.dispatch;return n!==t.memoizedState&&(se.flags|=2048,Va(9,{destroy:void 0},dy.bind(null,u,n),null)),[i,c,e]}function dy(e,t){e.action=t}function If(e){var t=qe(),n=Oe;if(n!==null)return Zf(t,n,e);qe(),t=t.memoizedState,n=qe();var i=n.queue.dispatch;return n.memoizedState=e,[t,i,!1]}function Va(e,t,n,i){return e={tag:e,create:n,deps:i,inst:t,next:null},t=se.updateQueue,t===null&&(t=Pr(),se.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function Ff(){return qe().memoizedState}function ts(e,t,n,i){var u=lt();se.flags|=e,u.memoizedState=Va(1|t,{destroy:void 0},n,i===void 0?null:i)}function ns(e,t,n,i){var u=qe();i=i===void 0?null:i;var c=u.memoizedState.inst;Oe!==null&&i!==null&&iu(i,Oe.memoizedState.deps)?u.memoizedState=Va(t,c,n,i):(se.flags|=e,u.memoizedState=Va(1|t,c,n,i))}function Pf(e,t){ts(8390656,8,e,t)}function gu(e,t){ns(2048,8,e,t)}function gy(e){se.flags|=4;var t=se.updateQueue;if(t===null)t=Pr(),se.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function Wf(e){var t=qe().memoizedState;return gy({ref:t,nextImpl:e}),function(){if((_e&2)!==0)throw Error(s(440));return t.impl.apply(void 0,arguments)}}function eh(e,t){return ns(4,2,e,t)}function th(e,t){return ns(4,4,e,t)}function nh(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function ah(e,t,n){n=n!=null?n.concat([e]):null,ns(4,4,nh.bind(null,t,e),n)}function mu(){}function ih(e,t){var n=qe();t=t===void 0?null:t;var i=n.memoizedState;return t!==null&&iu(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function rh(e,t){var n=qe();t=t===void 0?null:t;var i=n.memoizedState;if(t!==null&&iu(t,i[1]))return i[0];if(i=e(),la){pn(!0);try{e()}finally{pn(!1)}}return n.memoizedState=[i,t],i}function vu(e,t,n){return n===void 0||(sn&1073741824)!==0&&(ge&261930)===0?e.memoizedState=t:(e.memoizedState=n,e=sd(),se.lanes|=e,xn|=e,n)}function sh(e,t,n,i){return pt(n,t)?n:Ha.current!==null?(e=vu(e,n,i),pt(e,t)||($e=!0),e):(sn&42)===0||(sn&1073741824)!==0&&(ge&261930)===0?($e=!0,e.memoizedState=n):(e=sd(),se.lanes|=e,xn|=e,t)}function lh(e,t,n,i,u){var c=V.p;V.p=c!==0&&8>c?c:8;var d=M.T,y={};M.T=y,bu(e,!1,t,n);try{var p=u(),R=M.S;if(R!==null&&R(y,p),p!==null&&typeof p=="object"&&typeof p.then=="function"){var z=oy(p,i);Hi(e,t,z,Tt(e))}else Hi(e,t,i,Tt(e))}catch(B){Hi(e,t,{then:function(){},status:"rejected",reason:B},Tt())}finally{V.p=c,d!==null&&y.types!==null&&(d.types=y.types),M.T=d}}function my(){}function yu(e,t,n,i){if(e.tag!==5)throw Error(s(476));var u=uh(e).queue;lh(e,u,t,W,n===null?my:function(){return oh(e),n(i)})}function uh(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:W,baseState:W,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ln,lastRenderedState:W},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ln,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function oh(e){var t=uh(e);t.next===null&&(t=e.alternate.memoizedState),Hi(e,t.next.queue,{},Tt())}function pu(){return Fe(ar)}function ch(){return qe().memoizedState}function fh(){return qe().memoizedState}function vy(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=Tt();e=An(n);var i=jn(t,e,n);i!==null&&(gt(i,t,n),Mi(i,t,n)),t={cache:Xl()},e.payload=t;return}t=t.return}}function yy(e,t,n){var i=Tt();n={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},as(e)?dh(t,n):(n=kl(e,t,n,i),n!==null&&(gt(n,e,i),gh(n,t,i)))}function hh(e,t,n){var i=Tt();Hi(e,t,n,i)}function Hi(e,t,n,i){var u={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(as(e))dh(t,u);else{var c=e.alternate;if(e.lanes===0&&(c===null||c.lanes===0)&&(c=t.lastRenderedReducer,c!==null))try{var d=t.lastRenderedState,y=c(d,n);if(u.hasEagerState=!0,u.eagerState=y,pt(y,d))return Br(e,t,u,0),Re===null&&kr(),!1}catch{}finally{}if(n=kl(e,t,u,i),n!==null)return gt(n,e,i),gh(n,t,i),!0}return!1}function bu(e,t,n,i){if(i={lane:2,revertLane:Fu(),gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},as(e)){if(t)throw Error(s(479))}else t=kl(e,n,i,2),t!==null&&gt(t,e,2)}function as(e){var t=e.alternate;return e===se||t!==null&&t===se}function dh(e,t){$a=Ir=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function gh(e,t,n){if((n&4194048)!==0){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,pc(e,n)}}var $i={readContext:Fe,use:Wr,useCallback:ze,useContext:ze,useEffect:ze,useImperativeHandle:ze,useLayoutEffect:ze,useInsertionEffect:ze,useMemo:ze,useReducer:ze,useRef:ze,useState:ze,useDebugValue:ze,useDeferredValue:ze,useTransition:ze,useSyncExternalStore:ze,useId:ze,useHostTransitionStatus:ze,useFormState:ze,useActionState:ze,useOptimistic:ze,useMemoCache:ze,useCacheRefresh:ze};$i.useEffectEvent=ze;var mh={readContext:Fe,use:Wr,useCallback:function(e,t){return lt().memoizedState=[e,t===void 0?null:t],e},useContext:Fe,useEffect:Pf,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,ts(4194308,4,nh.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ts(4194308,4,e,t)},useInsertionEffect:function(e,t){ts(4,2,e,t)},useMemo:function(e,t){var n=lt();t=t===void 0?null:t;var i=e();if(la){pn(!0);try{e()}finally{pn(!1)}}return n.memoizedState=[i,t],i},useReducer:function(e,t,n){var i=lt();if(n!==void 0){var u=n(t);if(la){pn(!0);try{n(t)}finally{pn(!1)}}}else u=t;return i.memoizedState=i.baseState=u,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:u},i.queue=e,e=e.dispatch=yy.bind(null,se,e),[i.memoizedState,e]},useRef:function(e){var t=lt();return e={current:e},t.memoizedState=e},useState:function(e){e=hu(e);var t=e.queue,n=hh.bind(null,se,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:mu,useDeferredValue:function(e,t){var n=lt();return vu(n,e,t)},useTransition:function(){var e=hu(!1);return e=lh.bind(null,se,e.queue,!0,!1),lt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var i=se,u=lt();if(ye){if(n===void 0)throw Error(s(407));n=n()}else{if(n=t(),Re===null)throw Error(s(349));(ge&127)!==0||kf(i,t,n)}u.memoizedState=n;var c={value:n,getSnapshot:t};return u.queue=c,Pf(qf.bind(null,i,c,e),[e]),i.flags|=2048,Va(9,{destroy:void 0},Bf.bind(null,i,c,n,t),null),n},useId:function(){var e=lt(),t=Re.identifierPrefix;if(ye){var n=Jt,i=Xt;n=(i&~(1<<32-yt(i)-1)).toString(32)+n,t="_"+t+"R_"+n,n=Fr++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=cy++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:pu,useFormState:Xf,useActionState:Xf,useOptimistic:function(e){var t=lt();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=bu.bind(null,se,!0,n),n.dispatch=t,[e,t]},useMemoCache:ou,useCacheRefresh:function(){return lt().memoizedState=vy.bind(null,se)},useEffectEvent:function(e){var t=lt(),n={impl:e};return t.memoizedState=n,function(){if((_e&2)!==0)throw Error(s(440));return n.impl.apply(void 0,arguments)}}},_u={readContext:Fe,use:Wr,useCallback:ih,useContext:Fe,useEffect:gu,useImperativeHandle:ah,useInsertionEffect:eh,useLayoutEffect:th,useMemo:rh,useReducer:es,useRef:Ff,useState:function(){return es(ln)},useDebugValue:mu,useDeferredValue:function(e,t){var n=qe();return sh(n,Oe.memoizedState,e,t)},useTransition:function(){var e=es(ln)[0],t=qe().memoizedState;return[typeof e=="boolean"?e:Li(e),t]},useSyncExternalStore:Mf,useId:ch,useHostTransitionStatus:pu,useFormState:Jf,useActionState:Jf,useOptimistic:function(e,t){var n=qe();return $f(n,Oe,e,t)},useMemoCache:ou,useCacheRefresh:fh};_u.useEffectEvent=Wf;var vh={readContext:Fe,use:Wr,useCallback:ih,useContext:Fe,useEffect:gu,useImperativeHandle:ah,useInsertionEffect:eh,useLayoutEffect:th,useMemo:rh,useReducer:fu,useRef:Ff,useState:function(){return fu(ln)},useDebugValue:mu,useDeferredValue:function(e,t){var n=qe();return Oe===null?vu(n,e,t):sh(n,Oe.memoizedState,e,t)},useTransition:function(){var e=fu(ln)[0],t=qe().memoizedState;return[typeof e=="boolean"?e:Li(e),t]},useSyncExternalStore:Mf,useId:ch,useHostTransitionStatus:pu,useFormState:If,useActionState:If,useOptimistic:function(e,t){var n=qe();return Oe!==null?$f(n,Oe,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:ou,useCacheRefresh:fh};vh.useEffectEvent=Wf;function Su(e,t,n,i){t=e.memoizedState,n=n(i,t),n=n==null?t:_({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var wu={enqueueSetState:function(e,t,n){e=e._reactInternals;var i=Tt(),u=An(i);u.payload=t,n!=null&&(u.callback=n),t=jn(e,u,i),t!==null&&(gt(t,e,i),Mi(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=Tt(),u=An(i);u.tag=1,u.payload=t,n!=null&&(u.callback=n),t=jn(e,u,i),t!==null&&(gt(t,e,i),Mi(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Tt(),i=An(n);i.tag=2,t!=null&&(i.callback=t),t=jn(e,i,n),t!==null&&(gt(t,e,n),Mi(t,e,n))}};function yh(e,t,n,i,u,c,d){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,c,d):t.prototype&&t.prototype.isPureReactComponent?!ji(n,i)||!ji(u,c):!0}function ph(e,t,n,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&wu.enqueueReplaceState(t,t.state,null)}function ua(e,t){var n=t;if("ref"in t){n={};for(var i in t)i!=="ref"&&(n[i]=t[i])}if(e=e.defaultProps){n===t&&(n=_({},n));for(var u in e)n[u]===void 0&&(n[u]=e[u])}return n}function bh(e){Mr(e)}function _h(e){console.error(e)}function Sh(e){Mr(e)}function is(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(i){setTimeout(function(){throw i})}}function wh(e,t,n){try{var i=e.onCaughtError;i(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function Eu(e,t,n){return n=An(n),n.tag=3,n.payload={element:null},n.callback=function(){is(e,t)},n}function Eh(e){return e=An(e),e.tag=3,e}function Th(e,t,n,i){var u=n.type.getDerivedStateFromError;if(typeof u=="function"){var c=i.value;e.payload=function(){return u(c)},e.callback=function(){wh(t,n,i)}}var d=n.stateNode;d!==null&&typeof d.componentDidCatch=="function"&&(e.callback=function(){wh(t,n,i),typeof u!="function"&&(Dn===null?Dn=new Set([this]):Dn.add(this));var y=i.stack;this.componentDidCatch(i.value,{componentStack:y!==null?y:""})})}function py(e,t,n,i,u){if(n.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(t=n.alternate,t!==null&&Ma(t,n,u,!0),n=_t.current,n!==null){switch(n.tag){case 31:case 13:return kt===null?vs():n.alternate===null&&Me===0&&(Me=3),n.flags&=-257,n.flags|=65536,n.lanes=u,i===Kr?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([i]):t.add(i),Ju(e,i,u)),!1;case 22:return n.flags|=65536,i===Kr?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([i]):n.add(i)),Ju(e,i,u)),!1}throw Error(s(435,n.tag))}return Ju(e,i,u),vs(),!1}if(ye)return t=_t.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=u,i!==Gl&&(e=Error(s(422),{cause:i}),Ni(xt(e,n)))):(i!==Gl&&(t=Error(s(423),{cause:i}),Ni(xt(t,n))),e=e.current.alternate,e.flags|=65536,u&=-u,e.lanes|=u,i=xt(i,n),u=Eu(e.stateNode,i,u),Wl(e,u),Me!==4&&(Me=2)),!1;var c=Error(s(520),{cause:i});if(c=xt(c,n),Zi===null?Zi=[c]:Zi.push(c),Me!==4&&(Me=2),t===null)return!0;i=xt(i,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=u&-u,n.lanes|=e,e=Eu(n.stateNode,i,e),Wl(n,e),!1;case 1:if(t=n.type,c=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||c!==null&&typeof c.componentDidCatch=="function"&&(Dn===null||!Dn.has(c))))return n.flags|=65536,u&=-u,n.lanes|=u,u=Eh(u),Th(u,e,n,i),Wl(n,u),!1}n=n.return}while(n!==null);return!1}var Tu=Error(s(461)),$e=!1;function Pe(e,t,n,i){t.child=e===null?Rf(t,null,n,i):sa(t,e.child,n,i)}function Oh(e,t,n,i,u){n=n.render;var c=t.ref;if("ref"in i){var d={};for(var y in i)y!=="ref"&&(d[y]=i[y])}else d=i;return na(t),i=ru(e,t,n,d,c,u),y=su(),e!==null&&!$e?(lu(e,t,u),un(e,t,u)):(ye&&y&&Hl(t),t.flags|=1,Pe(e,t,i,u),t.child)}function Ah(e,t,n,i,u){if(e===null){var c=n.type;return typeof c=="function"&&!Bl(c)&&c.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=c,jh(e,t,c,i,u)):(e=Lr(n.type,null,i,t,t.mode,u),e.ref=t.ref,e.return=t,t.child=e)}if(c=e.child,!xu(e,u)){var d=c.memoizedProps;if(n=n.compare,n=n!==null?n:ji,n(d,i)&&e.ref===t.ref)return un(e,t,u)}return t.flags|=1,e=tn(c,i),e.ref=t.ref,e.return=t,t.child=e}function jh(e,t,n,i,u){if(e!==null){var c=e.memoizedProps;if(ji(c,i)&&e.ref===t.ref)if($e=!1,t.pendingProps=i=c,xu(e,u))(e.flags&131072)!==0&&($e=!0);else return t.lanes=e.lanes,un(e,t,u)}return Ou(e,t,n,i,u)}function Rh(e,t,n,i){var u=i.children,c=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.mode==="hidden"){if((t.flags&128)!==0){if(c=c!==null?c.baseLanes|n:n,e!==null){for(i=t.child=e.child,u=0;i!==null;)u=u|i.lanes|i.childLanes,i=i.sibling;i=u&~c}else i=0,t.child=null;return Ch(e,t,c,n,i)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Vr(t,c!==null?c.cachePool:null),c!==null?Uf(t,c):tu(),xf(t);else return i=t.lanes=536870912,Ch(e,t,c!==null?c.baseLanes|n:n,n,i)}else c!==null?(Vr(t,c.cachePool),Uf(t,c),Cn(),t.memoizedState=null):(e!==null&&Vr(t,null),tu(),Cn());return Pe(e,t,u,n),t.child}function Gi(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Ch(e,t,n,i,u){var c=Zl();return c=c===null?null:{parent:Le._currentValue,pool:c},t.memoizedState={baseLanes:n,cachePool:c},e!==null&&Vr(t,null),tu(),xf(t),e!==null&&Ma(e,t,i,!0),t.childLanes=u,null}function rs(e,t){return t=ls({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Nh(e,t,n){return sa(t,e.child,null,n),e=rs(t,t.pendingProps),e.flags|=2,St(t),t.memoizedState=null,e}function by(e,t,n){var i=t.pendingProps,u=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(ye){if(i.mode==="hidden")return e=rs(t,i),t.lanes=536870912,Gi(null,e);if(au(t),(e=Ne)?(e=Gd(e,Mt),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Sn!==null?{id:Xt,overflow:Jt}:null,retryLane:536870912,hydrationErrors:null},n=df(e),n.return=t,t.child=n,Ie=t,Ne=null)):e=null,e===null)throw En(t);return t.lanes=536870912,null}return rs(t,i)}var c=e.memoizedState;if(c!==null){var d=c.dehydrated;if(au(t),u)if(t.flags&256)t.flags&=-257,t=Nh(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(s(558));else if($e||Ma(e,t,n,!1),u=(n&e.childLanes)!==0,$e||u){if(i=Re,i!==null&&(d=bc(i,n),d!==0&&d!==c.retryLane))throw c.retryLane=d,Pn(e,d),gt(i,e,d),Tu;vs(),t=Nh(e,t,n)}else e=c.treeContext,Ne=Bt(d.nextSibling),Ie=t,ye=!0,wn=null,Mt=!1,e!==null&&vf(t,e),t=rs(t,i),t.flags|=4096;return t}return e=tn(e.child,{mode:i.mode,children:i.children}),e.ref=t.ref,t.child=e,e.return=t,e}function ss(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(s(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function Ou(e,t,n,i,u){return na(t),n=ru(e,t,n,i,void 0,u),i=su(),e!==null&&!$e?(lu(e,t,u),un(e,t,u)):(ye&&i&&Hl(t),t.flags|=1,Pe(e,t,n,u),t.child)}function Uh(e,t,n,i,u,c){return na(t),t.updateQueue=null,n=zf(t,i,n,u),Df(e),i=su(),e!==null&&!$e?(lu(e,t,c),un(e,t,c)):(ye&&i&&Hl(t),t.flags|=1,Pe(e,t,n,c),t.child)}function xh(e,t,n,i,u){if(na(t),t.stateNode===null){var c=Ua,d=n.contextType;typeof d=="object"&&d!==null&&(c=Fe(d)),c=new n(i,c),t.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=wu,t.stateNode=c,c._reactInternals=t,c=t.stateNode,c.props=i,c.state=t.memoizedState,c.refs={},Fl(t),d=n.contextType,c.context=typeof d=="object"&&d!==null?Fe(d):Ua,c.state=t.memoizedState,d=n.getDerivedStateFromProps,typeof d=="function"&&(Su(t,n,d,i),c.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(d=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),d!==c.state&&wu.enqueueReplaceState(c,c.state,null),Bi(t,i,c,u),ki(),c.state=t.memoizedState),typeof c.componentDidMount=="function"&&(t.flags|=4194308),i=!0}else if(e===null){c=t.stateNode;var y=t.memoizedProps,p=ua(n,y);c.props=p;var R=c.context,z=n.contextType;d=Ua,typeof z=="object"&&z!==null&&(d=Fe(z));var B=n.getDerivedStateFromProps;z=typeof B=="function"||typeof c.getSnapshotBeforeUpdate=="function",y=t.pendingProps!==y,z||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(y||R!==d)&&ph(t,c,i,d),On=!1;var C=t.memoizedState;c.state=C,Bi(t,i,c,u),ki(),R=t.memoizedState,y||C!==R||On?(typeof B=="function"&&(Su(t,n,B,i),R=t.memoizedState),(p=On||yh(t,n,p,i,C,R,d))?(z||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount()),typeof c.componentDidMount=="function"&&(t.flags|=4194308)):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=R),c.props=i,c.state=R,c.context=d,i=p):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{c=t.stateNode,Pl(e,t),d=t.memoizedProps,z=ua(n,d),c.props=z,B=t.pendingProps,C=c.context,R=n.contextType,p=Ua,typeof R=="object"&&R!==null&&(p=Fe(R)),y=n.getDerivedStateFromProps,(R=typeof y=="function"||typeof c.getSnapshotBeforeUpdate=="function")||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(d!==B||C!==p)&&ph(t,c,i,p),On=!1,C=t.memoizedState,c.state=C,Bi(t,i,c,u),ki();var x=t.memoizedState;d!==B||C!==x||On||e!==null&&e.dependencies!==null&&$r(e.dependencies)?(typeof y=="function"&&(Su(t,n,y,i),x=t.memoizedState),(z=On||yh(t,n,z,i,C,x,p)||e!==null&&e.dependencies!==null&&$r(e.dependencies))?(R||typeof c.UNSAFE_componentWillUpdate!="function"&&typeof c.componentWillUpdate!="function"||(typeof c.componentWillUpdate=="function"&&c.componentWillUpdate(i,x,p),typeof c.UNSAFE_componentWillUpdate=="function"&&c.UNSAFE_componentWillUpdate(i,x,p)),typeof c.componentDidUpdate=="function"&&(t.flags|=4),typeof c.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof c.componentDidUpdate!="function"||d===e.memoizedProps&&C===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||d===e.memoizedProps&&C===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=x),c.props=i,c.state=x,c.context=p,i=z):(typeof c.componentDidUpdate!="function"||d===e.memoizedProps&&C===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||d===e.memoizedProps&&C===e.memoizedState||(t.flags|=1024),i=!1)}return c=i,ss(e,t),i=(t.flags&128)!==0,c||i?(c=t.stateNode,n=i&&typeof n.getDerivedStateFromError!="function"?null:c.render(),t.flags|=1,e!==null&&i?(t.child=sa(t,e.child,null,u),t.child=sa(t,null,n,u)):Pe(e,t,n,u),t.memoizedState=c.state,e=t.child):e=un(e,t,u),e}function Dh(e,t,n,i){return ea(),t.flags|=256,Pe(e,t,n,i),t.child}var Au={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ju(e){return{baseLanes:e,cachePool:wf()}}function Ru(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=Et),e}function zh(e,t,n){var i=t.pendingProps,u=!1,c=(t.flags&128)!==0,d;if((d=c)||(d=e!==null&&e.memoizedState===null?!1:(Be.current&2)!==0),d&&(u=!0,t.flags&=-129),d=(t.flags&32)!==0,t.flags&=-33,e===null){if(ye){if(u?Rn(t):Cn(),(e=Ne)?(e=Gd(e,Mt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Sn!==null?{id:Xt,overflow:Jt}:null,retryLane:536870912,hydrationErrors:null},n=df(e),n.return=t,t.child=n,Ie=t,Ne=null)):e=null,e===null)throw En(t);return co(e)?t.lanes=32:t.lanes=536870912,null}var y=i.children;return i=i.fallback,u?(Cn(),u=t.mode,y=ls({mode:"hidden",children:y},u),i=Wn(i,u,n,null),y.return=t,i.return=t,y.sibling=i,t.child=y,i=t.child,i.memoizedState=ju(n),i.childLanes=Ru(e,d,n),t.memoizedState=Au,Gi(null,i)):(Rn(t),Cu(t,y))}var p=e.memoizedState;if(p!==null&&(y=p.dehydrated,y!==null)){if(c)t.flags&256?(Rn(t),t.flags&=-257,t=Nu(e,t,n)):t.memoizedState!==null?(Cn(),t.child=e.child,t.flags|=128,t=null):(Cn(),y=i.fallback,u=t.mode,i=ls({mode:"visible",children:i.children},u),y=Wn(y,u,n,null),y.flags|=2,i.return=t,y.return=t,i.sibling=y,t.child=i,sa(t,e.child,null,n),i=t.child,i.memoizedState=ju(n),i.childLanes=Ru(e,d,n),t.memoizedState=Au,t=Gi(null,i));else if(Rn(t),co(y)){if(d=y.nextSibling&&y.nextSibling.dataset,d)var R=d.dgst;d=R,i=Error(s(419)),i.stack="",i.digest=d,Ni({value:i,source:null,stack:null}),t=Nu(e,t,n)}else if($e||Ma(e,t,n,!1),d=(n&e.childLanes)!==0,$e||d){if(d=Re,d!==null&&(i=bc(d,n),i!==0&&i!==p.retryLane))throw p.retryLane=i,Pn(e,i),gt(d,e,i),Tu;oo(y)||vs(),t=Nu(e,t,n)}else oo(y)?(t.flags|=192,t.child=e.child,t=null):(e=p.treeContext,Ne=Bt(y.nextSibling),Ie=t,ye=!0,wn=null,Mt=!1,e!==null&&vf(t,e),t=Cu(t,i.children),t.flags|=4096);return t}return u?(Cn(),y=i.fallback,u=t.mode,p=e.child,R=p.sibling,i=tn(p,{mode:"hidden",children:i.children}),i.subtreeFlags=p.subtreeFlags&65011712,R!==null?y=tn(R,y):(y=Wn(y,u,n,null),y.flags|=2),y.return=t,i.return=t,i.sibling=y,t.child=i,Gi(null,i),i=t.child,y=e.child.memoizedState,y===null?y=ju(n):(u=y.cachePool,u!==null?(p=Le._currentValue,u=u.parent!==p?{parent:p,pool:p}:u):u=wf(),y={baseLanes:y.baseLanes|n,cachePool:u}),i.memoizedState=y,i.childLanes=Ru(e,d,n),t.memoizedState=Au,Gi(e.child,i)):(Rn(t),n=e.child,e=n.sibling,n=tn(n,{mode:"visible",children:i.children}),n.return=t,n.sibling=null,e!==null&&(d=t.deletions,d===null?(t.deletions=[e],t.flags|=16):d.push(e)),t.child=n,t.memoizedState=null,n)}function Cu(e,t){return t=ls({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function ls(e,t){return e=bt(22,e,null,t),e.lanes=0,e}function Nu(e,t,n){return sa(t,e.child,null,n),e=Cu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Mh(e,t,n){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),Kl(e.return,t,n)}function Uu(e,t,n,i,u,c){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:u,treeForkCount:c}:(d.isBackwards=t,d.rendering=null,d.renderingStartTime=0,d.last=i,d.tail=n,d.tailMode=u,d.treeForkCount=c)}function kh(e,t,n){var i=t.pendingProps,u=i.revealOrder,c=i.tail;i=i.children;var d=Be.current,y=(d&2)!==0;if(y?(d=d&1|2,t.flags|=128):d&=1,Y(Be,d),Pe(e,t,i,n),i=ye?Ci:0,!y&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Mh(e,n,t);else if(e.tag===19)Mh(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(u){case"forwards":for(n=t.child,u=null;n!==null;)e=n.alternate,e!==null&&Zr(e)===null&&(u=n),n=n.sibling;n=u,n===null?(u=t.child,t.child=null):(u=n.sibling,n.sibling=null),Uu(t,!1,u,n,c,i);break;case"backwards":case"unstable_legacy-backwards":for(n=null,u=t.child,t.child=null;u!==null;){if(e=u.alternate,e!==null&&Zr(e)===null){t.child=u;break}e=u.sibling,u.sibling=n,n=u,u=e}Uu(t,!0,n,null,c,i);break;case"together":Uu(t,!1,null,null,void 0,i);break;default:t.memoizedState=null}return t.child}function un(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),xn|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(Ma(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(s(153));if(t.child!==null){for(e=t.child,n=tn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=tn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function xu(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&$r(e)))}function _y(e,t,n){switch(t.tag){case 3:st(t,t.stateNode.containerInfo),Tn(t,Le,e.memoizedState.cache),ea();break;case 27:case 5:gi(t);break;case 4:st(t,t.stateNode.containerInfo);break;case 10:Tn(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,au(t),null;break;case 13:var i=t.memoizedState;if(i!==null)return i.dehydrated!==null?(Rn(t),t.flags|=128,null):(n&t.child.childLanes)!==0?zh(e,t,n):(Rn(t),e=un(e,t,n),e!==null?e.sibling:null);Rn(t);break;case 19:var u=(e.flags&128)!==0;if(i=(n&t.childLanes)!==0,i||(Ma(e,t,n,!1),i=(n&t.childLanes)!==0),u){if(i)return kh(e,t,n);t.flags|=128}if(u=t.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),Y(Be,Be.current),i)break;return null;case 22:return t.lanes=0,Rh(e,t,n,t.pendingProps);case 24:Tn(t,Le,e.memoizedState.cache)}return un(e,t,n)}function Bh(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)$e=!0;else{if(!xu(e,n)&&(t.flags&128)===0)return $e=!1,_y(e,t,n);$e=(e.flags&131072)!==0}else $e=!1,ye&&(t.flags&1048576)!==0&&mf(t,Ci,t.index);switch(t.lanes=0,t.tag){case 16:e:{var i=t.pendingProps;if(e=ia(t.elementType),t.type=e,typeof e=="function")Bl(e)?(i=ua(e,i),t.tag=1,t=xh(null,t,e,i,n)):(t.tag=0,t=Ou(null,t,e,i,n));else{if(e!=null){var u=e.$$typeof;if(u===K){t.tag=11,t=Oh(null,t,e,i,n);break e}else if(u===G){t.tag=14,t=Ah(null,t,e,i,n);break e}}throw t=Lt(e)||e,Error(s(306,t,""))}}return t;case 0:return Ou(e,t,t.type,t.pendingProps,n);case 1:return i=t.type,u=ua(i,t.pendingProps),xh(e,t,i,u,n);case 3:e:{if(st(t,t.stateNode.containerInfo),e===null)throw Error(s(387));i=t.pendingProps;var c=t.memoizedState;u=c.element,Pl(e,t),Bi(t,i,null,n);var d=t.memoizedState;if(i=d.cache,Tn(t,Le,i),i!==c.cache&&Ql(t,[Le],n,!0),ki(),i=d.element,c.isDehydrated)if(c={element:i,isDehydrated:!1,cache:d.cache},t.updateQueue.baseState=c,t.memoizedState=c,t.flags&256){t=Dh(e,t,i,n);break e}else if(i!==u){u=xt(Error(s(424)),t),Ni(u),t=Dh(e,t,i,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Ne=Bt(e.firstChild),Ie=t,ye=!0,wn=null,Mt=!0,n=Rf(t,null,i,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(ea(),i===u){t=un(e,t,n);break e}Pe(e,t,i,n)}t=t.child}return t;case 26:return ss(e,t),e===null?(n=Jd(t.type,null,t.pendingProps,null))?t.memoizedState=n:ye||(n=t.type,e=t.pendingProps,i=Es(fe.current).createElement(n),i[Ze]=t,i[ut]=e,We(i,n,e),Xe(i),t.stateNode=i):t.memoizedState=Jd(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return gi(t),e===null&&ye&&(i=t.stateNode=Kd(t.type,t.pendingProps,fe.current),Ie=t,Mt=!0,u=Ne,Bn(t.type)?(fo=u,Ne=Bt(i.firstChild)):Ne=u),Pe(e,t,t.pendingProps.children,n),ss(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&ye&&((u=i=Ne)&&(i=Iy(i,t.type,t.pendingProps,Mt),i!==null?(t.stateNode=i,Ie=t,Ne=Bt(i.firstChild),Mt=!1,u=!0):u=!1),u||En(t)),gi(t),u=t.type,c=t.pendingProps,d=e!==null?e.memoizedProps:null,i=c.children,so(u,c)?i=null:d!==null&&so(u,d)&&(t.flags|=32),t.memoizedState!==null&&(u=ru(e,t,fy,null,null,n),ar._currentValue=u),ss(e,t),Pe(e,t,i,n),t.child;case 6:return e===null&&ye&&((e=n=Ne)&&(n=Fy(n,t.pendingProps,Mt),n!==null?(t.stateNode=n,Ie=t,Ne=null,e=!0):e=!1),e||En(t)),null;case 13:return zh(e,t,n);case 4:return st(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=sa(t,null,i,n):Pe(e,t,i,n),t.child;case 11:return Oh(e,t,t.type,t.pendingProps,n);case 7:return Pe(e,t,t.pendingProps,n),t.child;case 8:return Pe(e,t,t.pendingProps.children,n),t.child;case 12:return Pe(e,t,t.pendingProps.children,n),t.child;case 10:return i=t.pendingProps,Tn(t,t.type,i.value),Pe(e,t,i.children,n),t.child;case 9:return u=t.type._context,i=t.pendingProps.children,na(t),u=Fe(u),i=i(u),t.flags|=1,Pe(e,t,i,n),t.child;case 14:return Ah(e,t,t.type,t.pendingProps,n);case 15:return jh(e,t,t.type,t.pendingProps,n);case 19:return kh(e,t,n);case 31:return by(e,t,n);case 22:return Rh(e,t,n,t.pendingProps);case 24:return na(t),i=Fe(Le),e===null?(u=Zl(),u===null&&(u=Re,c=Xl(),u.pooledCache=c,c.refCount++,c!==null&&(u.pooledCacheLanes|=n),u=c),t.memoizedState={parent:i,cache:u},Fl(t),Tn(t,Le,u)):((e.lanes&n)!==0&&(Pl(e,t),Bi(t,null,null,n),ki()),u=e.memoizedState,c=t.memoizedState,u.parent!==i?(u={parent:i,cache:i},t.memoizedState=u,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=u),Tn(t,Le,i)):(i=c.cache,Tn(t,Le,i),i!==u.cache&&Ql(t,[Le],n,!0))),Pe(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(s(156,t.tag))}function on(e){e.flags|=4}function Du(e,t,n,i,u){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(u&335544128)===u)if(e.stateNode.complete)e.flags|=8192;else if(cd())e.flags|=8192;else throw ra=Kr,Il}else e.flags&=-16777217}function qh(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Wd(t))if(cd())e.flags|=8192;else throw ra=Kr,Il}function us(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?vc():536870912,e.lanes|=t,Xa|=t)}function Vi(e,t){if(!ye)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function Ue(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,i=0;if(t)for(var u=e.child;u!==null;)n|=u.lanes|u.childLanes,i|=u.subtreeFlags&65011712,i|=u.flags&65011712,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)n|=u.lanes|u.childLanes,i|=u.subtreeFlags,i|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function Sy(e,t,n){var i=t.pendingProps;switch($l(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ue(t),null;case 1:return Ue(t),null;case 3:return n=t.stateNode,i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),rn(Le),ke(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(za(t)?on(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Vl())),Ue(t),null;case 26:var u=t.type,c=t.memoizedState;return e===null?(on(t),c!==null?(Ue(t),qh(t,c)):(Ue(t),Du(t,u,null,i,n))):c?c!==e.memoizedState?(on(t),Ue(t),qh(t,c)):(Ue(t),t.flags&=-16777217):(e=e.memoizedProps,e!==i&&on(t),Ue(t),Du(t,u,e,i,n)),null;case 27:if(br(t),n=fe.current,u=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&on(t);else{if(!i){if(t.stateNode===null)throw Error(s(166));return Ue(t),null}e=J.current,za(t)?yf(t):(e=Kd(u,i,n),t.stateNode=e,on(t))}return Ue(t),null;case 5:if(br(t),u=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&on(t);else{if(!i){if(t.stateNode===null)throw Error(s(166));return Ue(t),null}if(c=J.current,za(t))yf(t);else{var d=Es(fe.current);switch(c){case 1:c=d.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:c=d.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":c=d.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":c=d.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":c=d.createElement("div"),c.innerHTML="<script><\/script>",c=c.removeChild(c.firstChild);break;case"select":c=typeof i.is=="string"?d.createElement("select",{is:i.is}):d.createElement("select"),i.multiple?c.multiple=!0:i.size&&(c.size=i.size);break;default:c=typeof i.is=="string"?d.createElement(u,{is:i.is}):d.createElement(u)}}c[Ze]=t,c[ut]=i;e:for(d=t.child;d!==null;){if(d.tag===5||d.tag===6)c.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}t.stateNode=c;e:switch(We(c,u,i),u){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&on(t)}}return Ue(t),Du(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==i&&on(t);else{if(typeof i!="string"&&t.stateNode===null)throw Error(s(166));if(e=fe.current,za(t)){if(e=t.stateNode,n=t.memoizedProps,i=null,u=Ie,u!==null)switch(u.tag){case 27:case 5:i=u.memoizedProps}e[Ze]=t,e=!!(e.nodeValue===n||i!==null&&i.suppressHydrationWarning===!0||zd(e.nodeValue,n)),e||En(t,!0)}else e=Es(e).createTextNode(i),e[Ze]=t,t.stateNode=e}return Ue(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(i=za(t),n!==null){if(e===null){if(!i)throw Error(s(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[Ze]=t}else ea(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ue(t),e=!1}else n=Vl(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(St(t),t):(St(t),null);if((t.flags&128)!==0)throw Error(s(558))}return Ue(t),null;case 13:if(i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(u=za(t),i!==null&&i.dehydrated!==null){if(e===null){if(!u)throw Error(s(318));if(u=t.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(s(317));u[Ze]=t}else ea(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ue(t),u=!1}else u=Vl(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=u),u=!0;if(!u)return t.flags&256?(St(t),t):(St(t),null)}return St(t),(t.flags&128)!==0?(t.lanes=n,t):(n=i!==null,e=e!==null&&e.memoizedState!==null,n&&(i=t.child,u=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(u=i.alternate.memoizedState.cachePool.pool),c=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),c!==u&&(i.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),us(t,t.updateQueue),Ue(t),null);case 4:return ke(),e===null&&to(t.stateNode.containerInfo),Ue(t),null;case 10:return rn(t.type),Ue(t),null;case 19:if(L(Be),i=t.memoizedState,i===null)return Ue(t),null;if(u=(t.flags&128)!==0,c=i.rendering,c===null)if(u)Vi(i,!1);else{if(Me!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(c=Zr(e),c!==null){for(t.flags|=128,Vi(i,!1),e=c.updateQueue,t.updateQueue=e,us(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)hf(n,e),n=n.sibling;return Y(Be,Be.current&1|2),ye&&nn(t,i.treeForkCount),t.child}e=e.sibling}i.tail!==null&&mt()>ds&&(t.flags|=128,u=!0,Vi(i,!1),t.lanes=4194304)}else{if(!u)if(e=Zr(c),e!==null){if(t.flags|=128,u=!0,e=e.updateQueue,t.updateQueue=e,us(t,e),Vi(i,!0),i.tail===null&&i.tailMode==="hidden"&&!c.alternate&&!ye)return Ue(t),null}else 2*mt()-i.renderingStartTime>ds&&n!==536870912&&(t.flags|=128,u=!0,Vi(i,!1),t.lanes=4194304);i.isBackwards?(c.sibling=t.child,t.child=c):(e=i.last,e!==null?e.sibling=c:t.child=c,i.last=c)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=mt(),e.sibling=null,n=Be.current,Y(Be,u?n&1|2:n&1),ye&&nn(t,i.treeForkCount),e):(Ue(t),null);case 22:case 23:return St(t),nu(),i=t.memoizedState!==null,e!==null?e.memoizedState!==null!==i&&(t.flags|=8192):i&&(t.flags|=8192),i?(n&536870912)!==0&&(t.flags&128)===0&&(Ue(t),t.subtreeFlags&6&&(t.flags|=8192)):Ue(t),n=t.updateQueue,n!==null&&us(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),i=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),i!==n&&(t.flags|=2048),e!==null&&L(aa),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),rn(Le),Ue(t),null;case 25:return null;case 30:return null}throw Error(s(156,t.tag))}function wy(e,t){switch($l(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return rn(Le),ke(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return br(t),null;case 31:if(t.memoizedState!==null){if(St(t),t.alternate===null)throw Error(s(340));ea()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(St(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(s(340));ea()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return L(Be),null;case 4:return ke(),null;case 10:return rn(t.type),null;case 22:case 23:return St(t),nu(),e!==null&&L(aa),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return rn(Le),null;case 25:return null;default:return null}}function Lh(e,t){switch($l(t),t.tag){case 3:rn(Le),ke();break;case 26:case 27:case 5:br(t);break;case 4:ke();break;case 31:t.memoizedState!==null&&St(t);break;case 13:St(t);break;case 19:L(Be);break;case 10:rn(t.type);break;case 22:case 23:St(t),nu(),e!==null&&L(aa);break;case 24:rn(Le)}}function Yi(e,t){try{var n=t.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var u=i.next;n=u;do{if((n.tag&e)===e){i=void 0;var c=n.create,d=n.inst;i=c(),d.destroy=i}n=n.next}while(n!==u)}}catch(y){Ee(t,t.return,y)}}function Nn(e,t,n){try{var i=t.updateQueue,u=i!==null?i.lastEffect:null;if(u!==null){var c=u.next;i=c;do{if((i.tag&e)===e){var d=i.inst,y=d.destroy;if(y!==void 0){d.destroy=void 0,u=t;var p=n,R=y;try{R()}catch(z){Ee(u,p,z)}}}i=i.next}while(i!==c)}}catch(z){Ee(t,t.return,z)}}function Hh(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{Nf(t,n)}catch(i){Ee(e,e.return,i)}}}function $h(e,t,n){n.props=ua(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(i){Ee(e,t,i)}}function Ki(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var i=e.stateNode;break;case 30:i=e.stateNode;break;default:i=e.stateNode}typeof n=="function"?e.refCleanup=n(i):n.current=i}}catch(u){Ee(e,t,u)}}function Zt(e,t){var n=e.ref,i=e.refCleanup;if(n!==null)if(typeof i=="function")try{i()}catch(u){Ee(e,t,u)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(u){Ee(e,t,u)}else n.current=null}function Gh(e){var t=e.type,n=e.memoizedProps,i=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break e;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(u){Ee(e,e.return,u)}}function zu(e,t,n){try{var i=e.stateNode;Yy(i,e.type,n,t),i[ut]=t}catch(u){Ee(e,e.return,u)}}function Vh(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Bn(e.type)||e.tag===4}function Mu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Vh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Bn(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ku(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Wt));else if(i!==4&&(i===27&&Bn(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(ku(e,t,n),e=e.sibling;e!==null;)ku(e,t,n),e=e.sibling}function os(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(i!==4&&(i===27&&Bn(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(os(e,t,n),e=e.sibling;e!==null;)os(e,t,n),e=e.sibling}function Yh(e){var t=e.stateNode,n=e.memoizedProps;try{for(var i=e.type,u=t.attributes;u.length;)t.removeAttributeNode(u[0]);We(t,i,n),t[Ze]=e,t[ut]=n}catch(c){Ee(e,e.return,c)}}var cn=!1,Ge=!1,Bu=!1,Kh=typeof WeakSet=="function"?WeakSet:Set,Je=null;function Ey(e,t){if(e=e.containerInfo,io=Ns,e=nf(e),Nl(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var u=i.anchorOffset,c=i.focusNode;i=i.focusOffset;try{n.nodeType,c.nodeType}catch{n=null;break e}var d=0,y=-1,p=-1,R=0,z=0,B=e,C=null;t:for(;;){for(var x;B!==n||u!==0&&B.nodeType!==3||(y=d+u),B!==c||i!==0&&B.nodeType!==3||(p=d+i),B.nodeType===3&&(d+=B.nodeValue.length),(x=B.firstChild)!==null;)C=B,B=x;for(;;){if(B===e)break t;if(C===n&&++R===u&&(y=d),C===c&&++z===i&&(p=d),(x=B.nextSibling)!==null)break;B=C,C=B.parentNode}B=x}n=y===-1||p===-1?null:{start:y,end:p}}else n=null}n=n||{start:0,end:0}}else n=null;for(ro={focusedElem:e,selectionRange:n},Ns=!1,Je=t;Je!==null;)if(t=Je,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Je=e;else for(;Je!==null;){switch(t=Je,c=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)u=e[n],u.ref.impl=u.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&c!==null){e=void 0,n=t,u=c.memoizedProps,c=c.memoizedState,i=n.stateNode;try{var Q=ua(n.type,u);e=i.getSnapshotBeforeUpdate(Q,c),i.__reactInternalSnapshotBeforeUpdate=e}catch(ee){Ee(n,n.return,ee)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)uo(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":uo(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=t.sibling,e!==null){e.return=t.return,Je=e;break}Je=t.return}}function Qh(e,t,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:hn(e,n),i&4&&Yi(5,n);break;case 1:if(hn(e,n),i&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(d){Ee(n,n.return,d)}else{var u=ua(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(u,t,e.__reactInternalSnapshotBeforeUpdate)}catch(d){Ee(n,n.return,d)}}i&64&&Hh(n),i&512&&Ki(n,n.return);break;case 3:if(hn(e,n),i&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{Nf(e,t)}catch(d){Ee(n,n.return,d)}}break;case 27:t===null&&i&4&&Yh(n);case 26:case 5:hn(e,n),t===null&&i&4&&Gh(n),i&512&&Ki(n,n.return);break;case 12:hn(e,n);break;case 31:hn(e,n),i&4&&Zh(e,n);break;case 13:hn(e,n),i&4&&Ih(e,n),i&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=xy.bind(null,n),Py(e,n))));break;case 22:if(i=n.memoizedState!==null||cn,!i){t=t!==null&&t.memoizedState!==null||Ge,u=cn;var c=Ge;cn=i,(Ge=t)&&!c?dn(e,n,(n.subtreeFlags&8772)!==0):hn(e,n),cn=u,Ge=c}break;case 30:break;default:hn(e,n)}}function Xh(e){var t=e.alternate;t!==null&&(e.alternate=null,Xh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&dl(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var xe=null,ct=!1;function fn(e,t,n){for(n=n.child;n!==null;)Jh(e,t,n),n=n.sibling}function Jh(e,t,n){if(vt&&typeof vt.onCommitFiberUnmount=="function")try{vt.onCommitFiberUnmount(mi,n)}catch{}switch(n.tag){case 26:Ge||Zt(n,t),fn(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Ge||Zt(n,t);var i=xe,u=ct;Bn(n.type)&&(xe=n.stateNode,ct=!1),fn(e,t,n),er(n.stateNode),xe=i,ct=u;break;case 5:Ge||Zt(n,t);case 6:if(i=xe,u=ct,xe=null,fn(e,t,n),xe=i,ct=u,xe!==null)if(ct)try{(xe.nodeType===9?xe.body:xe.nodeName==="HTML"?xe.ownerDocument.body:xe).removeChild(n.stateNode)}catch(c){Ee(n,t,c)}else try{xe.removeChild(n.stateNode)}catch(c){Ee(n,t,c)}break;case 18:xe!==null&&(ct?(e=xe,Hd(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),ti(e)):Hd(xe,n.stateNode));break;case 4:i=xe,u=ct,xe=n.stateNode.containerInfo,ct=!0,fn(e,t,n),xe=i,ct=u;break;case 0:case 11:case 14:case 15:Nn(2,n,t),Ge||Nn(4,n,t),fn(e,t,n);break;case 1:Ge||(Zt(n,t),i=n.stateNode,typeof i.componentWillUnmount=="function"&&$h(n,t,i)),fn(e,t,n);break;case 21:fn(e,t,n);break;case 22:Ge=(i=Ge)||n.memoizedState!==null,fn(e,t,n),Ge=i;break;default:fn(e,t,n)}}function Zh(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ti(e)}catch(n){Ee(t,t.return,n)}}}function Ih(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ti(e)}catch(n){Ee(t,t.return,n)}}function Ty(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Kh),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Kh),t;default:throw Error(s(435,e.tag))}}function cs(e,t){var n=Ty(e);t.forEach(function(i){if(!n.has(i)){n.add(i);var u=Dy.bind(null,e,i);i.then(u,u)}})}function ft(e,t){var n=t.deletions;if(n!==null)for(var i=0;i<n.length;i++){var u=n[i],c=e,d=t,y=d;e:for(;y!==null;){switch(y.tag){case 27:if(Bn(y.type)){xe=y.stateNode,ct=!1;break e}break;case 5:xe=y.stateNode,ct=!1;break e;case 3:case 4:xe=y.stateNode.containerInfo,ct=!0;break e}y=y.return}if(xe===null)throw Error(s(160));Jh(c,d,u),xe=null,ct=!1,c=u.alternate,c!==null&&(c.return=null),u.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Fh(t,e),t=t.sibling}var $t=null;function Fh(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:ft(t,e),ht(e),i&4&&(Nn(3,e,e.return),Yi(3,e),Nn(5,e,e.return));break;case 1:ft(t,e),ht(e),i&512&&(Ge||n===null||Zt(n,n.return)),i&64&&cn&&(e=e.updateQueue,e!==null&&(i=e.callbacks,i!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?i:n.concat(i))));break;case 26:var u=$t;if(ft(t,e),ht(e),i&512&&(Ge||n===null||Zt(n,n.return)),i&4){var c=n!==null?n.memoizedState:null;if(i=e.memoizedState,n===null)if(i===null)if(e.stateNode===null){e:{i=e.type,n=e.memoizedProps,u=u.ownerDocument||u;t:switch(i){case"title":c=u.getElementsByTagName("title")[0],(!c||c[pi]||c[Ze]||c.namespaceURI==="http://www.w3.org/2000/svg"||c.hasAttribute("itemprop"))&&(c=u.createElement(i),u.head.insertBefore(c,u.querySelector("head > title"))),We(c,i,n),c[Ze]=e,Xe(c),i=c;break e;case"link":var d=Fd("link","href",u).get(i+(n.href||""));if(d){for(var y=0;y<d.length;y++)if(c=d[y],c.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&c.getAttribute("rel")===(n.rel==null?null:n.rel)&&c.getAttribute("title")===(n.title==null?null:n.title)&&c.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){d.splice(y,1);break t}}c=u.createElement(i),We(c,i,n),u.head.appendChild(c);break;case"meta":if(d=Fd("meta","content",u).get(i+(n.content||""))){for(y=0;y<d.length;y++)if(c=d[y],c.getAttribute("content")===(n.content==null?null:""+n.content)&&c.getAttribute("name")===(n.name==null?null:n.name)&&c.getAttribute("property")===(n.property==null?null:n.property)&&c.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&c.getAttribute("charset")===(n.charSet==null?null:n.charSet)){d.splice(y,1);break t}}c=u.createElement(i),We(c,i,n),u.head.appendChild(c);break;default:throw Error(s(468,i))}c[Ze]=e,Xe(c),i=c}e.stateNode=i}else Pd(u,e.type,e.stateNode);else e.stateNode=Id(u,i,e.memoizedProps);else c!==i?(c===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):c.count--,i===null?Pd(u,e.type,e.stateNode):Id(u,i,e.memoizedProps)):i===null&&e.stateNode!==null&&zu(e,e.memoizedProps,n.memoizedProps)}break;case 27:ft(t,e),ht(e),i&512&&(Ge||n===null||Zt(n,n.return)),n!==null&&i&4&&zu(e,e.memoizedProps,n.memoizedProps);break;case 5:if(ft(t,e),ht(e),i&512&&(Ge||n===null||Zt(n,n.return)),e.flags&32){u=e.stateNode;try{Ta(u,"")}catch(Q){Ee(e,e.return,Q)}}i&4&&e.stateNode!=null&&(u=e.memoizedProps,zu(e,u,n!==null?n.memoizedProps:u)),i&1024&&(Bu=!0);break;case 6:if(ft(t,e),ht(e),i&4){if(e.stateNode===null)throw Error(s(162));i=e.memoizedProps,n=e.stateNode;try{n.nodeValue=i}catch(Q){Ee(e,e.return,Q)}}break;case 3:if(As=null,u=$t,$t=Ts(t.containerInfo),ft(t,e),$t=u,ht(e),i&4&&n!==null&&n.memoizedState.isDehydrated)try{ti(t.containerInfo)}catch(Q){Ee(e,e.return,Q)}Bu&&(Bu=!1,Ph(e));break;case 4:i=$t,$t=Ts(e.stateNode.containerInfo),ft(t,e),ht(e),$t=i;break;case 12:ft(t,e),ht(e);break;case 31:ft(t,e),ht(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,cs(e,i)));break;case 13:ft(t,e),ht(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(hs=mt()),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,cs(e,i)));break;case 22:u=e.memoizedState!==null;var p=n!==null&&n.memoizedState!==null,R=cn,z=Ge;if(cn=R||u,Ge=z||p,ft(t,e),Ge=z,cn=R,ht(e),i&8192)e:for(t=e.stateNode,t._visibility=u?t._visibility&-2:t._visibility|1,u&&(n===null||p||cn||Ge||oa(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){p=n=t;try{if(c=p.stateNode,u)d=c.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none";else{y=p.stateNode;var B=p.memoizedProps.style,C=B!=null&&B.hasOwnProperty("display")?B.display:null;y.style.display=C==null||typeof C=="boolean"?"":(""+C).trim()}}catch(Q){Ee(p,p.return,Q)}}}else if(t.tag===6){if(n===null){p=t;try{p.stateNode.nodeValue=u?"":p.memoizedProps}catch(Q){Ee(p,p.return,Q)}}}else if(t.tag===18){if(n===null){p=t;try{var x=p.stateNode;u?$d(x,!0):$d(p.stateNode,!1)}catch(Q){Ee(p,p.return,Q)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}i&4&&(i=e.updateQueue,i!==null&&(n=i.retryQueue,n!==null&&(i.retryQueue=null,cs(e,n))));break;case 19:ft(t,e),ht(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,cs(e,i)));break;case 30:break;case 21:break;default:ft(t,e),ht(e)}}function ht(e){var t=e.flags;if(t&2){try{for(var n,i=e.return;i!==null;){if(Vh(i)){n=i;break}i=i.return}if(n==null)throw Error(s(160));switch(n.tag){case 27:var u=n.stateNode,c=Mu(e);os(e,c,u);break;case 5:var d=n.stateNode;n.flags&32&&(Ta(d,""),n.flags&=-33);var y=Mu(e);os(e,y,d);break;case 3:case 4:var p=n.stateNode.containerInfo,R=Mu(e);ku(e,R,p);break;default:throw Error(s(161))}}catch(z){Ee(e,e.return,z)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Ph(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Ph(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function hn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Qh(e,t.alternate,t),t=t.sibling}function oa(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Nn(4,t,t.return),oa(t);break;case 1:Zt(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&$h(t,t.return,n),oa(t);break;case 27:er(t.stateNode);case 26:case 5:Zt(t,t.return),oa(t);break;case 22:t.memoizedState===null&&oa(t);break;case 30:oa(t);break;default:oa(t)}e=e.sibling}}function dn(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var i=t.alternate,u=e,c=t,d=c.flags;switch(c.tag){case 0:case 11:case 15:dn(u,c,n),Yi(4,c);break;case 1:if(dn(u,c,n),i=c,u=i.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch(R){Ee(i,i.return,R)}if(i=c,u=i.updateQueue,u!==null){var y=i.stateNode;try{var p=u.shared.hiddenCallbacks;if(p!==null)for(u.shared.hiddenCallbacks=null,u=0;u<p.length;u++)Cf(p[u],y)}catch(R){Ee(i,i.return,R)}}n&&d&64&&Hh(c),Ki(c,c.return);break;case 27:Yh(c);case 26:case 5:dn(u,c,n),n&&i===null&&d&4&&Gh(c),Ki(c,c.return);break;case 12:dn(u,c,n);break;case 31:dn(u,c,n),n&&d&4&&Zh(u,c);break;case 13:dn(u,c,n),n&&d&4&&Ih(u,c);break;case 22:c.memoizedState===null&&dn(u,c,n),Ki(c,c.return);break;case 30:break;default:dn(u,c,n)}t=t.sibling}}function qu(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&Ui(n))}function Lu(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Ui(e))}function Gt(e,t,n,i){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Wh(e,t,n,i),t=t.sibling}function Wh(e,t,n,i){var u=t.flags;switch(t.tag){case 0:case 11:case 15:Gt(e,t,n,i),u&2048&&Yi(9,t);break;case 1:Gt(e,t,n,i);break;case 3:Gt(e,t,n,i),u&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Ui(e)));break;case 12:if(u&2048){Gt(e,t,n,i),e=t.stateNode;try{var c=t.memoizedProps,d=c.id,y=c.onPostCommit;typeof y=="function"&&y(d,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(p){Ee(t,t.return,p)}}else Gt(e,t,n,i);break;case 31:Gt(e,t,n,i);break;case 13:Gt(e,t,n,i);break;case 23:break;case 22:c=t.stateNode,d=t.alternate,t.memoizedState!==null?c._visibility&2?Gt(e,t,n,i):Qi(e,t):c._visibility&2?Gt(e,t,n,i):(c._visibility|=2,Ya(e,t,n,i,(t.subtreeFlags&10256)!==0||!1)),u&2048&&qu(d,t);break;case 24:Gt(e,t,n,i),u&2048&&Lu(t.alternate,t);break;default:Gt(e,t,n,i)}}function Ya(e,t,n,i,u){for(u=u&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var c=e,d=t,y=n,p=i,R=d.flags;switch(d.tag){case 0:case 11:case 15:Ya(c,d,y,p,u),Yi(8,d);break;case 23:break;case 22:var z=d.stateNode;d.memoizedState!==null?z._visibility&2?Ya(c,d,y,p,u):Qi(c,d):(z._visibility|=2,Ya(c,d,y,p,u)),u&&R&2048&&qu(d.alternate,d);break;case 24:Ya(c,d,y,p,u),u&&R&2048&&Lu(d.alternate,d);break;default:Ya(c,d,y,p,u)}t=t.sibling}}function Qi(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,i=t,u=i.flags;switch(i.tag){case 22:Qi(n,i),u&2048&&qu(i.alternate,i);break;case 24:Qi(n,i),u&2048&&Lu(i.alternate,i);break;default:Qi(n,i)}t=t.sibling}}var Xi=8192;function Ka(e,t,n){if(e.subtreeFlags&Xi)for(e=e.child;e!==null;)ed(e,t,n),e=e.sibling}function ed(e,t,n){switch(e.tag){case 26:Ka(e,t,n),e.flags&Xi&&e.memoizedState!==null&&c0(n,$t,e.memoizedState,e.memoizedProps);break;case 5:Ka(e,t,n);break;case 3:case 4:var i=$t;$t=Ts(e.stateNode.containerInfo),Ka(e,t,n),$t=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=Xi,Xi=16777216,Ka(e,t,n),Xi=i):Ka(e,t,n));break;default:Ka(e,t,n)}}function td(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Ji(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];Je=i,ad(i,e)}td(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)nd(e),e=e.sibling}function nd(e){switch(e.tag){case 0:case 11:case 15:Ji(e),e.flags&2048&&Nn(9,e,e.return);break;case 3:Ji(e);break;case 12:Ji(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,fs(e)):Ji(e);break;default:Ji(e)}}function fs(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];Je=i,ad(i,e)}td(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Nn(8,t,t.return),fs(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,fs(t));break;default:fs(t)}e=e.sibling}}function ad(e,t){for(;Je!==null;){var n=Je;switch(n.tag){case 0:case 11:case 15:Nn(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var i=n.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:Ui(n.memoizedState.cache)}if(i=n.child,i!==null)i.return=n,Je=i;else e:for(n=e;Je!==null;){i=Je;var u=i.sibling,c=i.return;if(Xh(i),i===n){Je=null;break e}if(u!==null){u.return=c,Je=u;break e}Je=c}}}var Oy={getCacheForType:function(e){var t=Fe(Le),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Fe(Le).controller.signal}},Ay=typeof WeakMap=="function"?WeakMap:Map,_e=0,Re=null,he=null,ge=0,we=0,wt=null,Un=!1,Qa=!1,Hu=!1,gn=0,Me=0,xn=0,ca=0,$u=0,Et=0,Xa=0,Zi=null,dt=null,Gu=!1,hs=0,id=0,ds=1/0,gs=null,Dn=null,Ke=0,zn=null,Ja=null,mn=0,Vu=0,Yu=null,rd=null,Ii=0,Ku=null;function Tt(){return(_e&2)!==0&&ge!==0?ge&-ge:M.T!==null?Fu():_c()}function sd(){if(Et===0)if((ge&536870912)===0||ye){var e=wr;wr<<=1,(wr&3932160)===0&&(wr=262144),Et=e}else Et=536870912;return e=_t.current,e!==null&&(e.flags|=32),Et}function gt(e,t,n){(e===Re&&(we===2||we===9)||e.cancelPendingCommit!==null)&&(Za(e,0),Mn(e,ge,Et,!1)),yi(e,n),((_e&2)===0||e!==Re)&&(e===Re&&((_e&2)===0&&(ca|=n),Me===4&&Mn(e,ge,Et,!1)),It(e))}function ld(e,t,n){if((_e&6)!==0)throw Error(s(327));var i=!n&&(t&127)===0&&(t&e.expiredLanes)===0||vi(e,t),u=i?Cy(e,t):Xu(e,t,!0),c=i;do{if(u===0){Qa&&!i&&Mn(e,t,0,!1);break}else{if(n=e.current.alternate,c&&!jy(n)){u=Xu(e,t,!1),c=!1;continue}if(u===2){if(c=t,e.errorRecoveryDisabledLanes&c)var d=0;else d=e.pendingLanes&-536870913,d=d!==0?d:d&536870912?536870912:0;if(d!==0){t=d;e:{var y=e;u=Zi;var p=y.current.memoizedState.isDehydrated;if(p&&(Za(y,d).flags|=256),d=Xu(y,d,!1),d!==2){if(Hu&&!p){y.errorRecoveryDisabledLanes|=c,ca|=c,u=4;break e}c=dt,dt=u,c!==null&&(dt===null?dt=c:dt.push.apply(dt,c))}u=d}if(c=!1,u!==2)continue}}if(u===1){Za(e,0),Mn(e,t,0,!0);break}e:{switch(i=e,c=u,c){case 0:case 1:throw Error(s(345));case 4:if((t&4194048)!==t)break;case 6:Mn(i,t,Et,!Un);break e;case 2:dt=null;break;case 3:case 5:break;default:throw Error(s(329))}if((t&62914560)===t&&(u=hs+300-mt(),10<u)){if(Mn(i,t,Et,!Un),Tr(i,0,!0)!==0)break e;mn=t,i.timeoutHandle=qd(ud.bind(null,i,n,dt,gs,Gu,t,Et,ca,Xa,Un,c,"Throttled",-0,0),u);break e}ud(i,n,dt,gs,Gu,t,Et,ca,Xa,Un,c,null,-0,0)}}break}while(!0);It(e)}function ud(e,t,n,i,u,c,d,y,p,R,z,B,C,x){if(e.timeoutHandle=-1,B=t.subtreeFlags,B&8192||(B&16785408)===16785408){B={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Wt},ed(t,c,B);var Q=(c&62914560)===c?hs-mt():(c&4194048)===c?id-mt():0;if(Q=f0(B,Q),Q!==null){mn=c,e.cancelPendingCommit=Q(vd.bind(null,e,t,c,n,i,u,d,y,p,z,B,null,C,x)),Mn(e,c,d,!R);return}}vd(e,t,c,n,i,u,d,y,p)}function jy(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var i=0;i<n.length;i++){var u=n[i],c=u.getSnapshot;u=u.value;try{if(!pt(c(),u))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Mn(e,t,n,i){t&=~$u,t&=~ca,e.suspendedLanes|=t,e.pingedLanes&=~t,i&&(e.warmLanes|=t),i=e.expirationTimes;for(var u=t;0<u;){var c=31-yt(u),d=1<<c;i[c]=-1,u&=~d}n!==0&&yc(e,n,t)}function ms(){return(_e&6)===0?(Fi(0),!1):!0}function Qu(){if(he!==null){if(we===0)var e=he.return;else e=he,an=ta=null,uu(e),La=null,Di=0,e=he;for(;e!==null;)Lh(e.alternate,e),e=e.return;he=null}}function Za(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,Xy(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),mn=0,Qu(),Re=e,he=n=tn(e.current,null),ge=t,we=0,wt=null,Un=!1,Qa=vi(e,t),Hu=!1,Xa=Et=$u=ca=xn=Me=0,dt=Zi=null,Gu=!1,(t&8)!==0&&(t|=t&32);var i=e.entangledLanes;if(i!==0)for(e=e.entanglements,i&=t;0<i;){var u=31-yt(i),c=1<<u;t|=e[u],i&=~c}return gn=t,kr(),n}function od(e,t){se=null,M.H=$i,t===qa||t===Yr?(t=Of(),we=3):t===Il?(t=Of(),we=4):we=t===Tu?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,wt=t,he===null&&(Me=1,is(e,xt(t,e.current)))}function cd(){var e=_t.current;return e===null?!0:(ge&4194048)===ge?kt===null:(ge&62914560)===ge||(ge&536870912)!==0?e===kt:!1}function fd(){var e=M.H;return M.H=$i,e===null?$i:e}function hd(){var e=M.A;return M.A=Oy,e}function vs(){Me=4,Un||(ge&4194048)!==ge&&_t.current!==null||(Qa=!0),(xn&134217727)===0&&(ca&134217727)===0||Re===null||Mn(Re,ge,Et,!1)}function Xu(e,t,n){var i=_e;_e|=2;var u=fd(),c=hd();(Re!==e||ge!==t)&&(gs=null,Za(e,t)),t=!1;var d=Me;e:do try{if(we!==0&&he!==null){var y=he,p=wt;switch(we){case 8:Qu(),d=6;break e;case 3:case 2:case 9:case 6:_t.current===null&&(t=!0);var R=we;if(we=0,wt=null,Ia(e,y,p,R),n&&Qa){d=0;break e}break;default:R=we,we=0,wt=null,Ia(e,y,p,R)}}Ry(),d=Me;break}catch(z){od(e,z)}while(!0);return t&&e.shellSuspendCounter++,an=ta=null,_e=i,M.H=u,M.A=c,he===null&&(Re=null,ge=0,kr()),d}function Ry(){for(;he!==null;)dd(he)}function Cy(e,t){var n=_e;_e|=2;var i=fd(),u=hd();Re!==e||ge!==t?(gs=null,ds=mt()+500,Za(e,t)):Qa=vi(e,t);e:do try{if(we!==0&&he!==null){t=he;var c=wt;t:switch(we){case 1:we=0,wt=null,Ia(e,t,c,1);break;case 2:case 9:if(Ef(c)){we=0,wt=null,gd(t);break}t=function(){we!==2&&we!==9||Re!==e||(we=7),It(e)},c.then(t,t);break e;case 3:we=7;break e;case 4:we=5;break e;case 7:Ef(c)?(we=0,wt=null,gd(t)):(we=0,wt=null,Ia(e,t,c,7));break;case 5:var d=null;switch(he.tag){case 26:d=he.memoizedState;case 5:case 27:var y=he;if(d?Wd(d):y.stateNode.complete){we=0,wt=null;var p=y.sibling;if(p!==null)he=p;else{var R=y.return;R!==null?(he=R,ys(R)):he=null}break t}}we=0,wt=null,Ia(e,t,c,5);break;case 6:we=0,wt=null,Ia(e,t,c,6);break;case 8:Qu(),Me=6;break e;default:throw Error(s(462))}}Ny();break}catch(z){od(e,z)}while(!0);return an=ta=null,M.H=i,M.A=u,_e=n,he!==null?0:(Re=null,ge=0,kr(),Me)}function Ny(){for(;he!==null&&!Wm();)dd(he)}function dd(e){var t=Bh(e.alternate,e,gn);e.memoizedProps=e.pendingProps,t===null?ys(e):he=t}function gd(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Uh(n,t,t.pendingProps,t.type,void 0,ge);break;case 11:t=Uh(n,t,t.pendingProps,t.type.render,t.ref,ge);break;case 5:uu(t);default:Lh(n,t),t=he=hf(t,gn),t=Bh(n,t,gn)}e.memoizedProps=e.pendingProps,t===null?ys(e):he=t}function Ia(e,t,n,i){an=ta=null,uu(t),La=null,Di=0;var u=t.return;try{if(py(e,u,t,n,ge)){Me=1,is(e,xt(n,e.current)),he=null;return}}catch(c){if(u!==null)throw he=u,c;Me=1,is(e,xt(n,e.current)),he=null;return}t.flags&32768?(ye||i===1?e=!0:Qa||(ge&536870912)!==0?e=!1:(Un=e=!0,(i===2||i===9||i===3||i===6)&&(i=_t.current,i!==null&&i.tag===13&&(i.flags|=16384))),md(t,e)):ys(t)}function ys(e){var t=e;do{if((t.flags&32768)!==0){md(t,Un);return}e=t.return;var n=Sy(t.alternate,t,gn);if(n!==null){he=n;return}if(t=t.sibling,t!==null){he=t;return}he=t=e}while(t!==null);Me===0&&(Me=5)}function md(e,t){do{var n=wy(e.alternate,e);if(n!==null){n.flags&=32767,he=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){he=e;return}he=e=n}while(e!==null);Me=6,he=null}function vd(e,t,n,i,u,c,d,y,p){e.cancelPendingCommit=null;do ps();while(Ke!==0);if((_e&6)!==0)throw Error(s(327));if(t!==null){if(t===e.current)throw Error(s(177));if(c=t.lanes|t.childLanes,c|=Ml,ov(e,n,c,d,y,p),e===Re&&(he=Re=null,ge=0),Ja=t,zn=e,mn=n,Vu=c,Yu=u,rd=i,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,zy(_r,function(){return Sd(),null})):(e.callbackNode=null,e.callbackPriority=0),i=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||i){i=M.T,M.T=null,u=V.p,V.p=2,d=_e,_e|=4;try{Ey(e,t,n)}finally{_e=d,V.p=u,M.T=i}}Ke=1,yd(),pd(),bd()}}function yd(){if(Ke===1){Ke=0;var e=zn,t=Ja,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=M.T,M.T=null;var i=V.p;V.p=2;var u=_e;_e|=4;try{Fh(t,e);var c=ro,d=nf(e.containerInfo),y=c.focusedElem,p=c.selectionRange;if(d!==y&&y&&y.ownerDocument&&tf(y.ownerDocument.documentElement,y)){if(p!==null&&Nl(y)){var R=p.start,z=p.end;if(z===void 0&&(z=R),"selectionStart"in y)y.selectionStart=R,y.selectionEnd=Math.min(z,y.value.length);else{var B=y.ownerDocument||document,C=B&&B.defaultView||window;if(C.getSelection){var x=C.getSelection(),Q=y.textContent.length,ee=Math.min(p.start,Q),je=p.end===void 0?ee:Math.min(p.end,Q);!x.extend&&ee>je&&(d=je,je=ee,ee=d);var O=ef(y,ee),w=ef(y,je);if(O&&w&&(x.rangeCount!==1||x.anchorNode!==O.node||x.anchorOffset!==O.offset||x.focusNode!==w.node||x.focusOffset!==w.offset)){var j=B.createRange();j.setStart(O.node,O.offset),x.removeAllRanges(),ee>je?(x.addRange(j),x.extend(w.node,w.offset)):(j.setEnd(w.node,w.offset),x.addRange(j))}}}}for(B=[],x=y;x=x.parentNode;)x.nodeType===1&&B.push({element:x,left:x.scrollLeft,top:x.scrollTop});for(typeof y.focus=="function"&&y.focus(),y=0;y<B.length;y++){var k=B[y];k.element.scrollLeft=k.left,k.element.scrollTop=k.top}}Ns=!!io,ro=io=null}finally{_e=u,V.p=i,M.T=n}}e.current=t,Ke=2}}function pd(){if(Ke===2){Ke=0;var e=zn,t=Ja,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=M.T,M.T=null;var i=V.p;V.p=2;var u=_e;_e|=4;try{Qh(e,t.alternate,t)}finally{_e=u,V.p=i,M.T=n}}Ke=3}}function bd(){if(Ke===4||Ke===3){Ke=0,ev();var e=zn,t=Ja,n=mn,i=rd;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Ke=5:(Ke=0,Ja=zn=null,_d(e,e.pendingLanes));var u=e.pendingLanes;if(u===0&&(Dn=null),fl(n),t=t.stateNode,vt&&typeof vt.onCommitFiberRoot=="function")try{vt.onCommitFiberRoot(mi,t,void 0,(t.current.flags&128)===128)}catch{}if(i!==null){t=M.T,u=V.p,V.p=2,M.T=null;try{for(var c=e.onRecoverableError,d=0;d<i.length;d++){var y=i[d];c(y.value,{componentStack:y.stack})}}finally{M.T=t,V.p=u}}(mn&3)!==0&&ps(),It(e),u=e.pendingLanes,(n&261930)!==0&&(u&42)!==0?e===Ku?Ii++:(Ii=0,Ku=e):Ii=0,Fi(0)}}function _d(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Ui(t)))}function ps(){return yd(),pd(),bd(),Sd()}function Sd(){if(Ke!==5)return!1;var e=zn,t=Vu;Vu=0;var n=fl(mn),i=M.T,u=V.p;try{V.p=32>n?32:n,M.T=null,n=Yu,Yu=null;var c=zn,d=mn;if(Ke=0,Ja=zn=null,mn=0,(_e&6)!==0)throw Error(s(331));var y=_e;if(_e|=4,nd(c.current),Wh(c,c.current,d,n),_e=y,Fi(0,!1),vt&&typeof vt.onPostCommitFiberRoot=="function")try{vt.onPostCommitFiberRoot(mi,c)}catch{}return!0}finally{V.p=u,M.T=i,_d(e,t)}}function wd(e,t,n){t=xt(n,t),t=Eu(e.stateNode,t,2),e=jn(e,t,2),e!==null&&(yi(e,2),It(e))}function Ee(e,t,n){if(e.tag===3)wd(e,e,n);else for(;t!==null;){if(t.tag===3){wd(t,e,n);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Dn===null||!Dn.has(i))){e=xt(n,e),n=Eh(2),i=jn(t,n,2),i!==null&&(Th(n,i,t,e),yi(i,2),It(i));break}}t=t.return}}function Ju(e,t,n){var i=e.pingCache;if(i===null){i=e.pingCache=new Ay;var u=new Set;i.set(t,u)}else u=i.get(t),u===void 0&&(u=new Set,i.set(t,u));u.has(n)||(Hu=!0,u.add(n),e=Uy.bind(null,e,t,n),t.then(e,e))}function Uy(e,t,n){var i=e.pingCache;i!==null&&i.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,Re===e&&(ge&n)===n&&(Me===4||Me===3&&(ge&62914560)===ge&&300>mt()-hs?(_e&2)===0&&Za(e,0):$u|=n,Xa===ge&&(Xa=0)),It(e)}function Ed(e,t){t===0&&(t=vc()),e=Pn(e,t),e!==null&&(yi(e,t),It(e))}function xy(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Ed(e,n)}function Dy(e,t){var n=0;switch(e.tag){case 31:case 13:var i=e.stateNode,u=e.memoizedState;u!==null&&(n=u.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(s(314))}i!==null&&i.delete(t),Ed(e,n)}function zy(e,t){return ll(e,t)}var bs=null,Fa=null,Zu=!1,_s=!1,Iu=!1,kn=0;function It(e){e!==Fa&&e.next===null&&(Fa===null?bs=Fa=e:Fa=Fa.next=e),_s=!0,Zu||(Zu=!0,ky())}function Fi(e,t){if(!Iu&&_s){Iu=!0;do for(var n=!1,i=bs;i!==null;){if(e!==0){var u=i.pendingLanes;if(u===0)var c=0;else{var d=i.suspendedLanes,y=i.pingedLanes;c=(1<<31-yt(42|e)+1)-1,c&=u&~(d&~y),c=c&201326741?c&201326741|1:c?c|2:0}c!==0&&(n=!0,jd(i,c))}else c=ge,c=Tr(i,i===Re?c:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),(c&3)===0||vi(i,c)||(n=!0,jd(i,c));i=i.next}while(n);Iu=!1}}function My(){Td()}function Td(){_s=Zu=!1;var e=0;kn!==0&&Qy()&&(e=kn);for(var t=mt(),n=null,i=bs;i!==null;){var u=i.next,c=Od(i,t);c===0?(i.next=null,n===null?bs=u:n.next=u,u===null&&(Fa=n)):(n=i,(e!==0||(c&3)!==0)&&(_s=!0)),i=u}Ke!==0&&Ke!==5||Fi(e),kn!==0&&(kn=0)}function Od(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,u=e.expirationTimes,c=e.pendingLanes&-62914561;0<c;){var d=31-yt(c),y=1<<d,p=u[d];p===-1?((y&n)===0||(y&i)!==0)&&(u[d]=uv(y,t)):p<=t&&(e.expiredLanes|=y),c&=~y}if(t=Re,n=ge,n=Tr(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i=e.callbackNode,n===0||e===t&&(we===2||we===9)||e.cancelPendingCommit!==null)return i!==null&&i!==null&&ul(i),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||vi(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(i!==null&&ul(i),fl(n)){case 2:case 8:n=gc;break;case 32:n=_r;break;case 268435456:n=mc;break;default:n=_r}return i=Ad.bind(null,e),n=ll(n,i),e.callbackPriority=t,e.callbackNode=n,t}return i!==null&&i!==null&&ul(i),e.callbackPriority=2,e.callbackNode=null,2}function Ad(e,t){if(Ke!==0&&Ke!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(ps()&&e.callbackNode!==n)return null;var i=ge;return i=Tr(e,e===Re?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i===0?null:(ld(e,i,t),Od(e,mt()),e.callbackNode!=null&&e.callbackNode===n?Ad.bind(null,e):null)}function jd(e,t){if(ps())return null;ld(e,t,!0)}function ky(){Jy(function(){(_e&6)!==0?ll(dc,My):Td()})}function Fu(){if(kn===0){var e=ka;e===0&&(e=Sr,Sr<<=1,(Sr&261888)===0&&(Sr=256)),kn=e}return kn}function Rd(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Rr(""+e)}function Cd(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function By(e,t,n,i,u){if(t==="submit"&&n&&n.stateNode===u){var c=Rd((u[ut]||null).action),d=i.submitter;d&&(t=(t=d[ut]||null)?Rd(t.formAction):d.getAttribute("formAction"),t!==null&&(c=t,d=null));var y=new xr("action","action",null,i,u);e.push({event:y,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(kn!==0){var p=d?Cd(u,d):new FormData(u);yu(n,{pending:!0,data:p,method:u.method,action:c},null,p)}}else typeof c=="function"&&(y.preventDefault(),p=d?Cd(u,d):new FormData(u),yu(n,{pending:!0,data:p,method:u.method,action:c},c,p))},currentTarget:u}]})}}for(var Pu=0;Pu<zl.length;Pu++){var Wu=zl[Pu],qy=Wu.toLowerCase(),Ly=Wu[0].toUpperCase()+Wu.slice(1);Ht(qy,"on"+Ly)}Ht(sf,"onAnimationEnd"),Ht(lf,"onAnimationIteration"),Ht(uf,"onAnimationStart"),Ht("dblclick","onDoubleClick"),Ht("focusin","onFocus"),Ht("focusout","onBlur"),Ht(ty,"onTransitionRun"),Ht(ny,"onTransitionStart"),Ht(ay,"onTransitionCancel"),Ht(of,"onTransitionEnd"),wa("onMouseEnter",["mouseout","mouseover"]),wa("onMouseLeave",["mouseout","mouseover"]),wa("onPointerEnter",["pointerout","pointerover"]),wa("onPointerLeave",["pointerout","pointerover"]),Jn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Jn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Jn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Jn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Jn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Jn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Hy=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Pi));function Nd(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var i=e[n],u=i.event;i=i.listeners;e:{var c=void 0;if(t)for(var d=i.length-1;0<=d;d--){var y=i[d],p=y.instance,R=y.currentTarget;if(y=y.listener,p!==c&&u.isPropagationStopped())break e;c=y,u.currentTarget=R;try{c(u)}catch(z){Mr(z)}u.currentTarget=null,c=p}else for(d=0;d<i.length;d++){if(y=i[d],p=y.instance,R=y.currentTarget,y=y.listener,p!==c&&u.isPropagationStopped())break e;c=y,u.currentTarget=R;try{c(u)}catch(z){Mr(z)}u.currentTarget=null,c=p}}}}function de(e,t){var n=t[hl];n===void 0&&(n=t[hl]=new Set);var i=e+"__bubble";n.has(i)||(Ud(t,e,2,!1),n.add(i))}function eo(e,t,n){var i=0;t&&(i|=4),Ud(n,e,i,t)}var Ss="_reactListening"+Math.random().toString(36).slice(2);function to(e){if(!e[Ss]){e[Ss]=!0,Ec.forEach(function(n){n!=="selectionchange"&&(Hy.has(n)||eo(n,!1,e),eo(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ss]||(t[Ss]=!0,eo("selectionchange",!1,t))}}function Ud(e,t,n,i){switch(sg(t)){case 2:var u=g0;break;case 8:u=m0;break;default:u=yo}n=u.bind(null,t,n,e),u=void 0,!Sl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(u=!0),i?u!==void 0?e.addEventListener(t,n,{capture:!0,passive:u}):e.addEventListener(t,n,!0):u!==void 0?e.addEventListener(t,n,{passive:u}):e.addEventListener(t,n,!1)}function no(e,t,n,i,u){var c=i;if((t&1)===0&&(t&2)===0&&i!==null)e:for(;;){if(i===null)return;var d=i.tag;if(d===3||d===4){var y=i.stateNode.containerInfo;if(y===u)break;if(d===4)for(d=i.return;d!==null;){var p=d.tag;if((p===3||p===4)&&d.stateNode.containerInfo===u)return;d=d.return}for(;y!==null;){if(d=ba(y),d===null)return;if(p=d.tag,p===5||p===6||p===26||p===27){i=c=d;continue e}y=y.parentNode}}i=i.return}Mc(function(){var R=c,z=bl(n),B=[];e:{var C=cf.get(e);if(C!==void 0){var x=xr,Q=e;switch(e){case"keypress":if(Nr(n)===0)break e;case"keydown":case"keyup":x=Dv;break;case"focusin":Q="focus",x=Ol;break;case"focusout":Q="blur",x=Ol;break;case"beforeblur":case"afterblur":x=Ol;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=qc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=Sv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=kv;break;case sf:case lf:case uf:x=Tv;break;case of:x=qv;break;case"scroll":case"scrollend":x=bv;break;case"wheel":x=Hv;break;case"copy":case"cut":case"paste":x=Av;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=Hc;break;case"toggle":case"beforetoggle":x=Gv}var ee=(t&4)!==0,je=!ee&&(e==="scroll"||e==="scrollend"),O=ee?C!==null?C+"Capture":null:C;ee=[];for(var w=R,j;w!==null;){var k=w;if(j=k.stateNode,k=k.tag,k!==5&&k!==26&&k!==27||j===null||O===null||(k=_i(w,O),k!=null&&ee.push(Wi(w,k,j))),je)break;w=w.return}0<ee.length&&(C=new x(C,Q,null,n,z),B.push({event:C,listeners:ee}))}}if((t&7)===0){e:{if(C=e==="mouseover"||e==="pointerover",x=e==="mouseout"||e==="pointerout",C&&n!==pl&&(Q=n.relatedTarget||n.fromElement)&&(ba(Q)||Q[pa]))break e;if((x||C)&&(C=z.window===z?z:(C=z.ownerDocument)?C.defaultView||C.parentWindow:window,x?(Q=n.relatedTarget||n.toElement,x=R,Q=Q?ba(Q):null,Q!==null&&(je=f(Q),ee=Q.tag,Q!==je||ee!==5&&ee!==27&&ee!==6)&&(Q=null)):(x=null,Q=R),x!==Q)){if(ee=qc,k="onMouseLeave",O="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(ee=Hc,k="onPointerLeave",O="onPointerEnter",w="pointer"),je=x==null?C:bi(x),j=Q==null?C:bi(Q),C=new ee(k,w+"leave",x,n,z),C.target=je,C.relatedTarget=j,k=null,ba(z)===R&&(ee=new ee(O,w+"enter",Q,n,z),ee.target=j,ee.relatedTarget=je,k=ee),je=k,x&&Q)t:{for(ee=$y,O=x,w=Q,j=0,k=O;k;k=ee(k))j++;k=0;for(var F=w;F;F=ee(F))k++;for(;0<j-k;)O=ee(O),j--;for(;0<k-j;)w=ee(w),k--;for(;j--;){if(O===w||w!==null&&O===w.alternate){ee=O;break t}O=ee(O),w=ee(w)}ee=null}else ee=null;x!==null&&xd(B,C,x,ee,!1),Q!==null&&je!==null&&xd(B,je,Q,ee,!0)}}e:{if(C=R?bi(R):window,x=C.nodeName&&C.nodeName.toLowerCase(),x==="select"||x==="input"&&C.type==="file")var pe=Jc;else if(Qc(C))if(Zc)pe=Pv;else{pe=Iv;var Z=Zv}else x=C.nodeName,!x||x.toLowerCase()!=="input"||C.type!=="checkbox"&&C.type!=="radio"?R&&yl(R.elementType)&&(pe=Jc):pe=Fv;if(pe&&(pe=pe(e,R))){Xc(B,pe,n,z);break e}Z&&Z(e,C,R),e==="focusout"&&R&&C.type==="number"&&R.memoizedProps.value!=null&&vl(C,"number",C.value)}switch(Z=R?bi(R):window,e){case"focusin":(Qc(Z)||Z.contentEditable==="true")&&(Ra=Z,Ul=R,Ri=null);break;case"focusout":Ri=Ul=Ra=null;break;case"mousedown":xl=!0;break;case"contextmenu":case"mouseup":case"dragend":xl=!1,af(B,n,z);break;case"selectionchange":if(ey)break;case"keydown":case"keyup":af(B,n,z)}var le;if(jl)e:{switch(e){case"compositionstart":var me="onCompositionStart";break e;case"compositionend":me="onCompositionEnd";break e;case"compositionupdate":me="onCompositionUpdate";break e}me=void 0}else ja?Yc(e,n)&&(me="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(me="onCompositionStart");me&&($c&&n.locale!=="ko"&&(ja||me!=="onCompositionStart"?me==="onCompositionEnd"&&ja&&(le=kc()):(_n=z,wl="value"in _n?_n.value:_n.textContent,ja=!0)),Z=ws(R,me),0<Z.length&&(me=new Lc(me,e,null,n,z),B.push({event:me,listeners:Z}),le?me.data=le:(le=Kc(n),le!==null&&(me.data=le)))),(le=Yv?Kv(e,n):Qv(e,n))&&(me=ws(R,"onBeforeInput"),0<me.length&&(Z=new Lc("onBeforeInput","beforeinput",null,n,z),B.push({event:Z,listeners:me}),Z.data=le)),By(B,e,R,n,z)}Nd(B,t)})}function Wi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ws(e,t){for(var n=t+"Capture",i=[];e!==null;){var u=e,c=u.stateNode;if(u=u.tag,u!==5&&u!==26&&u!==27||c===null||(u=_i(e,n),u!=null&&i.unshift(Wi(e,u,c)),u=_i(e,t),u!=null&&i.push(Wi(e,u,c))),e.tag===3)return i;e=e.return}return[]}function $y(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function xd(e,t,n,i,u){for(var c=t._reactName,d=[];n!==null&&n!==i;){var y=n,p=y.alternate,R=y.stateNode;if(y=y.tag,p!==null&&p===i)break;y!==5&&y!==26&&y!==27||R===null||(p=R,u?(R=_i(n,c),R!=null&&d.unshift(Wi(n,R,p))):u||(R=_i(n,c),R!=null&&d.push(Wi(n,R,p)))),n=n.return}d.length!==0&&e.push({event:t,listeners:d})}var Gy=/\r\n?/g,Vy=/\u0000|\uFFFD/g;function Dd(e){return(typeof e=="string"?e:""+e).replace(Gy,`
`).replace(Vy,"")}function zd(e,t){return t=Dd(t),Dd(e)===t}function Ae(e,t,n,i,u,c){switch(n){case"children":typeof i=="string"?t==="body"||t==="textarea"&&i===""||Ta(e,i):(typeof i=="number"||typeof i=="bigint")&&t!=="body"&&Ta(e,""+i);break;case"className":Ar(e,"class",i);break;case"tabIndex":Ar(e,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":Ar(e,n,i);break;case"style":Dc(e,i,c);break;case"data":if(t!=="object"){Ar(e,"data",i);break}case"src":case"href":if(i===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=Rr(""+i),e.setAttribute(n,i);break;case"action":case"formAction":if(typeof i=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof c=="function"&&(n==="formAction"?(t!=="input"&&Ae(e,t,"name",u.name,u,null),Ae(e,t,"formEncType",u.formEncType,u,null),Ae(e,t,"formMethod",u.formMethod,u,null),Ae(e,t,"formTarget",u.formTarget,u,null)):(Ae(e,t,"encType",u.encType,u,null),Ae(e,t,"method",u.method,u,null),Ae(e,t,"target",u.target,u,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=Rr(""+i),e.setAttribute(n,i);break;case"onClick":i!=null&&(e.onclick=Wt);break;case"onScroll":i!=null&&de("scroll",e);break;case"onScrollEnd":i!=null&&de("scrollend",e);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(s(61));if(n=i.__html,n!=null){if(u.children!=null)throw Error(s(60));e.innerHTML=n}}break;case"multiple":e.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":e.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){e.removeAttribute("xlink:href");break}n=Rr(""+i),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""+i):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":i===!0?e.setAttribute(n,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,i):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?e.setAttribute(n,i):e.removeAttribute(n);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?e.removeAttribute(n):e.setAttribute(n,i);break;case"popover":de("beforetoggle",e),de("toggle",e),Or(e,"popover",i);break;case"xlinkActuate":Pt(e,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":Pt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":Pt(e,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":Pt(e,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":Pt(e,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":Pt(e,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":Pt(e,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":Pt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":Pt(e,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":Or(e,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=yv.get(n)||n,Or(e,n,i))}}function ao(e,t,n,i,u,c){switch(n){case"style":Dc(e,i,c);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(s(61));if(n=i.__html,n!=null){if(u.children!=null)throw Error(s(60));e.innerHTML=n}}break;case"children":typeof i=="string"?Ta(e,i):(typeof i=="number"||typeof i=="bigint")&&Ta(e,""+i);break;case"onScroll":i!=null&&de("scroll",e);break;case"onScrollEnd":i!=null&&de("scrollend",e);break;case"onClick":i!=null&&(e.onclick=Wt);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Tc.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(u=n.endsWith("Capture"),t=n.slice(2,u?n.length-7:void 0),c=e[ut]||null,c=c!=null?c[n]:null,typeof c=="function"&&e.removeEventListener(t,c,u),typeof i=="function")){typeof c!="function"&&c!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,i,u);break e}n in e?e[n]=i:i===!0?e.setAttribute(n,""):Or(e,n,i)}}}function We(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":de("error",e),de("load",e);var i=!1,u=!1,c;for(c in n)if(n.hasOwnProperty(c)){var d=n[c];if(d!=null)switch(c){case"src":i=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:Ae(e,t,c,d,n,null)}}u&&Ae(e,t,"srcSet",n.srcSet,n,null),i&&Ae(e,t,"src",n.src,n,null);return;case"input":de("invalid",e);var y=c=d=u=null,p=null,R=null;for(i in n)if(n.hasOwnProperty(i)){var z=n[i];if(z!=null)switch(i){case"name":u=z;break;case"type":d=z;break;case"checked":p=z;break;case"defaultChecked":R=z;break;case"value":c=z;break;case"defaultValue":y=z;break;case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(s(137,t));break;default:Ae(e,t,i,z,n,null)}}Cc(e,c,y,p,R,d,u,!1);return;case"select":de("invalid",e),i=d=c=null;for(u in n)if(n.hasOwnProperty(u)&&(y=n[u],y!=null))switch(u){case"value":c=y;break;case"defaultValue":d=y;break;case"multiple":i=y;default:Ae(e,t,u,y,n,null)}t=c,n=d,e.multiple=!!i,t!=null?Ea(e,!!i,t,!1):n!=null&&Ea(e,!!i,n,!0);return;case"textarea":de("invalid",e),c=u=i=null;for(d in n)if(n.hasOwnProperty(d)&&(y=n[d],y!=null))switch(d){case"value":i=y;break;case"defaultValue":u=y;break;case"children":c=y;break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(s(91));break;default:Ae(e,t,d,y,n,null)}Uc(e,i,u,c);return;case"option":for(p in n)if(n.hasOwnProperty(p)&&(i=n[p],i!=null))switch(p){case"selected":e.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:Ae(e,t,p,i,n,null)}return;case"dialog":de("beforetoggle",e),de("toggle",e),de("cancel",e),de("close",e);break;case"iframe":case"object":de("load",e);break;case"video":case"audio":for(i=0;i<Pi.length;i++)de(Pi[i],e);break;case"image":de("error",e),de("load",e);break;case"details":de("toggle",e);break;case"embed":case"source":case"link":de("error",e),de("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(R in n)if(n.hasOwnProperty(R)&&(i=n[R],i!=null))switch(R){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:Ae(e,t,R,i,n,null)}return;default:if(yl(t)){for(z in n)n.hasOwnProperty(z)&&(i=n[z],i!==void 0&&ao(e,t,z,i,n,void 0));return}}for(y in n)n.hasOwnProperty(y)&&(i=n[y],i!=null&&Ae(e,t,y,i,n,null))}function Yy(e,t,n,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var u=null,c=null,d=null,y=null,p=null,R=null,z=null;for(x in n){var B=n[x];if(n.hasOwnProperty(x)&&B!=null)switch(x){case"checked":break;case"value":break;case"defaultValue":p=B;default:i.hasOwnProperty(x)||Ae(e,t,x,null,i,B)}}for(var C in i){var x=i[C];if(B=n[C],i.hasOwnProperty(C)&&(x!=null||B!=null))switch(C){case"type":c=x;break;case"name":u=x;break;case"checked":R=x;break;case"defaultChecked":z=x;break;case"value":d=x;break;case"defaultValue":y=x;break;case"children":case"dangerouslySetInnerHTML":if(x!=null)throw Error(s(137,t));break;default:x!==B&&Ae(e,t,C,x,i,B)}}ml(e,d,y,p,R,z,c,u);return;case"select":x=d=y=C=null;for(c in n)if(p=n[c],n.hasOwnProperty(c)&&p!=null)switch(c){case"value":break;case"multiple":x=p;default:i.hasOwnProperty(c)||Ae(e,t,c,null,i,p)}for(u in i)if(c=i[u],p=n[u],i.hasOwnProperty(u)&&(c!=null||p!=null))switch(u){case"value":C=c;break;case"defaultValue":y=c;break;case"multiple":d=c;default:c!==p&&Ae(e,t,u,c,i,p)}t=y,n=d,i=x,C!=null?Ea(e,!!n,C,!1):!!i!=!!n&&(t!=null?Ea(e,!!n,t,!0):Ea(e,!!n,n?[]:"",!1));return;case"textarea":x=C=null;for(y in n)if(u=n[y],n.hasOwnProperty(y)&&u!=null&&!i.hasOwnProperty(y))switch(y){case"value":break;case"children":break;default:Ae(e,t,y,null,i,u)}for(d in i)if(u=i[d],c=n[d],i.hasOwnProperty(d)&&(u!=null||c!=null))switch(d){case"value":C=u;break;case"defaultValue":x=u;break;case"children":break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(s(91));break;default:u!==c&&Ae(e,t,d,u,i,c)}Nc(e,C,x);return;case"option":for(var Q in n)if(C=n[Q],n.hasOwnProperty(Q)&&C!=null&&!i.hasOwnProperty(Q))switch(Q){case"selected":e.selected=!1;break;default:Ae(e,t,Q,null,i,C)}for(p in i)if(C=i[p],x=n[p],i.hasOwnProperty(p)&&C!==x&&(C!=null||x!=null))switch(p){case"selected":e.selected=C&&typeof C!="function"&&typeof C!="symbol";break;default:Ae(e,t,p,C,i,x)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ee in n)C=n[ee],n.hasOwnProperty(ee)&&C!=null&&!i.hasOwnProperty(ee)&&Ae(e,t,ee,null,i,C);for(R in i)if(C=i[R],x=n[R],i.hasOwnProperty(R)&&C!==x&&(C!=null||x!=null))switch(R){case"children":case"dangerouslySetInnerHTML":if(C!=null)throw Error(s(137,t));break;default:Ae(e,t,R,C,i,x)}return;default:if(yl(t)){for(var je in n)C=n[je],n.hasOwnProperty(je)&&C!==void 0&&!i.hasOwnProperty(je)&&ao(e,t,je,void 0,i,C);for(z in i)C=i[z],x=n[z],!i.hasOwnProperty(z)||C===x||C===void 0&&x===void 0||ao(e,t,z,C,i,x);return}}for(var O in n)C=n[O],n.hasOwnProperty(O)&&C!=null&&!i.hasOwnProperty(O)&&Ae(e,t,O,null,i,C);for(B in i)C=i[B],x=n[B],!i.hasOwnProperty(B)||C===x||C==null&&x==null||Ae(e,t,B,C,i,x)}function Md(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Ky(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),i=0;i<n.length;i++){var u=n[i],c=u.transferSize,d=u.initiatorType,y=u.duration;if(c&&y&&Md(d)){for(d=0,y=u.responseEnd,i+=1;i<n.length;i++){var p=n[i],R=p.startTime;if(R>y)break;var z=p.transferSize,B=p.initiatorType;z&&Md(B)&&(p=p.responseEnd,d+=z*(p<y?1:(y-R)/(p-R)))}if(--i,t+=8*(c+d)/(u.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var io=null,ro=null;function Es(e){return e.nodeType===9?e:e.ownerDocument}function kd(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Bd(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function so(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var lo=null;function Qy(){var e=window.event;return e&&e.type==="popstate"?e===lo?!1:(lo=e,!0):(lo=null,!1)}var qd=typeof setTimeout=="function"?setTimeout:void 0,Xy=typeof clearTimeout=="function"?clearTimeout:void 0,Ld=typeof Promise=="function"?Promise:void 0,Jy=typeof queueMicrotask=="function"?queueMicrotask:typeof Ld<"u"?function(e){return Ld.resolve(null).then(e).catch(Zy)}:qd;function Zy(e){setTimeout(function(){throw e})}function Bn(e){return e==="head"}function Hd(e,t){var n=t,i=0;do{var u=n.nextSibling;if(e.removeChild(n),u&&u.nodeType===8)if(n=u.data,n==="/$"||n==="/&"){if(i===0){e.removeChild(u),ti(t);return}i--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")i++;else if(n==="html")er(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,er(n);for(var c=n.firstChild;c;){var d=c.nextSibling,y=c.nodeName;c[pi]||y==="SCRIPT"||y==="STYLE"||y==="LINK"&&c.rel.toLowerCase()==="stylesheet"||n.removeChild(c),c=d}}else n==="body"&&er(e.ownerDocument.body);n=u}while(n);ti(t)}function $d(e,t){var n=e;e=0;do{var i=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=i}while(n)}function uo(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":uo(n),dl(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function Iy(e,t,n,i){for(;e.nodeType===1;){var u=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!i&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(i){if(!e[pi])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(c=e.getAttribute("rel"),c==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(c!==u.rel||e.getAttribute("href")!==(u.href==null||u.href===""?null:u.href)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin)||e.getAttribute("title")!==(u.title==null?null:u.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(c=e.getAttribute("src"),(c!==(u.src==null?null:u.src)||e.getAttribute("type")!==(u.type==null?null:u.type)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin))&&c&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var c=u.name==null?null:""+u.name;if(u.type==="hidden"&&e.getAttribute("name")===c)return e}else return e;if(e=Bt(e.nextSibling),e===null)break}return null}function Fy(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Bt(e.nextSibling),e===null))return null;return e}function Gd(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Bt(e.nextSibling),e===null))return null;return e}function oo(e){return e.data==="$?"||e.data==="$~"}function co(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Py(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var i=function(){t(),n.removeEventListener("DOMContentLoaded",i)};n.addEventListener("DOMContentLoaded",i),e._reactRetry=i}}function Bt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var fo=null;function Vd(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return Bt(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function Yd(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function Kd(e,t,n){switch(t=Es(n),e){case"html":if(e=t.documentElement,!e)throw Error(s(452));return e;case"head":if(e=t.head,!e)throw Error(s(453));return e;case"body":if(e=t.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function er(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);dl(e)}var qt=new Map,Qd=new Set;function Ts(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var vn=V.d;V.d={f:Wy,r:e0,D:t0,C:n0,L:a0,m:i0,X:s0,S:r0,M:l0};function Wy(){var e=vn.f(),t=ms();return e||t}function e0(e){var t=_a(e);t!==null&&t.tag===5&&t.type==="form"?oh(t):vn.r(e)}var Pa=typeof document>"u"?null:document;function Xd(e,t,n){var i=Pa;if(i&&typeof t=="string"&&t){var u=Nt(t);u='link[rel="'+e+'"][href="'+u+'"]',typeof n=="string"&&(u+='[crossorigin="'+n+'"]'),Qd.has(u)||(Qd.add(u),e={rel:e,crossOrigin:n,href:t},i.querySelector(u)===null&&(t=i.createElement("link"),We(t,"link",e),Xe(t),i.head.appendChild(t)))}}function t0(e){vn.D(e),Xd("dns-prefetch",e,null)}function n0(e,t){vn.C(e,t),Xd("preconnect",e,t)}function a0(e,t,n){vn.L(e,t,n);var i=Pa;if(i&&e&&t){var u='link[rel="preload"][as="'+Nt(t)+'"]';t==="image"&&n&&n.imageSrcSet?(u+='[imagesrcset="'+Nt(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(u+='[imagesizes="'+Nt(n.imageSizes)+'"]')):u+='[href="'+Nt(e)+'"]';var c=u;switch(t){case"style":c=Wa(e);break;case"script":c=ei(e)}qt.has(c)||(e=_({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),qt.set(c,e),i.querySelector(u)!==null||t==="style"&&i.querySelector(tr(c))||t==="script"&&i.querySelector(nr(c))||(t=i.createElement("link"),We(t,"link",e),Xe(t),i.head.appendChild(t)))}}function i0(e,t){vn.m(e,t);var n=Pa;if(n&&e){var i=t&&typeof t.as=="string"?t.as:"script",u='link[rel="modulepreload"][as="'+Nt(i)+'"][href="'+Nt(e)+'"]',c=u;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":c=ei(e)}if(!qt.has(c)&&(e=_({rel:"modulepreload",href:e},t),qt.set(c,e),n.querySelector(u)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(nr(c)))return}i=n.createElement("link"),We(i,"link",e),Xe(i),n.head.appendChild(i)}}}function r0(e,t,n){vn.S(e,t,n);var i=Pa;if(i&&e){var u=Sa(i).hoistableStyles,c=Wa(e);t=t||"default";var d=u.get(c);if(!d){var y={loading:0,preload:null};if(d=i.querySelector(tr(c)))y.loading=5;else{e=_({rel:"stylesheet",href:e,"data-precedence":t},n),(n=qt.get(c))&&ho(e,n);var p=d=i.createElement("link");Xe(p),We(p,"link",e),p._p=new Promise(function(R,z){p.onload=R,p.onerror=z}),p.addEventListener("load",function(){y.loading|=1}),p.addEventListener("error",function(){y.loading|=2}),y.loading|=4,Os(d,t,i)}d={type:"stylesheet",instance:d,count:1,state:y},u.set(c,d)}}}function s0(e,t){vn.X(e,t);var n=Pa;if(n&&e){var i=Sa(n).hoistableScripts,u=ei(e),c=i.get(u);c||(c=n.querySelector(nr(u)),c||(e=_({src:e,async:!0},t),(t=qt.get(u))&&go(e,t),c=n.createElement("script"),Xe(c),We(c,"link",e),n.head.appendChild(c)),c={type:"script",instance:c,count:1,state:null},i.set(u,c))}}function l0(e,t){vn.M(e,t);var n=Pa;if(n&&e){var i=Sa(n).hoistableScripts,u=ei(e),c=i.get(u);c||(c=n.querySelector(nr(u)),c||(e=_({src:e,async:!0,type:"module"},t),(t=qt.get(u))&&go(e,t),c=n.createElement("script"),Xe(c),We(c,"link",e),n.head.appendChild(c)),c={type:"script",instance:c,count:1,state:null},i.set(u,c))}}function Jd(e,t,n,i){var u=(u=fe.current)?Ts(u):null;if(!u)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=Wa(n.href),n=Sa(u).hoistableStyles,i=n.get(t),i||(i={type:"style",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=Wa(n.href);var c=Sa(u).hoistableStyles,d=c.get(e);if(d||(u=u.ownerDocument||u,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},c.set(e,d),(c=u.querySelector(tr(e)))&&!c._p&&(d.instance=c,d.state.loading=5),qt.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},qt.set(e,n),c||u0(u,e,n,d.state))),t&&i===null)throw Error(s(528,""));return d}if(t&&i!==null)throw Error(s(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=ei(n),n=Sa(u).hoistableScripts,i=n.get(t),i||(i={type:"script",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Wa(e){return'href="'+Nt(e)+'"'}function tr(e){return'link[rel="stylesheet"]['+e+"]"}function Zd(e){return _({},e,{"data-precedence":e.precedence,precedence:null})}function u0(e,t,n,i){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?i.loading=1:(t=e.createElement("link"),i.preload=t,t.addEventListener("load",function(){return i.loading|=1}),t.addEventListener("error",function(){return i.loading|=2}),We(t,"link",n),Xe(t),e.head.appendChild(t))}function ei(e){return'[src="'+Nt(e)+'"]'}function nr(e){return"script[async]"+e}function Id(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var i=e.querySelector('style[data-href~="'+Nt(n.href)+'"]');if(i)return t.instance=i,Xe(i),i;var u=_({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return i=(e.ownerDocument||e).createElement("style"),Xe(i),We(i,"style",u),Os(i,n.precedence,e),t.instance=i;case"stylesheet":u=Wa(n.href);var c=e.querySelector(tr(u));if(c)return t.state.loading|=4,t.instance=c,Xe(c),c;i=Zd(n),(u=qt.get(u))&&ho(i,u),c=(e.ownerDocument||e).createElement("link"),Xe(c);var d=c;return d._p=new Promise(function(y,p){d.onload=y,d.onerror=p}),We(c,"link",i),t.state.loading|=4,Os(c,n.precedence,e),t.instance=c;case"script":return c=ei(n.src),(u=e.querySelector(nr(c)))?(t.instance=u,Xe(u),u):(i=n,(u=qt.get(c))&&(i=_({},n),go(i,u)),e=e.ownerDocument||e,u=e.createElement("script"),Xe(u),We(u,"link",i),e.head.appendChild(u),t.instance=u);case"void":return null;default:throw Error(s(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(i=t.instance,t.state.loading|=4,Os(i,n.precedence,e));return t.instance}function Os(e,t,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),u=i.length?i[i.length-1]:null,c=u,d=0;d<i.length;d++){var y=i[d];if(y.dataset.precedence===t)c=y;else if(c!==u)break}c?c.parentNode.insertBefore(e,c.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function ho(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function go(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var As=null;function Fd(e,t,n){if(As===null){var i=new Map,u=As=new Map;u.set(n,i)}else u=As,i=u.get(n),i||(i=new Map,u.set(n,i));if(i.has(e))return i;for(i.set(e,null),n=n.getElementsByTagName(e),u=0;u<n.length;u++){var c=n[u];if(!(c[pi]||c[Ze]||e==="link"&&c.getAttribute("rel")==="stylesheet")&&c.namespaceURI!=="http://www.w3.org/2000/svg"){var d=c.getAttribute(t)||"";d=e+d;var y=i.get(d);y?y.push(c):i.set(d,[c])}}return i}function Pd(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function o0(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Wd(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function c0(e,t,n,i){if(n.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var u=Wa(i.href),c=t.querySelector(tr(u));if(c){t=c._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=js.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=c,Xe(c);return}c=t.ownerDocument||t,i=Zd(i),(u=qt.get(u))&&ho(i,u),c=c.createElement("link"),Xe(c);var d=c;d._p=new Promise(function(y,p){d.onload=y,d.onerror=p}),We(c,"link",i),n.instance=c}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(e.count++,n=js.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var mo=0;function f0(e,t){return e.stylesheets&&e.count===0&&Cs(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var i=setTimeout(function(){if(e.stylesheets&&Cs(e,e.stylesheets),e.unsuspend){var c=e.unsuspend;e.unsuspend=null,c()}},6e4+t);0<e.imgBytes&&mo===0&&(mo=62500*Ky());var u=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Cs(e,e.stylesheets),e.unsuspend)){var c=e.unsuspend;e.unsuspend=null,c()}},(e.imgBytes>mo?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(i),clearTimeout(u)}}:null}function js(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Cs(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Rs=null;function Cs(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Rs=new Map,t.forEach(h0,e),Rs=null,js.call(e))}function h0(e,t){if(!(t.state.loading&4)){var n=Rs.get(e);if(n)var i=n.get(null);else{n=new Map,Rs.set(e,n);for(var u=e.querySelectorAll("link[data-precedence],style[data-precedence]"),c=0;c<u.length;c++){var d=u[c];(d.nodeName==="LINK"||d.getAttribute("media")!=="not all")&&(n.set(d.dataset.precedence,d),i=d)}i&&n.set(null,i)}u=t.instance,d=u.getAttribute("data-precedence"),c=n.get(d)||i,c===i&&n.set(null,u),n.set(d,u),this.count++,i=js.bind(this),u.addEventListener("load",i),u.addEventListener("error",i),c?c.parentNode.insertBefore(u,c.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(u,e.firstChild)),t.state.loading|=4}}var ar={$$typeof:H,Provider:null,Consumer:null,_currentValue:W,_currentValue2:W,_threadCount:0};function d0(e,t,n,i,u,c,d,y,p){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ol(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ol(0),this.hiddenUpdates=ol(null),this.identifierPrefix=i,this.onUncaughtError=u,this.onCaughtError=c,this.onRecoverableError=d,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=p,this.incompleteTransitions=new Map}function eg(e,t,n,i,u,c,d,y,p,R,z,B){return e=new d0(e,t,n,d,p,R,z,B,y),t=1,c===!0&&(t|=24),c=bt(3,null,null,t),e.current=c,c.stateNode=e,t=Xl(),t.refCount++,e.pooledCache=t,t.refCount++,c.memoizedState={element:i,isDehydrated:n,cache:t},Fl(c),e}function tg(e){return e?(e=Ua,e):Ua}function ng(e,t,n,i,u,c){u=tg(u),i.context===null?i.context=u:i.pendingContext=u,i=An(t),i.payload={element:n},c=c===void 0?null:c,c!==null&&(i.callback=c),n=jn(e,i,t),n!==null&&(gt(n,e,t),Mi(n,e,t))}function ag(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function vo(e,t){ag(e,t),(e=e.alternate)&&ag(e,t)}function ig(e){if(e.tag===13||e.tag===31){var t=Pn(e,67108864);t!==null&&gt(t,e,67108864),vo(e,67108864)}}function rg(e){if(e.tag===13||e.tag===31){var t=Tt();t=cl(t);var n=Pn(e,t);n!==null&&gt(n,e,t),vo(e,t)}}var Ns=!0;function g0(e,t,n,i){var u=M.T;M.T=null;var c=V.p;try{V.p=2,yo(e,t,n,i)}finally{V.p=c,M.T=u}}function m0(e,t,n,i){var u=M.T;M.T=null;var c=V.p;try{V.p=8,yo(e,t,n,i)}finally{V.p=c,M.T=u}}function yo(e,t,n,i){if(Ns){var u=po(i);if(u===null)no(e,t,i,Us,n),lg(e,i);else if(y0(u,e,t,n,i))i.stopPropagation();else if(lg(e,i),t&4&&-1<v0.indexOf(e)){for(;u!==null;){var c=_a(u);if(c!==null)switch(c.tag){case 3:if(c=c.stateNode,c.current.memoizedState.isDehydrated){var d=Xn(c.pendingLanes);if(d!==0){var y=c;for(y.pendingLanes|=2,y.entangledLanes|=2;d;){var p=1<<31-yt(d);y.entanglements[1]|=p,d&=~p}It(c),(_e&6)===0&&(ds=mt()+500,Fi(0))}}break;case 31:case 13:y=Pn(c,2),y!==null&&gt(y,c,2),ms(),vo(c,2)}if(c=po(i),c===null&&no(e,t,i,Us,n),c===u)break;u=c}u!==null&&i.stopPropagation()}else no(e,t,i,null,n)}}function po(e){return e=bl(e),bo(e)}var Us=null;function bo(e){if(Us=null,e=ba(e),e!==null){var t=f(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=h(t),e!==null)return e;e=null}else if(n===31){if(e=m(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Us=e,null}function sg(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(tv()){case dc:return 2;case gc:return 8;case _r:case nv:return 32;case mc:return 268435456;default:return 32}default:return 32}}var _o=!1,qn=null,Ln=null,Hn=null,ir=new Map,rr=new Map,$n=[],v0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function lg(e,t){switch(e){case"focusin":case"focusout":qn=null;break;case"dragenter":case"dragleave":Ln=null;break;case"mouseover":case"mouseout":Hn=null;break;case"pointerover":case"pointerout":ir.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":rr.delete(t.pointerId)}}function sr(e,t,n,i,u,c){return e===null||e.nativeEvent!==c?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:c,targetContainers:[u]},t!==null&&(t=_a(t),t!==null&&ig(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,u!==null&&t.indexOf(u)===-1&&t.push(u),e)}function y0(e,t,n,i,u){switch(t){case"focusin":return qn=sr(qn,e,t,n,i,u),!0;case"dragenter":return Ln=sr(Ln,e,t,n,i,u),!0;case"mouseover":return Hn=sr(Hn,e,t,n,i,u),!0;case"pointerover":var c=u.pointerId;return ir.set(c,sr(ir.get(c)||null,e,t,n,i,u)),!0;case"gotpointercapture":return c=u.pointerId,rr.set(c,sr(rr.get(c)||null,e,t,n,i,u)),!0}return!1}function ug(e){var t=ba(e.target);if(t!==null){var n=f(t);if(n!==null){if(t=n.tag,t===13){if(t=h(n),t!==null){e.blockedOn=t,Sc(e.priority,function(){rg(n)});return}}else if(t===31){if(t=m(n),t!==null){e.blockedOn=t,Sc(e.priority,function(){rg(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function xs(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=po(e.nativeEvent);if(n===null){n=e.nativeEvent;var i=new n.constructor(n.type,n);pl=i,n.target.dispatchEvent(i),pl=null}else return t=_a(n),t!==null&&ig(t),e.blockedOn=n,!1;t.shift()}return!0}function og(e,t,n){xs(e)&&n.delete(t)}function p0(){_o=!1,qn!==null&&xs(qn)&&(qn=null),Ln!==null&&xs(Ln)&&(Ln=null),Hn!==null&&xs(Hn)&&(Hn=null),ir.forEach(og),rr.forEach(og)}function Ds(e,t){e.blockedOn===t&&(e.blockedOn=null,_o||(_o=!0,l.unstable_scheduleCallback(l.unstable_NormalPriority,p0)))}var zs=null;function cg(e){zs!==e&&(zs=e,l.unstable_scheduleCallback(l.unstable_NormalPriority,function(){zs===e&&(zs=null);for(var t=0;t<e.length;t+=3){var n=e[t],i=e[t+1],u=e[t+2];if(typeof i!="function"){if(bo(i||n)===null)continue;break}var c=_a(n);c!==null&&(e.splice(t,3),t-=3,yu(c,{pending:!0,data:u,method:n.method,action:i},i,u))}}))}function ti(e){function t(p){return Ds(p,e)}qn!==null&&Ds(qn,e),Ln!==null&&Ds(Ln,e),Hn!==null&&Ds(Hn,e),ir.forEach(t),rr.forEach(t);for(var n=0;n<$n.length;n++){var i=$n[n];i.blockedOn===e&&(i.blockedOn=null)}for(;0<$n.length&&(n=$n[0],n.blockedOn===null);)ug(n),n.blockedOn===null&&$n.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(i=0;i<n.length;i+=3){var u=n[i],c=n[i+1],d=u[ut]||null;if(typeof c=="function")d||cg(n);else if(d){var y=null;if(c&&c.hasAttribute("formAction")){if(u=c,d=c[ut]||null)y=d.formAction;else if(bo(u)!==null)continue}else y=d.action;typeof y=="function"?n[i+1]=y:(n.splice(i,3),i-=3),cg(n)}}}function fg(){function e(c){c.canIntercept&&c.info==="react-transition"&&c.intercept({handler:function(){return new Promise(function(d){return u=d})},focusReset:"manual",scroll:"manual"})}function t(){u!==null&&(u(),u=null),i||setTimeout(n,20)}function n(){if(!i&&!navigation.transition){var c=navigation.currentEntry;c&&c.url!=null&&navigation.navigate(c.url,{state:c.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var i=!1,u=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){i=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),u!==null&&(u(),u=null)}}}function So(e){this._internalRoot=e}Ms.prototype.render=So.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(s(409));var n=t.current,i=Tt();ng(n,i,e,t,null,null)},Ms.prototype.unmount=So.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ng(e.current,2,null,e,null,null),ms(),t[pa]=null}};function Ms(e){this._internalRoot=e}Ms.prototype.unstable_scheduleHydration=function(e){if(e){var t=_c();e={blockedOn:null,target:e,priority:t};for(var n=0;n<$n.length&&t!==0&&t<$n[n].priority;n++);$n.splice(n,0,e),n===0&&ug(e)}};var hg=a.version;if(hg!=="19.2.0")throw Error(s(527,hg,"19.2.0"));V.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=v(t),e=e!==null?b(e):null,e=e===null?null:e.stateNode,e};var b0={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:M,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ks=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ks.isDisabled&&ks.supportsFiber)try{mi=ks.inject(b0),vt=ks}catch{}}return ur.createRoot=function(e,t){if(!o(e))throw Error(s(299));var n=!1,i="",u=bh,c=_h,d=Sh;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onUncaughtError!==void 0&&(u=t.onUncaughtError),t.onCaughtError!==void 0&&(c=t.onCaughtError),t.onRecoverableError!==void 0&&(d=t.onRecoverableError)),t=eg(e,1,!1,null,null,n,i,null,u,c,d,fg),e[pa]=t.current,to(e),new So(t)},ur.hydrateRoot=function(e,t,n){if(!o(e))throw Error(s(299));var i=!1,u="",c=bh,d=_h,y=Sh,p=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(u=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(d=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError),n.formState!==void 0&&(p=n.formState)),t=eg(e,1,!0,t,n??null,i,u,p,c,d,y,fg),t.context=tg(null),n=t.current,i=Tt(),i=cl(i),u=An(i),u.callback=null,jn(n,u,i),n=i,t.current.lanes=n,yi(t,n),It(t),e[pa]=t.current,to(e),new Ms(t)},ur.version="19.2.0",ur}var wg;function U0(){if(wg)return To.exports;wg=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(a){console.error(a)}}return l(),To.exports=N0(),To.exports}var x0=U0();const D0=tc(x0),z0="_button_hqhem_1",M0="_active_hqhem_19",Eg={button:z0,active:M0},Tg=({active:l,onClick:a,children:r})=>A.jsx("button",{onClick:a,className:`${Eg.button} ${l?Eg.active:""}`,type:"button",children:r}),k0=({text:l=" ..."})=>A.jsxs("div",{className:"loading-container",role:"status","aria-live":"polite",children:[A.jsx("div",{className:"loading-spinner","aria-hidden":"true"}),A.jsx("p",{className:"loading-text",children:l})]});class P{static info(a,r){console.log(`[INFO] ${a}`)}static debug(a,r){}static error(a,r){console.error(`[ERROR] ${a}`)}static warn(a,r){console.warn(`[WARN] ${a}`)}}const B0=({onAdd:l,isLoading:a=!1,airlines:r=[],cities:s=[]})=>{const o=new Date().toISOString().split("T")[0],[f,h]=ue.useState({origin:"",destination:"",date:o,airline:"",flightNumber:"",aircraft:void 0,registration:void 0,seat:void 0,distance:void 0,duration:void 0,class:"economy",note:void 0}),[m,g]=ue.useState({}),v=U=>{const{name:q,value:$}=U.target,H=$===""?void 0:$;h(K=>({...K,[q]:H})),m[q]&&g(K=>{const ie={...K};return delete ie[q],ie})},b=()=>{const U={};if(f.origin.trim()||(U.origin="  "),f.destination.trim()||(U.destination="  "),f.date?new Date(f.date)>new Date&&(U.date="     "):U.date="  ",f.airline.trim()||(U.airline=" "),f.flightNumber.trim()||(U.flightNumber="  "),f.distance!==void 0){const q=parseInt(f.distance,10);(isNaN(q)||q<0)&&(U.distance="    ")}return g(U),Object.keys(U).length===0},_=async U=>{if(U.preventDefault(),!!b())try{await l(f),h({origin:"",destination:"",date:o,airline:"",flightNumber:"",aircraft:void 0,registration:void 0,seat:void 0,distance:void 0,duration:void 0,class:"economy",note:void 0}),g({})}catch(q){P.error("Failed to add flight in form",q)}},T=()=>{window.confirm("   ?")&&(h({origin:"",destination:"",date:o,airline:"",flightNumber:"",aircraft:void 0,registration:void 0,seat:void 0,distance:void 0,duration:void 0,class:"economy",note:void 0}),g({}),setTimeout(()=>{document.querySelector('input[name="origin"]')?.focus()},0))},E=s.filter(U=>U.toLowerCase().includes(f.origin?.toLowerCase()||"")).slice(0,5),D=s.filter(U=>U.toLowerCase().includes(f.destination?.toLowerCase()||"")).slice(0,5),N=r.filter(U=>U.toLowerCase().includes(f.airline?.toLowerCase()||"")).slice(0,5);return A.jsxs("form",{onSubmit:_,className:"flight-form",children:[A.jsxs("div",{className:"form-section",children:[A.jsx("h4",{className:"section-title",children:" "}),A.jsxs("div",{className:"form-group",children:[A.jsx("label",{className:"form-label required",children:" "}),A.jsx("input",{type:"text",name:"origin",value:f.origin,onChange:v,placeholder:" (SVO)",required:!0,className:`form-input ${m.origin?"error":""}`,list:"cities-origin",autoFocus:!0}),A.jsx("datalist",{id:"cities-origin",children:E.map((U,q)=>A.jsx("option",{value:U},`origin-${q}`))}),m.origin&&A.jsx("span",{className:"error-message",children:m.origin})]}),A.jsxs("div",{className:"form-group",children:[A.jsx("label",{className:"form-label required",children:" "}),A.jsx("input",{type:"text",name:"destination",value:f.destination,onChange:v,placeholder:" (IST)",required:!0,className:`form-input ${m.destination?"error":""}`,list:"cities-destination"}),A.jsx("datalist",{id:"cities-destination",children:D.map((U,q)=>A.jsx("option",{value:U},`dest-${q}`))}),m.destination&&A.jsx("span",{className:"error-message",children:m.destination})]}),A.jsxs("div",{className:"form-group",children:[A.jsx("label",{className:"form-label required",children:" "}),A.jsx("input",{type:"date",name:"date",value:f.date,onChange:v,max:o,required:!0,className:`form-input ${m.date?"error":""}`}),m.date&&A.jsx("span",{className:"error-message",children:m.date})]})]}),A.jsxs("div",{className:"form-section",children:[A.jsx("h4",{className:"section-title",children:"   "}),A.jsxs("div",{className:"form-row",children:[A.jsxs("div",{className:"form-group",children:[A.jsx("label",{className:"form-label required",children:""}),A.jsx("input",{type:"text",name:"airline",value:f.airline,onChange:v,placeholder:"Turkish Airlines",required:!0,className:`form-input ${m.airline?"error":""}`,list:"airlines"}),A.jsx("datalist",{id:"airlines",children:N.map((U,q)=>A.jsx("option",{value:U},q))}),m.airline&&A.jsx("span",{className:"error-message",children:m.airline})]}),A.jsxs("div",{className:"form-group",children:[A.jsx("label",{className:"form-label required",children:" "}),A.jsx("input",{type:"text",name:"flightNumber",value:f.flightNumber,onChange:v,placeholder:"TK415",required:!0,className:`form-input ${m.flightNumber?"error":""}`}),m.flightNumber&&A.jsx("span",{className:"error-message",children:m.flightNumber})]})]}),A.jsxs("div",{className:"form-row",children:[A.jsxs("div",{className:"form-group",children:[A.jsx("label",{className:"form-label",children:" ()"}),A.jsx("input",{type:"text",name:"aircraft",value:f.aircraft??"",onChange:v,placeholder:"Boeing 737-800",className:"form-input"})]}),A.jsxs("div",{className:"form-group",children:[A.jsx("label",{className:"form-label",children:""}),A.jsx("input",{type:"text",name:"registration",value:f.registration??"",onChange:v,placeholder:"VP-BGD",className:"form-input"})]})]}),A.jsxs("div",{className:"form-group",children:[A.jsx("label",{className:"form-label",children:""}),A.jsx("input",{type:"text",name:"seat",value:f.seat??"",onChange:v,placeholder:"12A",className:"form-input"})]})]}),A.jsxs("div",{className:"form-section",children:[A.jsx("h4",{className:"section-title",children:"  "}),A.jsxs("div",{className:"form-row",children:[A.jsxs("div",{className:"form-group",children:[A.jsx("label",{className:"form-label",children:" ()"}),A.jsx("input",{type:"number",name:"distance",value:f.distance??"",onChange:v,placeholder:"1000",className:`form-input ${m.distance?"error":""}`,min:"0",step:"1"}),m.distance&&A.jsx("span",{className:"error-message",children:m.distance})]}),A.jsxs("div",{className:"form-group",children:[A.jsx("label",{className:"form-label",children:""}),A.jsx("input",{type:"text",name:"duration",value:f.duration??"",onChange:v,placeholder:"2h 30m",className:"form-input"})]})]}),A.jsxs("div",{className:"form-group",children:[A.jsx("label",{className:"form-label",children:" "}),A.jsxs("select",{name:"class",value:f.class,onChange:v,className:"form-input",children:[A.jsx("option",{value:"economy",children:""}),A.jsx("option",{value:"premium_economy",children:" "}),A.jsx("option",{value:"business",children:""}),A.jsx("option",{value:"first",children:""})]})]})]}),A.jsxs("div",{className:"form-section",children:[A.jsx("h4",{className:"section-title",children:" "}),A.jsxs("div",{className:"form-group",children:[A.jsx("label",{className:"form-label",children:" "}),A.jsx("textarea",{name:"note",value:f.note??"",onChange:v,placeholder:"  , ,   ..",className:"form-textarea",rows:3})]})]}),A.jsxs("div",{className:"form-actions",children:[A.jsx("button",{type:"submit",className:"submit-button",disabled:a,children:a?A.jsxs(A.Fragment,{children:[A.jsx("span",{className:"spinner"}),"..."]}):A.jsx(A.Fragment,{children:"  "})}),A.jsx("button",{type:"button",className:"clear-button",onClick:T,disabled:a,children:"  "})]})]})},Og=l=>{if(!l)return"";const[a,r,s]=l.split("-");return`${s}.${r}.${a}`},q0=l=>l?l.replace(/h/g,"").replace(/m/g,"").replace(/\s+/g," ").trim():"",L0=({flights:l,onDelete:a,isLoading:r=!1,className:s})=>{const[o,f]=ue.useState(""),h=ue.useMemo(()=>{if(!o.trim())return l;const g=o.toLowerCase();return l.filter(v=>v.origin.toLowerCase().includes(g)||v.destination.toLowerCase().includes(g)||v.airline.toLowerCase().includes(g)||v.flightNumber.toLowerCase().includes(g)||v.aircraft&&v.aircraft.toLowerCase().includes(g)||v.note&&v.note.toLowerCase().includes(g))},[l,o]),m=g=>{a(g)};return r?A.jsxs("div",{className:"loading-container",children:[A.jsx("div",{className:"loading-spinner"}),A.jsx("p",{children:" ..."})]}):l.length===0?A.jsxs("div",{className:"history-empty",children:[A.jsx("div",{className:"empty-icon",children:""}),A.jsx("h3",{children:"  "}),A.jsx("p",{children:"      "})]}):A.jsxs("div",{className:`history-container ${s||""}`,children:[A.jsxs("div",{className:"search-container",children:[A.jsx("input",{type:"text",placeholder:"   , , ...",value:o,onChange:g=>f(g.target.value),className:"search-input"}),A.jsxs("div",{className:"flight-count",children:[": ",h.length,"  ",l.length]})]}),h.length===0&&o?A.jsxs("div",{className:"no-results",children:[A.jsxs("p",{children:["     ",o,""]}),A.jsx("button",{onClick:()=>f(""),className:"clear-search",children:" "})]}):A.jsx("div",{className:"flight-list",children:h.map(g=>A.jsxs("div",{className:"flight-card",children:[A.jsxs("div",{className:"card-header",children:[A.jsxs("div",{className:"route",children:[A.jsx("span",{className:"city-badge departure",children:g.origin}),A.jsxs("div",{className:"flight-line",children:[A.jsxs("div",{className:"flight-dots",children:[A.jsx("div",{className:"dot"}),A.jsx("div",{className:"dot"}),A.jsx("div",{className:"dot"})]}),A.jsx("div",{className:"airplane",children:""})]}),A.jsx("span",{className:"city-badge arrival",children:g.destination})]}),A.jsx("button",{onClick:()=>m(g.id),className:"delete-btn","aria-label":`   ${Og(g.date)}`,disabled:r,children:r?"":""})]}),A.jsx("div",{className:"card-content",children:A.jsxs("div",{className:"flight-main-info",children:[A.jsxs("div",{className:"info-row",children:[A.jsx("span",{className:"info-label",children:":"}),A.jsx("span",{className:"info-value",children:Og(g.date)})]}),A.jsxs("div",{className:"info-row highlight",children:[A.jsx("span",{className:"info-label",children:":"}),A.jsxs("span",{className:"info-value",children:[g.airline," ",g.flightNumber]})]}),g.aircraft&&A.jsxs("div",{className:"info-row",children:[A.jsx("span",{className:"info-label",children:":"}),A.jsx("span",{className:"info-value",children:g.aircraft})]}),g.duration&&A.jsxs("div",{className:"info-row",children:[A.jsx("span",{className:"info-label",children:" :"}),A.jsx("span",{className:"info-value",children:q0(g.duration)})]}),g.distance&&A.jsxs("div",{className:"info-row",children:[A.jsx("span",{className:"info-label",children:":"}),A.jsxs("span",{className:"info-value",children:[g.distance.toLocaleString()," "]})]}),g.class&&A.jsxs("div",{className:"info-row",children:[A.jsx("span",{className:"info-label",children:":"}),A.jsx("span",{className:"info-value badge",children:H0(g.class)})]}),g.note&&A.jsxs("div",{className:"info-row note",children:[A.jsx("span",{className:"info-label",children:":"}),A.jsx("span",{className:"info-value",children:g.note})]})]})}),A.jsx("div",{className:"card-footer",children:A.jsxs("div",{className:"flight-meta",children:[g.registration&&A.jsxs("span",{className:"meta-item",children:[": ",g.registration]}),g.seat&&A.jsxs("span",{className:"meta-item",children:[": ",g.seat]})]})})]},g.id))})]})},H0=l=>({economy:"",premium_economy:" ",business:"",first:""})[l]||l,Ag=l=>{let a;const r=new Set,s=(v,b)=>{const _=typeof v=="function"?v(a):v;if(!Object.is(_,a)){const T=a;a=b??(typeof _!="object"||_===null)?_:Object.assign({},a,_),r.forEach(E=>E(a,T))}},o=()=>a,m={setState:s,getState:o,getInitialState:()=>g,subscribe:v=>(r.add(v),()=>r.delete(v))},g=a=l(s,o,m);return m},$0=(l=>l?Ag(l):Ag),G0=l=>l;function V0(l,a=G0){const r=or.useSyncExternalStore(l.subscribe,or.useCallback(()=>a(l.getState()),[l,a]),or.useCallback(()=>a(l.getInitialState()),[l,a]));return or.useDebugValue(r),r}const Y0=l=>{const a=$0(l),r=s=>V0(a,s);return Object.assign(r,a),r},K0=(l=>Y0);function im(l,a){let r;try{r=l()}catch{return}return{getItem:o=>{var f;const h=g=>g===null?null:JSON.parse(g,void 0),m=(f=r.getItem(o))!=null?f:null;return m instanceof Promise?m.then(h):h(m)},setItem:(o,f)=>r.setItem(o,JSON.stringify(f,void 0)),removeItem:o=>r.removeItem(o)}}const Lo=l=>a=>{try{const r=l(a);return r instanceof Promise?r:{then(s){return Lo(s)(r)},catch(s){return this}}}catch(r){return{then(s){return this},catch(s){return Lo(s)(r)}}}},Q0=(l,a)=>(r,s,o)=>{let f={storage:im(()=>localStorage),partialize:N=>N,version:0,merge:(N,U)=>({...U,...N}),...a},h=!1;const m=new Set,g=new Set;let v=f.storage;if(!v)return l((...N)=>{console.warn(`[zustand persist middleware] Unable to update item '${f.name}', the given storage is currently unavailable.`),r(...N)},s,o);const b=()=>{const N=f.partialize({...s()});return v.setItem(f.name,{state:N,version:f.version})},_=o.setState;o.setState=(N,U)=>(_(N,U),b());const T=l((...N)=>(r(...N),b()),s,o);o.getInitialState=()=>T;let E;const D=()=>{var N,U;if(!v)return;h=!1,m.forEach($=>{var H;return $((H=s())!=null?H:T)});const q=((U=f.onRehydrateStorage)==null?void 0:U.call(f,(N=s())!=null?N:T))||void 0;return Lo(v.getItem.bind(v))(f.name).then($=>{if($)if(typeof $.version=="number"&&$.version!==f.version){if(f.migrate){const H=f.migrate($.state,$.version);return H instanceof Promise?H.then(K=>[!0,K]):[!0,H]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,$.state];return[!1,void 0]}).then($=>{var H;const[K,ie]=$;if(E=f.merge(ie,(H=s())!=null?H:T),r(E,!0),K)return b()}).then(()=>{q?.(E,void 0),E=s(),h=!0,g.forEach($=>$(E))}).catch($=>{q?.(void 0,$)})};return o.persist={setOptions:N=>{f={...f,...N},N.storage&&(v=N.storage)},clearStorage:()=>{v?.removeItem(f.name)},getOptions:()=>f,rehydrate:()=>D(),hasHydrated:()=>h,onHydrate:N=>(m.add(N),()=>{m.delete(N)}),onFinishHydration:N=>(g.add(N),()=>{g.delete(N)})},f.skipHydration||D(),E||T},X0=Q0;var et=[];for(var Ro=0;Ro<256;++Ro)et.push((Ro+256).toString(16).slice(1));function J0(l,a=0){return(et[l[a+0]]+et[l[a+1]]+et[l[a+2]]+et[l[a+3]]+"-"+et[l[a+4]]+et[l[a+5]]+"-"+et[l[a+6]]+et[l[a+7]]+"-"+et[l[a+8]]+et[l[a+9]]+"-"+et[l[a+10]]+et[l[a+11]]+et[l[a+12]]+et[l[a+13]]+et[l[a+14]]+et[l[a+15]]).toLowerCase()}var Bs,Z0=new Uint8Array(16);function I0(){if(!Bs&&(Bs=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Bs))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Bs(Z0)}var F0=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);const jg={randomUUID:F0};function cr(l,a,r){if(jg.randomUUID&&!l)return jg.randomUUID();l=l||{};var s=l.random||(l.rng||I0)();return s[6]=s[6]&15|64,s[8]=s[8]&63|128,J0(s)}const P0=()=>`flight_${cr()}`,W0=l=>{const a=[];if(l.origin?.trim()||a.push("  "),l.destination?.trim()||a.push("  "),l.date||a.push("  "),l.airline?.trim()||a.push(" "),l.flightNumber?.trim()||a.push("  "),l.date){const r=new Date(l.date),s=new Date;s.setHours(0,0,0,0),r>s&&a.push("      ")}if(l.distance){const r=parseInt(l.distance,10);(isNaN(r)||r<0)&&a.push("    ")}return a},ep=l=>{const a=new Date().toISOString();return{date:l.date,airline:l.airline.trim(),flightNumber:l.flightNumber.trim().toUpperCase(),origin:l.origin.trim(),destination:l.destination.trim(),aircraft:l.aircraft?.trim()||void 0,registration:l.registration?.trim()?.toUpperCase()||void 0,seat:l.seat?.trim()?.toUpperCase()||void 0,distance:l.distance?parseInt(l.distance,10):void 0,duration:l.duration?.trim()||void 0,class:l.class,note:l.note?.trim()||void 0,updated_at:a}},tp=l=>{if(l.length===0)return{totalFlights:0,totalDistance:0,uniqueAirlines:0,uniqueDestinations:0,mostFrequentAirlines:[],firstFlight:void 0,lastFlight:void 0,longestFlight:void 0,shortestFlight:void 0};const a=l.reduce((T,E)=>T+(E.distance||0),0),r=l.reduce((T,E)=>(E.airline&&(T[E.airline]=(T[E.airline]||0)+1),T),{}),s=Object.keys(r).length,o=Object.entries(r).map(([T,E])=>({airline:T,count:E})).sort((T,E)=>E.count-T.count).slice(0,5),f=new Set(l.map(T=>T.destination).filter(Boolean)).size,h=[...l].sort((T,E)=>new Date(T.date).getTime()-new Date(E.date).getTime()),m=h[0],g=h[h.length-1],v=l.filter(T=>T.distance&&T.distance>0);let b,_;return v.length>0&&(b=v.reduce((T,E)=>(E.distance||0)>(T.distance||0)?E:T),_=v.reduce((T,E)=>(E.distance||0)<(T.distance||0)?E:T)),{totalFlights:l.length,totalDistance:a,uniqueAirlines:s,uniqueDestinations:f,mostFrequentAirlines:o,firstFlight:m?.date,lastFlight:g?.date,longestFlight:b,shortestFlight:_}},np=(l,a)=>{let r=[...l];if(a.search){const s=a.search.toLowerCase();r=r.filter(o=>o.origin.toLowerCase().includes(s)||o.destination.toLowerCase().includes(s)||o.airline.toLowerCase().includes(s)||o.flightNumber.toLowerCase().includes(s)||o.aircraft?.toLowerCase().includes(s)||o.note?.toLowerCase().includes(s))}if(a.airline&&(r=r.filter(s=>s.airline===a.airline)),a.dateFrom){const s=new Date(a.dateFrom);r=r.filter(o=>new Date(o.date)>=s)}if(a.dateTo){const s=new Date(a.dateTo);s.setHours(23,59,59,999),r=r.filter(o=>new Date(o.date)<=s)}return a.minDistance!==void 0&&(r=r.filter(s=>(s.distance||0)>=a.minDistance)),a.maxDistance!==void 0&&(r=r.filter(s=>(s.distance||0)<=a.maxDistance)),a.class&&(r=r.filter(s=>s.class===a.class)),a.sortBy?r.sort((s,o)=>{const f=a.sortOrder==="asc"?1:-1;switch(a.sortBy){case"date":return f*(new Date(s.date).getTime()-new Date(o.date).getTime());case"distance":return f*((s.distance||0)-(o.distance||0));case"airline":return f*s.airline.localeCompare(o.airline);case"created_at":return f*(new Date(s.created_at).getTime()-new Date(o.created_at).getTime());default:return 0}}):r.sort((s,o)=>new Date(o.date).getTime()-new Date(s.date).getTime()),r},Ho=K0()(X0((l,a)=>({flights:[],isLoading:!1,error:null,filters:{sortBy:"date",sortOrder:"desc"},selectedFlight:null,addFlight:async r=>{try{l({isLoading:!0,error:null});const s=W0(r);if(s.length>0)throw new Error(s.join(", "));const f={...ep(r),id:P0(),created_at:new Date().toISOString()};l(h=>({flights:[...h.flights,f],isLoading:!1})),P.debug("Flight added successfully",{flightId:f.id})}catch(s){const o=s instanceof Error?s.message:"   ";throw l({error:o,isLoading:!1}),P.error("Failed to add flight",s),s}},updateFlight:async(r,s)=>{try{l({isLoading:!0,error:null});const o=new Date().toISOString();l(h=>({flights:h.flights.map(m=>m.id===r?{...m,...s,updated_at:o}:m),isLoading:!1}));const{selectedFlight:f}=a();f?.id===r&&l({selectedFlight:{...f,...s,updated_at:o}}),P.debug("Flight updated successfully",{id:r,updates:Object.keys(s)})}catch(o){const f=o instanceof Error?o.message:"   ";throw l({error:f,isLoading:!1}),P.error("Failed to update flight",o),o}},deleteFlight:async r=>{try{l({isLoading:!0,error:null}),l(o=>({flights:o.flights.filter(f=>f.id!==r),isLoading:!1}));const{selectedFlight:s}=a();s?.id===r&&l({selectedFlight:null}),P.debug("Flight deleted successfully",{id:r})}catch(s){const o=s instanceof Error?s.message:"   ";throw l({error:o,isLoading:!1}),P.error("Failed to delete flight",s),s}},clearFlights:()=>{window.confirm("     . ?")&&(l({flights:[],selectedFlight:null,error:null}),P.warn("All flights cleared"))},setFilters:r=>{l(s=>({filters:{...s.filters,...r}}))},selectFlight:r=>{l({selectedFlight:r})},clearError:()=>{l({error:null})}}),{name:"flight-logbook-storage",storage:im(()=>localStorage),version:1,partialize:l=>({flights:l.flights,filters:l.filters})}));class $o{static getWebApp(){if(typeof window>"u")return null;const a=window.Telegram?.WebApp;return a&&console.debug("[TelegramService] WebApp found",{platform:a.platform,version:a.version}),a||null}static getUser(){const a=this.getWebApp();if(!a?.initDataUnsafe?.user)return null;const r=a.initDataUnsafe.user;return{id:r.id.toString(),name:r.first_name||r.username||""}}static initialize(a){try{a.ready(),a.expand(),console.debug("[TelegramService] WebApp initialized")}catch(r){throw console.error("[TelegramService] Initialization failed",r),r}}static isTelegramAvailable(){return!!this.getWebApp()}}const ap=()=>{const[l,a]=ue.useState(null),[r,s]=ue.useState(!1),[o,f]=ue.useState(null),h=ue.useCallback(()=>{const m=$o.getWebApp();if(m)try{$o.initialize(m),a(m),s(!0),f(m.themeParams),P.info("Telegram WebApp initialized successfully")}catch(g){P.error("Failed to initialize Telegram WebApp",g)}},[]);return ue.useEffect(()=>{h()},[h]),{webApp:l,isTelegram:r,themeParams:o}},ip=l=>{const[a,r]=ue.useState(null),[s,o]=ue.useState(!0),f=ue.useCallback(async()=>{try{o(!0);let h;if(l){const m=$o.getUser();if(m&&m.id){const g=`flightlog_user_id_${m.id}`;let v=localStorage.getItem(g);v||(v=cr(),localStorage.setItem(g,v),P.debug("Generated new persistent user ID",{telegramId:m.id,userId:v})),h={id:v,name:m.name,isTelegram:!0,telegramId:m.id.toString()}}else h={id:"anon_"+cr(),name:"",isTelegram:!0}}else h={id:"dev_"+cr(),name:"",isTelegram:!1};r(h),P.info("User initialized",{userId:h.id,isTelegram:h.isTelegram})}catch(h){P.error("Failed to initialize user",h);const m="fallback_"+cr();r({id:m,name:"",isTelegram:!1})}finally{o(!1)}},[l]);return ue.useEffect(()=>{f()},[f]),{user:a,loading:s}};var Go=function(l,a){return Go=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(r[o]=s[o])},Go(l,a)};function rm(l,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");Go(l,a);function r(){this.constructor=l}l.prototype=a===null?Object.create(a):(r.prototype=a.prototype,new r)}var Zs=function(){return Zs=Object.assign||function(a){for(var r,s=1,o=arguments.length;s<o;s++){r=arguments[s];for(var f in r)Object.prototype.hasOwnProperty.call(r,f)&&(a[f]=r[f])}return a},Zs.apply(this,arguments)};function hi(l,a){var r={};for(var s in l)Object.prototype.hasOwnProperty.call(l,s)&&a.indexOf(s)<0&&(r[s]=l[s]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(l);o<s.length;o++)a.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(l,s[o])&&(r[s[o]]=l[s[o]]);return r}function sm(l,a,r,s){var o=arguments.length,f=o<3?a:s===null?s=Object.getOwnPropertyDescriptor(a,r):s,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")f=Reflect.decorate(l,a,r,s);else for(var m=l.length-1;m>=0;m--)(h=l[m])&&(f=(o<3?h(f):o>3?h(a,r,f):h(a,r))||f);return o>3&&f&&Object.defineProperty(a,r,f),f}function lm(l,a){return function(r,s){a(r,s,l)}}function um(l,a,r,s,o,f){function h(q){if(q!==void 0&&typeof q!="function")throw new TypeError("Function expected");return q}for(var m=s.kind,g=m==="getter"?"get":m==="setter"?"set":"value",v=!a&&l?s.static?l:l.prototype:null,b=a||(v?Object.getOwnPropertyDescriptor(v,s.name):{}),_,T=!1,E=r.length-1;E>=0;E--){var D={};for(var N in s)D[N]=N==="access"?{}:s[N];for(var N in s.access)D.access[N]=s.access[N];D.addInitializer=function(q){if(T)throw new TypeError("Cannot add initializers after decoration has completed");f.push(h(q||null))};var U=(0,r[E])(m==="accessor"?{get:b.get,set:b.set}:b[g],D);if(m==="accessor"){if(U===void 0)continue;if(U===null||typeof U!="object")throw new TypeError("Object expected");(_=h(U.get))&&(b.get=_),(_=h(U.set))&&(b.set=_),(_=h(U.init))&&o.unshift(_)}else(_=h(U))&&(m==="field"?o.unshift(_):b[g]=_)}v&&Object.defineProperty(v,s.name,b),T=!0}function om(l,a,r){for(var s=arguments.length>2,o=0;o<a.length;o++)r=s?a[o].call(l,r):a[o].call(l);return s?r:void 0}function cm(l){return typeof l=="symbol"?l:"".concat(l)}function fm(l,a,r){return typeof a=="symbol"&&(a=a.description?"[".concat(a.description,"]"):""),Object.defineProperty(l,"name",{configurable:!0,value:r?"".concat(r," ",a):a})}function hm(l,a){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(l,a)}function X(l,a,r,s){function o(f){return f instanceof r?f:new r(function(h){h(f)})}return new(r||(r=Promise))(function(f,h){function m(b){try{v(s.next(b))}catch(_){h(_)}}function g(b){try{v(s.throw(b))}catch(_){h(_)}}function v(b){b.done?f(b.value):o(b.value).then(m,g)}v((s=s.apply(l,a||[])).next())})}function dm(l,a){var r={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},s,o,f,h=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return h.next=m(0),h.throw=m(1),h.return=m(2),typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function m(v){return function(b){return g([v,b])}}function g(v){if(s)throw new TypeError("Generator is already executing.");for(;h&&(h=0,v[0]&&(r=0)),r;)try{if(s=1,o&&(f=v[0]&2?o.return:v[0]?o.throw||((f=o.return)&&f.call(o),0):o.next)&&!(f=f.call(o,v[1])).done)return f;switch(o=0,f&&(v=[v[0]&2,f.value]),v[0]){case 0:case 1:f=v;break;case 4:return r.label++,{value:v[1],done:!1};case 5:r.label++,o=v[1],v=[0];continue;case 7:v=r.ops.pop(),r.trys.pop();continue;default:if(f=r.trys,!(f=f.length>0&&f[f.length-1])&&(v[0]===6||v[0]===2)){r=0;continue}if(v[0]===3&&(!f||v[1]>f[0]&&v[1]<f[3])){r.label=v[1];break}if(v[0]===6&&r.label<f[1]){r.label=f[1],f=v;break}if(f&&r.label<f[2]){r.label=f[2],r.ops.push(v);break}f[2]&&r.ops.pop(),r.trys.pop();continue}v=a.call(l,r)}catch(b){v=[6,b],o=0}finally{s=f=0}if(v[0]&5)throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}}var el=Object.create?(function(l,a,r,s){s===void 0&&(s=r);var o=Object.getOwnPropertyDescriptor(a,r);(!o||("get"in o?!a.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return a[r]}}),Object.defineProperty(l,s,o)}):(function(l,a,r,s){s===void 0&&(s=r),l[s]=a[r]});function gm(l,a){for(var r in l)r!=="default"&&!Object.prototype.hasOwnProperty.call(a,r)&&el(a,l,r)}function Is(l){var a=typeof Symbol=="function"&&Symbol.iterator,r=a&&l[a],s=0;if(r)return r.call(l);if(l&&typeof l.length=="number")return{next:function(){return l&&s>=l.length&&(l=void 0),{value:l&&l[s++],done:!l}}};throw new TypeError(a?"Object is not iterable.":"Symbol.iterator is not defined.")}function ac(l,a){var r=typeof Symbol=="function"&&l[Symbol.iterator];if(!r)return l;var s=r.call(l),o,f=[],h;try{for(;(a===void 0||a-- >0)&&!(o=s.next()).done;)f.push(o.value)}catch(m){h={error:m}}finally{try{o&&!o.done&&(r=s.return)&&r.call(s)}finally{if(h)throw h.error}}return f}function mm(){for(var l=[],a=0;a<arguments.length;a++)l=l.concat(ac(arguments[a]));return l}function vm(){for(var l=0,a=0,r=arguments.length;a<r;a++)l+=arguments[a].length;for(var s=Array(l),o=0,a=0;a<r;a++)for(var f=arguments[a],h=0,m=f.length;h<m;h++,o++)s[o]=f[h];return s}function ym(l,a,r){if(r||arguments.length===2)for(var s=0,o=a.length,f;s<o;s++)(f||!(s in a))&&(f||(f=Array.prototype.slice.call(a,0,s)),f[s]=a[s]);return l.concat(f||Array.prototype.slice.call(a))}function fi(l){return this instanceof fi?(this.v=l,this):new fi(l)}function pm(l,a,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=r.apply(l,a||[]),o,f=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),m("next"),m("throw"),m("return",h),o[Symbol.asyncIterator]=function(){return this},o;function h(E){return function(D){return Promise.resolve(D).then(E,_)}}function m(E,D){s[E]&&(o[E]=function(N){return new Promise(function(U,q){f.push([E,N,U,q])>1||g(E,N)})},D&&(o[E]=D(o[E])))}function g(E,D){try{v(s[E](D))}catch(N){T(f[0][3],N)}}function v(E){E.value instanceof fi?Promise.resolve(E.value.v).then(b,_):T(f[0][2],E)}function b(E){g("next",E)}function _(E){g("throw",E)}function T(E,D){E(D),f.shift(),f.length&&g(f[0][0],f[0][1])}}function bm(l){var a,r;return a={},s("next"),s("throw",function(o){throw o}),s("return"),a[Symbol.iterator]=function(){return this},a;function s(o,f){a[o]=l[o]?function(h){return(r=!r)?{value:fi(l[o](h)),done:!1}:f?f(h):h}:f}}function _m(l){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=l[Symbol.asyncIterator],r;return a?a.call(l):(l=typeof Is=="function"?Is(l):l[Symbol.iterator](),r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r);function s(f){r[f]=l[f]&&function(h){return new Promise(function(m,g){h=l[f](h),o(m,g,h.done,h.value)})}}function o(f,h,m,g){Promise.resolve(g).then(function(v){f({value:v,done:m})},h)}}function Sm(l,a){return Object.defineProperty?Object.defineProperty(l,"raw",{value:a}):l.raw=a,l}var rp=Object.create?(function(l,a){Object.defineProperty(l,"default",{enumerable:!0,value:a})}):function(l,a){l.default=a},Vo=function(l){return Vo=Object.getOwnPropertyNames||function(a){var r=[];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(r[r.length]=s);return r},Vo(l)};function wm(l){if(l&&l.__esModule)return l;var a={};if(l!=null)for(var r=Vo(l),s=0;s<r.length;s++)r[s]!=="default"&&el(a,l,r[s]);return rp(a,l),a}function Em(l){return l&&l.__esModule?l:{default:l}}function Tm(l,a,r,s){if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof a=="function"?l!==a||!s:!a.has(l))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?s:r==="a"?s.call(l):s?s.value:a.get(l)}function Om(l,a,r,s,o){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof a=="function"?l!==a||!o:!a.has(l))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?o.call(l,r):o?o.value=r:a.set(l,r),r}function Am(l,a){if(a===null||typeof a!="object"&&typeof a!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof l=="function"?a===l:l.has(a)}function jm(l,a,r){if(a!=null){if(typeof a!="object"&&typeof a!="function")throw new TypeError("Object expected.");var s,o;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");s=a[Symbol.asyncDispose]}if(s===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");s=a[Symbol.dispose],r&&(o=s)}if(typeof s!="function")throw new TypeError("Object not disposable.");o&&(s=function(){try{o.call(this)}catch(f){return Promise.reject(f)}}),l.stack.push({value:a,dispose:s,async:r})}else r&&l.stack.push({async:!0});return a}var sp=typeof SuppressedError=="function"?SuppressedError:function(l,a,r){var s=new Error(r);return s.name="SuppressedError",s.error=l,s.suppressed=a,s};function Rm(l){function a(f){l.error=l.hasError?new sp(f,l.error,"An error was suppressed during disposal."):f,l.hasError=!0}var r,s=0;function o(){for(;r=l.stack.pop();)try{if(!r.async&&s===1)return s=0,l.stack.push(r),Promise.resolve().then(o);if(r.dispose){var f=r.dispose.call(r.value);if(r.async)return s|=2,Promise.resolve(f).then(o,function(h){return a(h),o()})}else s|=1}catch(h){a(h)}if(s===1)return l.hasError?Promise.reject(l.error):Promise.resolve();if(l.hasError)throw l.error}return o()}function Cm(l,a){return typeof l=="string"&&/^\.\.?\//.test(l)?l.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,s,o,f,h){return s?a?".jsx":".js":o&&(!f||!h)?r:o+f+"."+h.toLowerCase()+"js"}):l}const lp={__extends:rm,__assign:Zs,__rest:hi,__decorate:sm,__param:lm,__esDecorate:um,__runInitializers:om,__propKey:cm,__setFunctionName:fm,__metadata:hm,__awaiter:X,__generator:dm,__createBinding:el,__exportStar:gm,__values:Is,__read:ac,__spread:mm,__spreadArrays:vm,__spreadArray:ym,__await:fi,__asyncGenerator:pm,__asyncDelegator:bm,__asyncValues:_m,__makeTemplateObject:Sm,__importStar:wm,__importDefault:Em,__classPrivateFieldGet:Tm,__classPrivateFieldSet:Om,__classPrivateFieldIn:Am,__addDisposableResource:jm,__disposeResources:Rm,__rewriteRelativeImportExtension:Cm},up=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:jm,get __assign(){return Zs},__asyncDelegator:bm,__asyncGenerator:pm,__asyncValues:_m,__await:fi,__awaiter:X,__classPrivateFieldGet:Tm,__classPrivateFieldIn:Am,__classPrivateFieldSet:Om,__createBinding:el,__decorate:sm,__disposeResources:Rm,__esDecorate:um,__exportStar:gm,__extends:rm,__generator:dm,__importDefault:Em,__importStar:wm,__makeTemplateObject:Sm,__metadata:hm,__param:lm,__propKey:cm,__read:ac,__rest:hi,__rewriteRelativeImportExtension:Cm,__runInitializers:om,__setFunctionName:fm,__spread:mm,__spreadArray:ym,__spreadArrays:vm,__values:Is,default:lp},Symbol.toStringTag,{value:"Module"})),op=l=>l?(...a)=>l(...a):(...a)=>fetch(...a);class ic extends Error{constructor(a,r="FunctionsError",s){super(a),this.name=r,this.context=s}}class cp extends ic{constructor(a){super("Failed to send a request to the Edge Function","FunctionsFetchError",a)}}class Rg extends ic{constructor(a){super("Relay Error invoking the Edge Function","FunctionsRelayError",a)}}class Cg extends ic{constructor(a){super("Edge Function returned a non-2xx status code","FunctionsHttpError",a)}}var Yo;(function(l){l.Any="any",l.ApNortheast1="ap-northeast-1",l.ApNortheast2="ap-northeast-2",l.ApSouth1="ap-south-1",l.ApSoutheast1="ap-southeast-1",l.ApSoutheast2="ap-southeast-2",l.CaCentral1="ca-central-1",l.EuCentral1="eu-central-1",l.EuWest1="eu-west-1",l.EuWest2="eu-west-2",l.EuWest3="eu-west-3",l.SaEast1="sa-east-1",l.UsEast1="us-east-1",l.UsWest1="us-west-1",l.UsWest2="us-west-2"})(Yo||(Yo={}));class fp{constructor(a,{headers:r={},customFetch:s,region:o=Yo.Any}={}){this.url=a,this.headers=r,this.region=o,this.fetch=op(s)}setAuth(a){this.headers.Authorization=`Bearer ${a}`}invoke(a){return X(this,arguments,void 0,function*(r,s={}){var o;let f,h;try{const{headers:m,method:g,body:v,signal:b,timeout:_}=s;let T={},{region:E}=s;E||(E=this.region);const D=new URL(`${this.url}/${r}`);E&&E!=="any"&&(T["x-region"]=E,D.searchParams.set("forceFunctionRegion",E));let N;v&&(m&&!Object.prototype.hasOwnProperty.call(m,"Content-Type")||!m)?typeof Blob<"u"&&v instanceof Blob||v instanceof ArrayBuffer?(T["Content-Type"]="application/octet-stream",N=v):typeof v=="string"?(T["Content-Type"]="text/plain",N=v):typeof FormData<"u"&&v instanceof FormData?N=v:(T["Content-Type"]="application/json",N=JSON.stringify(v)):N=v;let U=b;_&&(h=new AbortController,f=setTimeout(()=>h.abort(),_),b?(U=h.signal,b.addEventListener("abort",()=>h.abort())):U=h.signal);const q=yield this.fetch(D.toString(),{method:g||"POST",headers:Object.assign(Object.assign(Object.assign({},T),this.headers),m),body:N,signal:U}).catch(ie=>{throw new cp(ie)}),$=q.headers.get("x-relay-error");if($&&$==="true")throw new Rg(q);if(!q.ok)throw new Cg(q);let H=((o=q.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),K;return H==="application/json"?K=yield q.json():H==="application/octet-stream"||H==="application/pdf"?K=yield q.blob():H==="text/event-stream"?K=q:H==="multipart/form-data"?K=yield q.formData():K=yield q.text(),{data:K,error:null,response:q}}catch(m){return{data:null,error:m,response:m instanceof Cg||m instanceof Rg?m.context:void 0}}finally{f&&clearTimeout(f)}})}}var it={};const di=w0(up);var qs={},Ls={},Hs={},$s={},Gs={},Vs={},Ng;function Nm(){if(Ng)return Vs;Ng=1,Object.defineProperty(Vs,"__esModule",{value:!0});class l extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return Vs.default=l,Vs}var Ug;function Um(){if(Ug)return Gs;Ug=1,Object.defineProperty(Gs,"__esModule",{value:!0});const a=di.__importDefault(Nm());class r{constructor(o){var f,h;this.shouldThrowOnError=!1,this.method=o.method,this.url=o.url,this.headers=new Headers(o.headers),this.schema=o.schema,this.body=o.body,this.shouldThrowOnError=(f=o.shouldThrowOnError)!==null&&f!==void 0?f:!1,this.signal=o.signal,this.isMaybeSingle=(h=o.isMaybeSingle)!==null&&h!==void 0?h:!1,o.fetch?this.fetch=o.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(o,f){return this.headers=new Headers(this.headers),this.headers.set(o,f),this}then(o,f){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const h=this.fetch;let m=h(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async g=>{var v,b,_,T;let E=null,D=null,N=null,U=g.status,q=g.statusText;if(g.ok){if(this.method!=="HEAD"){const ie=await g.text();ie===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((v=this.headers.get("Accept"))===null||v===void 0)&&v.includes("application/vnd.pgrst.plan+text"))?D=ie:D=JSON.parse(ie))}const H=(b=this.headers.get("Prefer"))===null||b===void 0?void 0:b.match(/count=(exact|planned|estimated)/),K=(_=g.headers.get("content-range"))===null||_===void 0?void 0:_.split("/");H&&K&&K.length>1&&(N=parseInt(K[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(D)&&(D.length>1?(E={code:"PGRST116",details:`Results contain ${D.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},D=null,N=null,U=406,q="Not Acceptable"):D.length===1?D=D[0]:D=null)}else{const H=await g.text();try{E=JSON.parse(H),Array.isArray(E)&&g.status===404&&(D=[],E=null,U=200,q="OK")}catch{g.status===404&&H===""?(U=204,q="No Content"):E={message:H}}if(E&&this.isMaybeSingle&&(!((T=E?.details)===null||T===void 0)&&T.includes("0 rows"))&&(E=null,U=200,q="OK"),E&&this.shouldThrowOnError)throw new a.default(E)}return{error:E,data:D,count:N,status:U,statusText:q}});return this.shouldThrowOnError||(m=m.catch(g=>{var v,b,_,T,E,D;let N="";const U=g?.cause;if(U){const q=(v=U?.message)!==null&&v!==void 0?v:"",$=(b=U?.code)!==null&&b!==void 0?b:"";N=`${(_=g?.name)!==null&&_!==void 0?_:"FetchError"}: ${g?.message}`,N+=`

Caused by: ${(T=U?.name)!==null&&T!==void 0?T:"Error"}: ${q}`,$&&(N+=` (${$})`),U?.stack&&(N+=`
${U.stack}`)}else N=(E=g?.stack)!==null&&E!==void 0?E:"";return{error:{message:`${(D=g?.name)!==null&&D!==void 0?D:"FetchError"}: ${g?.message}`,details:N,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),m.then(o,f)}returns(){return this}overrideTypes(){return this}}return Gs.default=r,Gs}var xg;function xm(){if(xg)return $s;xg=1,Object.defineProperty($s,"__esModule",{value:!0});const a=di.__importDefault(Um());class r extends a.default{select(o){let f=!1;const h=(o??"*").split("").map(m=>/\s/.test(m)&&!f?"":(m==='"'&&(f=!f),m)).join("");return this.url.searchParams.set("select",h),this.headers.append("Prefer","return=representation"),this}order(o,{ascending:f=!0,nullsFirst:h,foreignTable:m,referencedTable:g=m}={}){const v=g?`${g}.order`:"order",b=this.url.searchParams.get(v);return this.url.searchParams.set(v,`${b?`${b},`:""}${o}.${f?"asc":"desc"}${h===void 0?"":h?".nullsfirst":".nullslast"}`),this}limit(o,{foreignTable:f,referencedTable:h=f}={}){const m=typeof h>"u"?"limit":`${h}.limit`;return this.url.searchParams.set(m,`${o}`),this}range(o,f,{foreignTable:h,referencedTable:m=h}={}){const g=typeof m>"u"?"offset":`${m}.offset`,v=typeof m>"u"?"limit":`${m}.limit`;return this.url.searchParams.set(g,`${o}`),this.url.searchParams.set(v,`${f-o+1}`),this}abortSignal(o){return this.signal=o,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:o=!1,verbose:f=!1,settings:h=!1,buffers:m=!1,wal:g=!1,format:v="text"}={}){var b;const _=[o?"analyze":null,f?"verbose":null,h?"settings":null,m?"buffers":null,g?"wal":null].filter(Boolean).join("|"),T=(b=this.headers.get("Accept"))!==null&&b!==void 0?b:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${v}; for="${T}"; options=${_};`),v==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(o){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${o}`),this}}return $s.default=r,$s}var Dg;function rc(){if(Dg)return Hs;Dg=1,Object.defineProperty(Hs,"__esModule",{value:!0});const a=di.__importDefault(xm()),r=new RegExp("[,()]");class s extends a.default{eq(f,h){return this.url.searchParams.append(f,`eq.${h}`),this}neq(f,h){return this.url.searchParams.append(f,`neq.${h}`),this}gt(f,h){return this.url.searchParams.append(f,`gt.${h}`),this}gte(f,h){return this.url.searchParams.append(f,`gte.${h}`),this}lt(f,h){return this.url.searchParams.append(f,`lt.${h}`),this}lte(f,h){return this.url.searchParams.append(f,`lte.${h}`),this}like(f,h){return this.url.searchParams.append(f,`like.${h}`),this}likeAllOf(f,h){return this.url.searchParams.append(f,`like(all).{${h.join(",")}}`),this}likeAnyOf(f,h){return this.url.searchParams.append(f,`like(any).{${h.join(",")}}`),this}ilike(f,h){return this.url.searchParams.append(f,`ilike.${h}`),this}ilikeAllOf(f,h){return this.url.searchParams.append(f,`ilike(all).{${h.join(",")}}`),this}ilikeAnyOf(f,h){return this.url.searchParams.append(f,`ilike(any).{${h.join(",")}}`),this}regexMatch(f,h){return this.url.searchParams.append(f,`match.${h}`),this}regexIMatch(f,h){return this.url.searchParams.append(f,`imatch.${h}`),this}is(f,h){return this.url.searchParams.append(f,`is.${h}`),this}isDistinct(f,h){return this.url.searchParams.append(f,`isdistinct.${h}`),this}in(f,h){const m=Array.from(new Set(h)).map(g=>typeof g=="string"&&r.test(g)?`"${g}"`:`${g}`).join(",");return this.url.searchParams.append(f,`in.(${m})`),this}contains(f,h){return typeof h=="string"?this.url.searchParams.append(f,`cs.${h}`):Array.isArray(h)?this.url.searchParams.append(f,`cs.{${h.join(",")}}`):this.url.searchParams.append(f,`cs.${JSON.stringify(h)}`),this}containedBy(f,h){return typeof h=="string"?this.url.searchParams.append(f,`cd.${h}`):Array.isArray(h)?this.url.searchParams.append(f,`cd.{${h.join(",")}}`):this.url.searchParams.append(f,`cd.${JSON.stringify(h)}`),this}rangeGt(f,h){return this.url.searchParams.append(f,`sr.${h}`),this}rangeGte(f,h){return this.url.searchParams.append(f,`nxl.${h}`),this}rangeLt(f,h){return this.url.searchParams.append(f,`sl.${h}`),this}rangeLte(f,h){return this.url.searchParams.append(f,`nxr.${h}`),this}rangeAdjacent(f,h){return this.url.searchParams.append(f,`adj.${h}`),this}overlaps(f,h){return typeof h=="string"?this.url.searchParams.append(f,`ov.${h}`):this.url.searchParams.append(f,`ov.{${h.join(",")}}`),this}textSearch(f,h,{config:m,type:g}={}){let v="";g==="plain"?v="pl":g==="phrase"?v="ph":g==="websearch"&&(v="w");const b=m===void 0?"":`(${m})`;return this.url.searchParams.append(f,`${v}fts${b}.${h}`),this}match(f){return Object.entries(f).forEach(([h,m])=>{this.url.searchParams.append(h,`eq.${m}`)}),this}not(f,h,m){return this.url.searchParams.append(f,`not.${h}.${m}`),this}or(f,{foreignTable:h,referencedTable:m=h}={}){const g=m?`${m}.or`:"or";return this.url.searchParams.append(g,`(${f})`),this}filter(f,h,m){return this.url.searchParams.append(f,`${h}.${m}`),this}}return Hs.default=s,Hs}var zg;function Dm(){if(zg)return Ls;zg=1,Object.defineProperty(Ls,"__esModule",{value:!0});const a=di.__importDefault(rc());class r{constructor(o,{headers:f={},schema:h,fetch:m}){this.url=o,this.headers=new Headers(f),this.schema=h,this.fetch=m}select(o,f){const{head:h=!1,count:m}=f??{},g=h?"HEAD":"GET";let v=!1;const b=(o??"*").split("").map(_=>/\s/.test(_)&&!v?"":(_==='"'&&(v=!v),_)).join("");return this.url.searchParams.set("select",b),m&&this.headers.append("Prefer",`count=${m}`),new a.default({method:g,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(o,{count:f,defaultToNull:h=!0}={}){var m;const g="POST";if(f&&this.headers.append("Prefer",`count=${f}`),h||this.headers.append("Prefer","missing=default"),Array.isArray(o)){const v=o.reduce((b,_)=>b.concat(Object.keys(_)),[]);if(v.length>0){const b=[...new Set(v)].map(_=>`"${_}"`);this.url.searchParams.set("columns",b.join(","))}}return new a.default({method:g,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}upsert(o,{onConflict:f,ignoreDuplicates:h=!1,count:m,defaultToNull:g=!0}={}){var v;const b="POST";if(this.headers.append("Prefer",`resolution=${h?"ignore":"merge"}-duplicates`),f!==void 0&&this.url.searchParams.set("on_conflict",f),m&&this.headers.append("Prefer",`count=${m}`),g||this.headers.append("Prefer","missing=default"),Array.isArray(o)){const _=o.reduce((T,E)=>T.concat(Object.keys(E)),[]);if(_.length>0){const T=[...new Set(_)].map(E=>`"${E}"`);this.url.searchParams.set("columns",T.join(","))}}return new a.default({method:b,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(v=this.fetch)!==null&&v!==void 0?v:fetch})}update(o,{count:f}={}){var h;const m="PATCH";return f&&this.headers.append("Prefer",`count=${f}`),new a.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}delete({count:o}={}){var f;const h="DELETE";return o&&this.headers.append("Prefer",`count=${o}`),new a.default({method:h,url:this.url,headers:this.headers,schema:this.schema,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}}return Ls.default=r,Ls}var Mg;function hp(){if(Mg)return qs;Mg=1,Object.defineProperty(qs,"__esModule",{value:!0});const l=di,a=l.__importDefault(Dm()),r=l.__importDefault(rc());class s{constructor(f,{headers:h={},schema:m,fetch:g}={}){this.url=f,this.headers=new Headers(h),this.schemaName=m,this.fetch=g}from(f){if(!f||typeof f!="string"||f.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const h=new URL(`${this.url}/${f}`);return new a.default(h,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(f){return new s(this.url,{headers:this.headers,schema:f,fetch:this.fetch})}rpc(f,h={},{head:m=!1,get:g=!1,count:v}={}){var b;let _;const T=new URL(`${this.url}/rpc/${f}`);let E;m||g?(_=m?"HEAD":"GET",Object.entries(h).filter(([N,U])=>U!==void 0).map(([N,U])=>[N,Array.isArray(U)?`{${U.join(",")}}`:`${U}`]).forEach(([N,U])=>{T.searchParams.append(N,U)})):(_="POST",E=h);const D=new Headers(this.headers);return v&&D.set("Prefer",`count=${v}`),new r.default({method:_,url:T,headers:D,schema:this.schemaName,body:E,fetch:(b=this.fetch)!==null&&b!==void 0?b:fetch})}}return qs.default=s,qs}var kg;function dp(){if(kg)return it;kg=1,Object.defineProperty(it,"__esModule",{value:!0}),it.PostgrestError=it.PostgrestBuilder=it.PostgrestTransformBuilder=it.PostgrestFilterBuilder=it.PostgrestQueryBuilder=it.PostgrestClient=void 0;const l=di,a=l.__importDefault(hp());it.PostgrestClient=a.default;const r=l.__importDefault(Dm());it.PostgrestQueryBuilder=r.default;const s=l.__importDefault(rc());it.PostgrestFilterBuilder=s.default;const o=l.__importDefault(xm());it.PostgrestTransformBuilder=o.default;const f=l.__importDefault(Um());it.PostgrestBuilder=f.default;const h=l.__importDefault(Nm());return it.PostgrestError=h.default,it.default={PostgrestClient:a.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:s.default,PostgrestTransformBuilder:o.default,PostgrestBuilder:f.default,PostgrestError:h.default},it}var zm=dp();const Mm=tc(zm),gp=S0({__proto__:null,default:Mm},[zm]),{PostgrestClient:mp,PostgrestQueryBuilder:G_,PostgrestFilterBuilder:V_,PostgrestTransformBuilder:Y_,PostgrestBuilder:K_,PostgrestError:Q_}=Mm||gp;class vp{constructor(){}static detectEnvironment(){var a;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((a=navigator.userAgent)===null||a===void 0)&&a.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const s=r.node,o=parseInt(s.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const a=this.detectEnvironment();if(a.constructor)return a.constructor;let r=a.error||"WebSocket not supported in this environment.";throw a.workaround&&(r+=`

Suggested solution: ${a.workaround}`),new Error(r)}static createWebSocket(a,r){const s=this.getWebSocketConstructor();return new s(a,r)}static isWebSocketSupported(){try{const a=this.detectEnvironment();return a.type==="native"||a.type==="ws"}catch{return!1}}}const yp="2.86.0",pp=`realtime-js/${yp}`,km="1.0.0",bp="2.0.0",Bg=km,Ko=1e4,_p=1e3,Sp=100;var ga;(function(l){l[l.connecting=0]="connecting",l[l.open=1]="open",l[l.closing=2]="closing",l[l.closed=3]="closed"})(ga||(ga={}));var Qe;(function(l){l.closed="closed",l.errored="errored",l.joined="joined",l.joining="joining",l.leaving="leaving"})(Qe||(Qe={}));var Qt;(function(l){l.close="phx_close",l.error="phx_error",l.join="phx_join",l.reply="phx_reply",l.leave="phx_leave",l.access_token="access_token"})(Qt||(Qt={}));var Qo;(function(l){l.websocket="websocket"})(Qo||(Qo={}));var ma;(function(l){l.Connecting="connecting",l.Open="open",l.Closing="closing",l.Closed="closed"})(ma||(ma={}));class wp{constructor(a){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=a??[]}encode(a,r){if(a.event===this.BROADCAST_EVENT&&!(a.payload instanceof ArrayBuffer)&&typeof a.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(a));let s=[a.join_ref,a.ref,a.topic,a.event,a.payload];return r(JSON.stringify(s))}_binaryEncodeUserBroadcastPush(a){var r;return this._isArrayBuffer((r=a.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(a):this._encodeJsonUserBroadcastPush(a)}_encodeBinaryUserBroadcastPush(a){var r,s;const o=(s=(r=a.payload)===null||r===void 0?void 0:r.payload)!==null&&s!==void 0?s:new ArrayBuffer(0);return this._encodeUserBroadcastPush(a,this.BINARY_ENCODING,o)}_encodeJsonUserBroadcastPush(a){var r,s;const o=(s=(r=a.payload)===null||r===void 0?void 0:r.payload)!==null&&s!==void 0?s:{},h=new TextEncoder().encode(JSON.stringify(o)).buffer;return this._encodeUserBroadcastPush(a,this.JSON_ENCODING,h)}_encodeUserBroadcastPush(a,r,s){var o,f;const h=a.topic,m=(o=a.ref)!==null&&o!==void 0?o:"",g=(f=a.join_ref)!==null&&f!==void 0?f:"",v=a.payload.event,b=this.allowedMetadataKeys?this._pick(a.payload,this.allowedMetadataKeys):{},_=Object.keys(b).length===0?"":JSON.stringify(b);if(g.length>255)throw new Error(`joinRef length ${g.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`ref length ${m.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`topic length ${h.length} exceeds maximum of 255`);if(v.length>255)throw new Error(`userEvent length ${v.length} exceeds maximum of 255`);if(_.length>255)throw new Error(`metadata length ${_.length} exceeds maximum of 255`);const T=this.USER_BROADCAST_PUSH_META_LENGTH+g.length+m.length+h.length+v.length+_.length,E=new ArrayBuffer(this.HEADER_LENGTH+T);let D=new DataView(E),N=0;D.setUint8(N++,this.KINDS.userBroadcastPush),D.setUint8(N++,g.length),D.setUint8(N++,m.length),D.setUint8(N++,h.length),D.setUint8(N++,v.length),D.setUint8(N++,_.length),D.setUint8(N++,r),Array.from(g,q=>D.setUint8(N++,q.charCodeAt(0))),Array.from(m,q=>D.setUint8(N++,q.charCodeAt(0))),Array.from(h,q=>D.setUint8(N++,q.charCodeAt(0))),Array.from(v,q=>D.setUint8(N++,q.charCodeAt(0))),Array.from(_,q=>D.setUint8(N++,q.charCodeAt(0)));var U=new Uint8Array(E.byteLength+s.byteLength);return U.set(new Uint8Array(E),0),U.set(new Uint8Array(s),E.byteLength),U.buffer}decode(a,r){if(this._isArrayBuffer(a)){let s=this._binaryDecode(a);return r(s)}if(typeof a=="string"){const s=JSON.parse(a),[o,f,h,m,g]=s;return r({join_ref:o,ref:f,topic:h,event:m,payload:g})}return r({})}_binaryDecode(a){const r=new DataView(a),s=r.getUint8(0),o=new TextDecoder;switch(s){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(a,r,o)}}_decodeUserBroadcast(a,r,s){const o=r.getUint8(1),f=r.getUint8(2),h=r.getUint8(3),m=r.getUint8(4);let g=this.HEADER_LENGTH+4;const v=s.decode(a.slice(g,g+o));g=g+o;const b=s.decode(a.slice(g,g+f));g=g+f;const _=s.decode(a.slice(g,g+h));g=g+h;const T=a.slice(g,a.byteLength),E=m===this.JSON_ENCODING?JSON.parse(s.decode(T)):T,D={type:this.BROADCAST_EVENT,event:b,payload:E};return h>0&&(D.meta=JSON.parse(_)),{join_ref:null,ref:null,topic:v,event:this.BROADCAST_EVENT,payload:D}}_isArrayBuffer(a){var r;return a instanceof ArrayBuffer||((r=a?.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(a,r){return!a||typeof a!="object"?{}:Object.fromEntries(Object.entries(a).filter(([s])=>r.includes(s)))}}class Bm{constructor(a,r){this.callback=a,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=a,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ce;(function(l){l.abstime="abstime",l.bool="bool",l.date="date",l.daterange="daterange",l.float4="float4",l.float8="float8",l.int2="int2",l.int4="int4",l.int4range="int4range",l.int8="int8",l.int8range="int8range",l.json="json",l.jsonb="jsonb",l.money="money",l.numeric="numeric",l.oid="oid",l.reltime="reltime",l.text="text",l.time="time",l.timestamp="timestamp",l.timestamptz="timestamptz",l.timetz="timetz",l.tsrange="tsrange",l.tstzrange="tstzrange"})(Ce||(Ce={}));const qg=(l,a,r={})=>{var s;const o=(s=r.skipTypes)!==null&&s!==void 0?s:[];return a?Object.keys(a).reduce((f,h)=>(f[h]=Ep(h,l,a,o),f),{}):{}},Ep=(l,a,r,s)=>{const o=a.find(m=>m.name===l),f=o?.type,h=r[l];return f&&!s.includes(f)?qm(f,h):Xo(h)},qm=(l,a)=>{if(l.charAt(0)==="_"){const r=l.slice(1,l.length);return jp(a,r)}switch(l){case Ce.bool:return Tp(a);case Ce.float4:case Ce.float8:case Ce.int2:case Ce.int4:case Ce.int8:case Ce.numeric:case Ce.oid:return Op(a);case Ce.json:case Ce.jsonb:return Ap(a);case Ce.timestamp:return Rp(a);case Ce.abstime:case Ce.date:case Ce.daterange:case Ce.int4range:case Ce.int8range:case Ce.money:case Ce.reltime:case Ce.text:case Ce.time:case Ce.timestamptz:case Ce.timetz:case Ce.tsrange:case Ce.tstzrange:return Xo(a);default:return Xo(a)}},Xo=l=>l,Tp=l=>{switch(l){case"t":return!0;case"f":return!1;default:return l}},Op=l=>{if(typeof l=="string"){const a=parseFloat(l);if(!Number.isNaN(a))return a}return l},Ap=l=>{if(typeof l=="string")try{return JSON.parse(l)}catch(a){return console.log(`JSON parse error: ${a}`),l}return l},jp=(l,a)=>{if(typeof l!="string")return l;const r=l.length-1,s=l[r];if(l[0]==="{"&&s==="}"){let f;const h=l.slice(1,r);try{f=JSON.parse("["+h+"]")}catch{f=h?h.split(","):[]}return f.map(m=>qm(a,m))}return l},Rp=l=>typeof l=="string"?l.replace(" ","T"):l,Lm=l=>{const a=new URL(l);return a.protocol=a.protocol.replace(/^ws/i,"http"),a.pathname=a.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),a.pathname===""||a.pathname==="/"?a.pathname="/api/broadcast":a.pathname=a.pathname+"/api/broadcast",a.href};class Co{constructor(a,r,s={},o=Ko){this.channel=a,this.event=r,this.payload=s,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(a){this.timeout=a,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(a){this.payload=Object.assign(Object.assign({},this.payload),a)}receive(a,r){var s;return this._hasReceived(a)&&r((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:a,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const a=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},a),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(a,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:a,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:a,response:r}){this.recHooks.filter(s=>s.status===a).forEach(s=>s.callback(r))}_hasReceived(a){return this.receivedResp&&this.receivedResp.status===a}}var Lg;(function(l){l.SYNC="sync",l.JOIN="join",l.LEAVE="leave"})(Lg||(Lg={}));class hr{constructor(a,r){this.channel=a,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},o=>{const{onJoin:f,onLeave:h,onSync:m}=this.caller;this.joinRef=this.channel._joinRef(),this.state=hr.syncState(this.state,o,f,h),this.pendingDiffs.forEach(g=>{this.state=hr.syncDiff(this.state,g,f,h)}),this.pendingDiffs=[],m()}),this.channel._on(s.diff,{},o=>{const{onJoin:f,onLeave:h,onSync:m}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=hr.syncDiff(this.state,o,f,h),m())}),this.onJoin((o,f,h)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:f,newPresences:h})}),this.onLeave((o,f,h)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:f,leftPresences:h})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(a,r,s,o){const f=this.cloneDeep(a),h=this.transformState(r),m={},g={};return this.map(f,(v,b)=>{h[v]||(g[v]=b)}),this.map(h,(v,b)=>{const _=f[v];if(_){const T=b.map(U=>U.presence_ref),E=_.map(U=>U.presence_ref),D=b.filter(U=>E.indexOf(U.presence_ref)<0),N=_.filter(U=>T.indexOf(U.presence_ref)<0);D.length>0&&(m[v]=D),N.length>0&&(g[v]=N)}else m[v]=b}),this.syncDiff(f,{joins:m,leaves:g},s,o)}static syncDiff(a,r,s,o){const{joins:f,leaves:h}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return s||(s=()=>{}),o||(o=()=>{}),this.map(f,(m,g)=>{var v;const b=(v=a[m])!==null&&v!==void 0?v:[];if(a[m]=this.cloneDeep(g),b.length>0){const _=a[m].map(E=>E.presence_ref),T=b.filter(E=>_.indexOf(E.presence_ref)<0);a[m].unshift(...T)}s(m,b,g)}),this.map(h,(m,g)=>{let v=a[m];if(!v)return;const b=g.map(_=>_.presence_ref);v=v.filter(_=>b.indexOf(_.presence_ref)<0),a[m]=v,o(m,v,g),v.length===0&&delete a[m]}),a}static map(a,r){return Object.getOwnPropertyNames(a).map(s=>r(s,a[s]))}static transformState(a){return a=this.cloneDeep(a),Object.getOwnPropertyNames(a).reduce((r,s)=>{const o=a[s];return"metas"in o?r[s]=o.metas.map(f=>(f.presence_ref=f.phx_ref,delete f.phx_ref,delete f.phx_ref_prev,f)):r[s]=o,r},{})}static cloneDeep(a){return JSON.parse(JSON.stringify(a))}onJoin(a){this.caller.onJoin=a}onLeave(a){this.caller.onLeave=a}onSync(a){this.caller.onSync=a}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Hg;(function(l){l.ALL="*",l.INSERT="INSERT",l.UPDATE="UPDATE",l.DELETE="DELETE"})(Hg||(Hg={}));var dr;(function(l){l.BROADCAST="broadcast",l.PRESENCE="presence",l.POSTGRES_CHANGES="postgres_changes",l.SYSTEM="system"})(dr||(dr={}));var yn;(function(l){l.SUBSCRIBED="SUBSCRIBED",l.TIMED_OUT="TIMED_OUT",l.CLOSED="CLOSED",l.CHANNEL_ERROR="CHANNEL_ERROR"})(yn||(yn={}));class sc{constructor(a,r={config:{}},s){var o,f;if(this.topic=a,this.params=r,this.socket=s,this.bindings={},this.state=Qe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=a.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Co(this,Qt.join,this.params,this.timeout),this.rejoinTimer=new Bm(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Qe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(h=>h.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Qe.closed,this.socket._remove(this)}),this._onError(h=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,h),this.state=Qe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Qe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",h=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,h),this.state=Qe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Qt.reply,{},(h,m)=>{this._trigger(this._replyEventName(m),h)}),this.presence=new hr(this),this.broadcastEndpointURL=Lm(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((f=(o=this.params.config)===null||o===void 0?void 0:o.broadcast)===null||f===void 0)&&f.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(a,r=this.timeout){var s,o,f;if(this.socket.isConnected()||this.socket.connect(),this.state==Qe.closed){const{config:{broadcast:h,presence:m,private:g}}=this.params,v=(o=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(E=>E.filter))!==null&&o!==void 0?o:[],b=!!this.bindings[dr.PRESENCE]&&this.bindings[dr.PRESENCE].length>0||((f=this.params.config.presence)===null||f===void 0?void 0:f.enabled)===!0,_={},T={broadcast:h,presence:Object.assign(Object.assign({},m),{enabled:b}),postgres_changes:v,private:g};this.socket.accessTokenValue&&(_.access_token=this.socket.accessTokenValue),this._onError(E=>a?.(yn.CHANNEL_ERROR,E)),this._onClose(()=>a?.(yn.CLOSED)),this.updateJoinPayload(Object.assign({config:T},_)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:E})=>{var D;if(this.socket.setAuth(),E===void 0){a?.(yn.SUBSCRIBED);return}else{const N=this.bindings.postgres_changes,U=(D=N?.length)!==null&&D!==void 0?D:0,q=[];for(let $=0;$<U;$++){const H=N[$],{filter:{event:K,schema:ie,table:ne,filter:G}}=H,ve=E&&E[$];if(ve&&ve.event===K&&ve.schema===ie&&ve.table===ne&&ve.filter===G)q.push(Object.assign(Object.assign({},H),{id:ve.id}));else{this.unsubscribe(),this.state=Qe.errored,a?.(yn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=q,a&&a(yn.SUBSCRIBED);return}}).receive("error",E=>{this.state=Qe.errored,a?.(yn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(E).join(", ")||"error")))}).receive("timeout",()=>{a?.(yn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(a,r={}){return await this.send({type:"presence",event:"track",payload:a},r.timeout||this.timeout)}async untrack(a={}){return await this.send({type:"presence",event:"untrack"},a)}on(a,r,s){return this.state===Qe.joined&&a===dr.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(a,r,s)}async httpSend(a,r,s={}){var o;const f=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const h={method:"POST",headers:{Authorization:f,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:r,private:this.private}]})},m=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(o=s.timeout)!==null&&o!==void 0?o:this.timeout);if(m.status===202)return{success:!0};let g=m.statusText;try{const v=await m.json();g=v.error||v.message||g}catch{}return Promise.reject(new Error(g))}async send(a,r={}){var s,o;if(!this._canPush()&&a.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:f,payload:h}=a,g={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:f,payload:h,private:this.private}]})};try{const v=await this._fetchWithTimeout(this.broadcastEndpointURL,g,(s=r.timeout)!==null&&s!==void 0?s:this.timeout);return await((o=v.body)===null||o===void 0?void 0:o.cancel()),v.ok?"ok":"error"}catch(v){return v.name==="AbortError"?"timed out":"error"}}else return new Promise(f=>{var h,m,g;const v=this._push(a.type,a,r.timeout||this.timeout);a.type==="broadcast"&&!(!((g=(m=(h=this.params)===null||h===void 0?void 0:h.config)===null||m===void 0?void 0:m.broadcast)===null||g===void 0)&&g.ack)&&f("ok"),v.receive("ok",()=>f("ok")),v.receive("error",()=>f("error")),v.receive("timeout",()=>f("timed out"))})}updateJoinPayload(a){this.joinPush.updatePayload(a)}unsubscribe(a=this.timeout){this.state=Qe.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Qt.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(o=>{s=new Co(this,Qt.leave,{},a),s.receive("ok",()=>{r(),o("ok")}).receive("timeout",()=>{r(),o("timed out")}).receive("error",()=>{o("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s?.destroy()})}teardown(){this.pushBuffer.forEach(a=>a.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Qe.closed,this.bindings={}}async _fetchWithTimeout(a,r,s){const o=new AbortController,f=setTimeout(()=>o.abort(),s),h=await this.socket.fetch(a,Object.assign(Object.assign({},r),{signal:o.signal}));return clearTimeout(f),h}_push(a,r,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${a}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new Co(this,a,r,s);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(a){if(a.startTimeout(),this.pushBuffer.push(a),this.pushBuffer.length>Sp){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(a,r,s){return r}_isMember(a){return this.topic===a}_joinRef(){return this.joinPush.ref}_trigger(a,r,s){var o,f;const h=a.toLocaleLowerCase(),{close:m,error:g,leave:v,join:b}=Qt;if(s&&[m,g,v,b].indexOf(h)>=0&&s!==this._joinRef())return;let T=this._onMessage(h,r,s);if(r&&!T)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(h)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(E=>{var D,N,U;return((D=E.filter)===null||D===void 0?void 0:D.event)==="*"||((U=(N=E.filter)===null||N===void 0?void 0:N.event)===null||U===void 0?void 0:U.toLocaleLowerCase())===h}).map(E=>E.callback(T,s)):(f=this.bindings[h])===null||f===void 0||f.filter(E=>{var D,N,U,q,$,H;if(["broadcast","presence","postgres_changes"].includes(h))if("id"in E){const K=E.id,ie=(D=E.filter)===null||D===void 0?void 0:D.event;return K&&((N=r.ids)===null||N===void 0?void 0:N.includes(K))&&(ie==="*"||ie?.toLocaleLowerCase()===((U=r.data)===null||U===void 0?void 0:U.type.toLocaleLowerCase()))}else{const K=($=(q=E?.filter)===null||q===void 0?void 0:q.event)===null||$===void 0?void 0:$.toLocaleLowerCase();return K==="*"||K===((H=r?.event)===null||H===void 0?void 0:H.toLocaleLowerCase())}else return E.type.toLocaleLowerCase()===h}).map(E=>{if(typeof T=="object"&&"ids"in T){const D=T.data,{schema:N,table:U,commit_timestamp:q,type:$,errors:H}=D;T=Object.assign(Object.assign({},{schema:N,table:U,commit_timestamp:q,eventType:$,new:{},old:{},errors:H}),this._getPayloadRecords(D))}E.callback(T,s)})}_isClosed(){return this.state===Qe.closed}_isJoined(){return this.state===Qe.joined}_isJoining(){return this.state===Qe.joining}_isLeaving(){return this.state===Qe.leaving}_replyEventName(a){return`chan_reply_${a}`}_on(a,r,s){const o=a.toLocaleLowerCase(),f={type:o,filter:r,callback:s};return this.bindings[o]?this.bindings[o].push(f):this.bindings[o]=[f],this}_off(a,r){const s=a.toLocaleLowerCase();return this.bindings[s]&&(this.bindings[s]=this.bindings[s].filter(o=>{var f;return!(((f=o.type)===null||f===void 0?void 0:f.toLocaleLowerCase())===s&&sc.isEqual(o.filter,r))})),this}static isEqual(a,r){if(Object.keys(a).length!==Object.keys(r).length)return!1;for(const s in a)if(a[s]!==r[s])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(a){this._on(Qt.close,{},a)}_onError(a){this._on(Qt.error,{},r=>a(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(a=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Qe.joining,this.joinPush.resend(a))}_getPayloadRecords(a){const r={new:{},old:{}};return(a.type==="INSERT"||a.type==="UPDATE")&&(r.new=qg(a.columns,a.record)),(a.type==="UPDATE"||a.type==="DELETE")&&(r.old=qg(a.columns,a.old_record)),r}}const No=()=>{},Ys={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Cp=[1e3,2e3,5e3,1e4],Np=1e4,Up=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class xp{constructor(a,r){var s;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Ko,this.transport=null,this.heartbeatIntervalMs=Ys.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=No,this.ref=0,this.reconnectTimer=null,this.vsn=Bg,this.logger=No,this.conn=null,this.sendBuffer=[],this.serializer=new wp,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=o=>o?(...f)=>o(...f):(...f)=>fetch(...f),!(!((s=r?.params)===null||s===void 0)&&s.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${a}/${Qo.websocket}`,this.httpEndpoint=Lm(a),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=vp.createWebSocket(this.endpointURL())}catch(a){this._setConnectionState("disconnected");const r=a.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(a,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const s=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(s),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(a?this.conn.close(a,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(a){const r=await a.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const a=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),a}log(a,r,s){this.logger(a,r,s)}connectionState(){switch(this.conn&&this.conn.readyState){case ga.connecting:return ma.Connecting;case ga.open:return ma.Open;case ga.closing:return ma.Closing;default:return ma.Closed}}isConnected(){return this.connectionState()===ma.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(a,r={config:{}}){const s=`realtime:${a}`,o=this.getChannels().find(f=>f.topic===s);if(o)return o;{const f=new sc(`realtime:${a}`,r,this);return this.channels.push(f),f}}push(a){const{topic:r,event:s,payload:o,ref:f}=a,h=()=>{this.encode(a,m=>{var g;(g=this.conn)===null||g===void 0||g.send(m)})};this.log("push",`${r} ${s} (${f})`,o),this.isConnected()?h():this.sendBuffer.push(h)}async setAuth(a=null){this._authPromise=this._performAuth(a);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var a;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(a=this.conn)===null||a===void 0||a.close(_p,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Ys.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(a){this.heartbeatCallback=a}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(a=>a()),this.sendBuffer=[])}_makeRef(){let a=this.ref+1;return a===this.ref?this.ref=0:this.ref=a,this.ref.toString()}_leaveOpenTopic(a){let r=this.channels.find(s=>s.topic===a&&(s._isJoined()||s._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${a}"`),r.unsubscribe())}_remove(a){this.channels=this.channels.filter(r=>r.topic!==a.topic)}_onConnMessage(a){this.decode(a.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(v){this.log("error","error in heartbeat callback",v)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:s,event:o,payload:f,ref:h}=r,m=h?`(${h})`:"",g=f.status||"";this.log("receive",`${g} ${s} ${o} ${m}`.trim(),f),this.channels.filter(v=>v._isMember(s)).forEach(v=>v._trigger(o,f,h)),this._triggerStateCallbacks("message",r)})}_clearTimer(a){var r;a==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):a==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=a=>this._onConnError(a),this.conn.onmessage=a=>this._onConnMessage(a),this.conn.onclose=a=>this._onConnClose(a))}_teardownConnection(){if(this.conn){if(this.conn.readyState===ga.open||this.conn.readyState===ga.connecting)try{this.conn.close()}catch(a){this.log("error","Error closing connection",a)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(a=>a.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const a=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(a),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(a){var r;this._setConnectionState("disconnected"),this.log("transport","close",a),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",a)}_onConnError(a){this._setConnectionState("disconnected"),this.log("transport",`${a}`),this._triggerChanError(),this._triggerStateCallbacks("error",a)}_triggerChanError(){this.channels.forEach(a=>a._trigger(Qt.error))}_appendParams(a,r){if(Object.keys(r).length===0)return a;const s=a.match(/\?/)?"&":"?",o=new URLSearchParams(r);return`${a}${s}${o}`}_workerObjectUrl(a){let r;if(a)r=a;else{const s=new Blob([Up],{type:"application/javascript"});r=URL.createObjectURL(s)}return r}_setConnectionState(a,r=!1){this._connectionState=a,a==="connecting"?this._wasManualDisconnect=!1:a==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(a=null){let r;a?r=a:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(s=>{const o={access_token:r,version:pp};r&&s.updateJoinPayload(o),s.joinedOnce&&s._isJoined()&&s._push(Qt.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(a="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${a}`,r)})}_triggerStateCallbacks(a,r){try{this.stateChangeCallbacks[a].forEach(s=>{try{s(r)}catch(o){this.log("error",`error in ${a} callback`,o)}})}catch(s){this.log("error",`error triggering ${a} callbacks`,s)}}_setupReconnectionTimer(){this.reconnectTimer=new Bm(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Ys.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(a){var r,s,o,f,h,m,g,v,b,_,T,E;switch(this.transport=(r=a?.transport)!==null&&r!==void 0?r:null,this.timeout=(s=a?.timeout)!==null&&s!==void 0?s:Ko,this.heartbeatIntervalMs=(o=a?.heartbeatIntervalMs)!==null&&o!==void 0?o:Ys.HEARTBEAT_INTERVAL,this.worker=(f=a?.worker)!==null&&f!==void 0?f:!1,this.accessToken=(h=a?.accessToken)!==null&&h!==void 0?h:null,this.heartbeatCallback=(m=a?.heartbeatCallback)!==null&&m!==void 0?m:No,this.vsn=(g=a?.vsn)!==null&&g!==void 0?g:Bg,a?.params&&(this.params=a.params),a?.logger&&(this.logger=a.logger),(a?.logLevel||a?.log_level)&&(this.logLevel=a.logLevel||a.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(v=a?.reconnectAfterMs)!==null&&v!==void 0?v:(D=>Cp[D-1]||Np),this.vsn){case km:this.encode=(b=a?.encode)!==null&&b!==void 0?b:((D,N)=>N(JSON.stringify(D))),this.decode=(_=a?.decode)!==null&&_!==void 0?_:((D,N)=>N(JSON.parse(D)));break;case bp:this.encode=(T=a?.encode)!==null&&T!==void 0?T:this.serializer.encode.bind(this.serializer),this.decode=(E=a?.decode)!==null&&E!==void 0?E:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=a?.workerUrl}}}class tl extends Error{constructor(a){super(a),this.__isStorageError=!0,this.name="StorageError"}}function De(l){return typeof l=="object"&&l!==null&&"__isStorageError"in l}class Dp extends tl{constructor(a,r,s){super(a),this.name="StorageApiError",this.status=r,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Jo extends tl{constructor(a,r){super(a),this.name="StorageUnknownError",this.originalError=r}}const lc=l=>l?(...a)=>l(...a):(...a)=>fetch(...a),zp=()=>Response,Zo=l=>{if(Array.isArray(l))return l.map(r=>Zo(r));if(typeof l=="function"||l!==Object(l))return l;const a={};return Object.entries(l).forEach(([r,s])=>{const o=r.replace(/([-_][a-z])/gi,f=>f.toUpperCase().replace(/[-_]/g,""));a[o]=Zo(s)}),a},Mp=l=>{if(typeof l!="object"||l===null)return!1;const a=Object.getPrototypeOf(l);return(a===null||a===Object.prototype||Object.getPrototypeOf(a)===null)&&!(Symbol.toStringTag in l)&&!(Symbol.iterator in l)},kp=l=>!l||typeof l!="string"||l.length===0||l.length>100||l.trim()!==l||l.includes("/")||l.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(l),Uo=l=>{var a;return l.msg||l.message||l.error_description||(typeof l.error=="string"?l.error:(a=l.error)===null||a===void 0?void 0:a.message)||JSON.stringify(l)},Bp=(l,a,r)=>X(void 0,void 0,void 0,function*(){const s=yield zp();l instanceof s&&!r?.noResolveJson?l.json().then(o=>{const f=l.status||500,h=o?.statusCode||f+"";a(new Dp(Uo(o),f,h))}).catch(o=>{a(new Jo(Uo(o),o))}):a(new Jo(Uo(l),l))}),qp=(l,a,r,s)=>{const o={method:l,headers:a?.headers||{}};return l==="GET"||!s?o:(Mp(s)?(o.headers=Object.assign({"Content-Type":"application/json"},a?.headers),o.body=JSON.stringify(s)):o.body=s,a?.duplex&&(o.duplex=a.duplex),Object.assign(Object.assign({},o),r))};function pr(l,a,r,s,o,f){return X(this,void 0,void 0,function*(){return new Promise((h,m)=>{l(r,qp(a,s,o,f)).then(g=>{if(!g.ok)throw g;return s?.noResolveJson?g:g.json()}).then(g=>h(g)).catch(g=>Bp(g,m,s))})})}function gr(l,a,r,s){return X(this,void 0,void 0,function*(){return pr(l,"GET",a,r,s)})}function Kt(l,a,r,s,o){return X(this,void 0,void 0,function*(){return pr(l,"POST",a,s,o,r)})}function Io(l,a,r,s,o){return X(this,void 0,void 0,function*(){return pr(l,"PUT",a,s,o,r)})}function Lp(l,a,r,s){return X(this,void 0,void 0,function*(){return pr(l,"HEAD",a,Object.assign(Object.assign({},r),{noResolveJson:!0}),s)})}function uc(l,a,r,s,o){return X(this,void 0,void 0,function*(){return pr(l,"DELETE",a,s,o,r)})}class Hp{constructor(a,r){this.downloadFn=a,this.shouldThrowOnError=r}then(a,r){return this.execute().then(a,r)}execute(){return X(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(De(a))return{data:null,error:a};throw a}})}}var Hm;class $p{constructor(a,r){this.downloadFn=a,this.shouldThrowOnError=r,this[Hm]="BlobDownloadBuilder",this.promise=null}asStream(){return new Hp(this.downloadFn,this.shouldThrowOnError)}then(a,r){return this.getPromise().then(a,r)}catch(a){return this.getPromise().catch(a)}finally(a){return this.getPromise().finally(a)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return X(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(De(a))return{data:null,error:a};throw a}})}}Hm=Symbol.toStringTag;const Gp={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},$g={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Vp{constructor(a,r={},s,o){this.shouldThrowOnError=!1,this.url=a,this.headers=r,this.bucketId=s,this.fetch=lc(o)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(a,r,s,o){return X(this,void 0,void 0,function*(){try{let f;const h=Object.assign(Object.assign({},$g),o);let m=Object.assign(Object.assign({},this.headers),a==="POST"&&{"x-upsert":String(h.upsert)});const g=h.metadata;typeof Blob<"u"&&s instanceof Blob?(f=new FormData,f.append("cacheControl",h.cacheControl),g&&f.append("metadata",this.encodeMetadata(g)),f.append("",s)):typeof FormData<"u"&&s instanceof FormData?(f=s,f.has("cacheControl")||f.append("cacheControl",h.cacheControl),g&&!f.has("metadata")&&f.append("metadata",this.encodeMetadata(g))):(f=s,m["cache-control"]=`max-age=${h.cacheControl}`,m["content-type"]=h.contentType,g&&(m["x-metadata"]=this.toBase64(this.encodeMetadata(g))),(typeof ReadableStream<"u"&&f instanceof ReadableStream||f&&typeof f=="object"&&"pipe"in f&&typeof f.pipe=="function")&&!h.duplex&&(h.duplex="half")),o?.headers&&(m=Object.assign(Object.assign({},m),o.headers));const v=this._removeEmptyFolders(r),b=this._getFinalPath(v),_=yield(a=="PUT"?Io:Kt)(this.fetch,`${this.url}/object/${b}`,f,Object.assign({headers:m},h?.duplex?{duplex:h.duplex}:{}));return{data:{path:v,id:_.Id,fullPath:_.Key},error:null}}catch(f){if(this.shouldThrowOnError)throw f;if(De(f))return{data:null,error:f};throw f}})}upload(a,r,s){return X(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",a,r,s)})}uploadToSignedUrl(a,r,s,o){return X(this,void 0,void 0,function*(){const f=this._removeEmptyFolders(a),h=this._getFinalPath(f),m=new URL(this.url+`/object/upload/sign/${h}`);m.searchParams.set("token",r);try{let g;const v=Object.assign({upsert:$g.upsert},o),b=Object.assign(Object.assign({},this.headers),{"x-upsert":String(v.upsert)});typeof Blob<"u"&&s instanceof Blob?(g=new FormData,g.append("cacheControl",v.cacheControl),g.append("",s)):typeof FormData<"u"&&s instanceof FormData?(g=s,g.append("cacheControl",v.cacheControl)):(g=s,b["cache-control"]=`max-age=${v.cacheControl}`,b["content-type"]=v.contentType);const _=yield Io(this.fetch,m.toString(),g,{headers:b});return{data:{path:f,fullPath:_.Key},error:null}}catch(g){if(this.shouldThrowOnError)throw g;if(De(g))return{data:null,error:g};throw g}})}createSignedUploadUrl(a,r){return X(this,void 0,void 0,function*(){try{let s=this._getFinalPath(a);const o=Object.assign({},this.headers);r?.upsert&&(o["x-upsert"]="true");const f=yield Kt(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:o}),h=new URL(this.url+f.url),m=h.searchParams.get("token");if(!m)throw new tl("No token returned by API");return{data:{signedUrl:h.toString(),path:a,token:m},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(De(s))return{data:null,error:s};throw s}})}update(a,r,s){return X(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",a,r,s)})}move(a,r,s){return X(this,void 0,void 0,function*(){try{return{data:yield Kt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:a,destinationKey:r,destinationBucket:s?.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(De(o))return{data:null,error:o};throw o}})}copy(a,r,s){return X(this,void 0,void 0,function*(){try{return{data:{path:(yield Kt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:a,destinationKey:r,destinationBucket:s?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(De(o))return{data:null,error:o};throw o}})}createSignedUrl(a,r,s){return X(this,void 0,void 0,function*(){try{let o=this._getFinalPath(a),f=yield Kt(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:r},s?.transform?{transform:s.transform}:{}),{headers:this.headers});const h=s?.download?`&download=${s.download===!0?"":s.download}`:"";return f={signedUrl:encodeURI(`${this.url}${f.signedURL}${h}`)},{data:f,error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(De(o))return{data:null,error:o};throw o}})}createSignedUrls(a,r,s){return X(this,void 0,void 0,function*(){try{const o=yield Kt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:a},{headers:this.headers}),f=s?.download?`&download=${s.download===!0?"":s.download}`:"";return{data:o.map(h=>Object.assign(Object.assign({},h),{signedUrl:h.signedURL?encodeURI(`${this.url}${h.signedURL}${f}`):null})),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(De(o))return{data:null,error:o};throw o}})}download(a,r){const o=typeof r?.transform<"u"?"render/image/authenticated":"object",f=this.transformOptsToQueryString(r?.transform||{}),h=f?`?${f}`:"",m=this._getFinalPath(a),g=()=>gr(this.fetch,`${this.url}/${o}/${m}${h}`,{headers:this.headers,noResolveJson:!0});return new $p(g,this.shouldThrowOnError)}info(a){return X(this,void 0,void 0,function*(){const r=this._getFinalPath(a);try{const s=yield gr(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Zo(s),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(De(s))return{data:null,error:s};throw s}})}exists(a){return X(this,void 0,void 0,function*(){const r=this._getFinalPath(a);try{return yield Lp(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(De(s)&&s instanceof Jo){const o=s.originalError;if([400,404].includes(o?.status))return{data:!1,error:s}}throw s}})}getPublicUrl(a,r){const s=this._getFinalPath(a),o=[],f=r?.download?`download=${r.download===!0?"":r.download}`:"";f!==""&&o.push(f);const m=typeof r?.transform<"u"?"render/image":"object",g=this.transformOptsToQueryString(r?.transform||{});g!==""&&o.push(g);let v=o.join("&");return v!==""&&(v=`?${v}`),{data:{publicUrl:encodeURI(`${this.url}/${m}/public/${s}${v}`)}}}remove(a){return X(this,void 0,void 0,function*(){try{return{data:yield uc(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:a},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(De(r))return{data:null,error:r};throw r}})}list(a,r,s){return X(this,void 0,void 0,function*(){try{const o=Object.assign(Object.assign(Object.assign({},Gp),r),{prefix:a||""});return{data:yield Kt(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},s),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(De(o))return{data:null,error:o};throw o}})}listV2(a,r){return X(this,void 0,void 0,function*(){try{const s=Object.assign({},a);return{data:yield Kt(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(De(s))return{data:null,error:s};throw s}})}encodeMetadata(a){return JSON.stringify(a)}toBase64(a){return typeof Buffer<"u"?Buffer.from(a).toString("base64"):btoa(a)}_getFinalPath(a){return`${this.bucketId}/${a.replace(/^\/+/,"")}`}_removeEmptyFolders(a){return a.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(a){const r=[];return a.width&&r.push(`width=${a.width}`),a.height&&r.push(`height=${a.height}`),a.resize&&r.push(`resize=${a.resize}`),a.format&&r.push(`format=${a.format}`),a.quality&&r.push(`quality=${a.quality}`),r.join("&")}}const $m="2.86.0",Gm={"X-Client-Info":`storage-js/${$m}`};class Yp{constructor(a,r={},s,o){this.shouldThrowOnError=!1;const f=new URL(a);o?.useNewHostname&&/supabase\.(co|in|red)$/.test(f.hostname)&&!f.hostname.includes("storage.supabase.")&&(f.hostname=f.hostname.replace("supabase.","storage.supabase.")),this.url=f.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Gm),r),this.fetch=lc(s)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(a){return X(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(a);return{data:yield gr(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(De(r))return{data:null,error:r};throw r}})}getBucket(a){return X(this,void 0,void 0,function*(){try{return{data:yield gr(this.fetch,`${this.url}/bucket/${a}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(De(r))return{data:null,error:r};throw r}})}createBucket(a){return X(this,arguments,void 0,function*(r,s={public:!1}){try{return{data:yield Kt(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:s.type,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(De(o))return{data:null,error:o};throw o}})}updateBucket(a,r){return X(this,void 0,void 0,function*(){try{return{data:yield Io(this.fetch,`${this.url}/bucket/${a}`,{id:a,name:a,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(De(s))return{data:null,error:s};throw s}})}emptyBucket(a){return X(this,void 0,void 0,function*(){try{return{data:yield Kt(this.fetch,`${this.url}/bucket/${a}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(De(r))return{data:null,error:r};throw r}})}deleteBucket(a){return X(this,void 0,void 0,function*(){try{return{data:yield uc(this.fetch,`${this.url}/bucket/${a}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(De(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(a){const r={};return a&&("limit"in a&&(r.limit=String(a.limit)),"offset"in a&&(r.offset=String(a.offset)),a.search&&(r.search=a.search),a.sortColumn&&(r.sortColumn=a.sortColumn),a.sortOrder&&(r.sortOrder=a.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}var mr=class extends Error{constructor(l,a){super(l),this.name="IcebergError",this.status=a.status,this.icebergType=a.icebergType,this.icebergCode=a.icebergCode,this.details=a.details,this.isCommitStateUnknown=a.icebergType==="CommitStateUnknownException"||[500,502,504].includes(a.status)&&a.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function Kp(l,a,r){const s=new URL(a,l);if(r)for(const[o,f]of Object.entries(r))f!==void 0&&s.searchParams.set(o,f);return s.toString()}async function Qp(l){return!l||l.type==="none"?{}:l.type==="bearer"?{Authorization:`Bearer ${l.token}`}:l.type==="header"?{[l.name]:l.value}:l.type==="custom"?await l.getHeaders():{}}function Xp(l){const a=l.fetchImpl??globalThis.fetch;return{async request({method:r,path:s,query:o,body:f,headers:h}){const m=Kp(l.baseUrl,s,o),g=await Qp(l.auth),v=await a(m,{method:r,headers:{...f?{"Content-Type":"application/json"}:{},...g,...h},body:f?JSON.stringify(f):void 0}),b=await v.text(),_=(v.headers.get("content-type")||"").includes("application/json"),T=_&&b?JSON.parse(b):b;if(!v.ok){const E=_?T:void 0,D=E?.error;throw new mr(D?.message??`Request failed with status ${v.status}`,{status:v.status,icebergType:D?.type,icebergCode:D?.code,details:E})}return{status:v.status,headers:v.headers,data:T}}}}function Ks(l){return l.join("")}var Jp=class{constructor(l,a=""){this.client=l,this.prefix=a}async listNamespaces(l){const a=l?{parent:Ks(l.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:a})).data.namespaces.map(s=>({namespace:s}))}async createNamespace(l,a){const r={namespace:l.namespace,properties:a?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(l){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ks(l.namespace)}`})}async loadNamespaceMetadata(l){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ks(l.namespace)}`})).data.properties}}async namespaceExists(l){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ks(l.namespace)}`}),!0}catch(a){if(a instanceof mr&&a.status===404)return!1;throw a}}async createNamespaceIfNotExists(l,a){try{return await this.createNamespace(l,a)}catch(r){if(r instanceof mr&&r.status===409)return;throw r}}};function ni(l){return l.join("")}var Zp=class{constructor(l,a="",r){this.client=l,this.prefix=a,this.accessDelegation=r}async listTables(l){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ni(l.namespace)}/tables`})).data.identifiers}async createTable(l,a){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ni(l.namespace)}/tables`,body:a,headers:r})).data.metadata}async updateTable(l,a){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ni(l.namespace)}/tables/${l.name}`,body:a});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(l,a){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ni(l.namespace)}/tables/${l.name}`,query:{purgeRequested:String(a?.purge??!1)}})}async loadTable(l){const a={};return this.accessDelegation&&(a["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ni(l.namespace)}/tables/${l.name}`,headers:a})).data.metadata}async tableExists(l){const a={};this.accessDelegation&&(a["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ni(l.namespace)}/tables/${l.name}`,headers:a}),!0}catch(r){if(r instanceof mr&&r.status===404)return!1;throw r}}async createTableIfNotExists(l,a){try{return await this.createTable(l,a)}catch(r){if(r instanceof mr&&r.status===409)return await this.loadTable({namespace:l.namespace,name:a.name});throw r}}},Ip=class{constructor(l){let a="v1";l.catalogName&&(a+=`/${l.catalogName}`);const r=l.baseUrl.endsWith("/")?l.baseUrl:`${l.baseUrl}/`;this.client=Xp({baseUrl:r,auth:l.auth,fetchImpl:l.fetch}),this.accessDelegation=l.accessDelegation?.join(","),this.namespaceOps=new Jp(this.client,a),this.tableOps=new Zp(this.client,a,this.accessDelegation)}async listNamespaces(l){return this.namespaceOps.listNamespaces(l)}async createNamespace(l,a){return this.namespaceOps.createNamespace(l,a)}async dropNamespace(l){await this.namespaceOps.dropNamespace(l)}async loadNamespaceMetadata(l){return this.namespaceOps.loadNamespaceMetadata(l)}async listTables(l){return this.tableOps.listTables(l)}async createTable(l,a){return this.tableOps.createTable(l,a)}async updateTable(l,a){return this.tableOps.updateTable(l,a)}async dropTable(l,a){await this.tableOps.dropTable(l,a)}async loadTable(l){return this.tableOps.loadTable(l)}async namespaceExists(l){return this.namespaceOps.namespaceExists(l)}async tableExists(l){return this.tableOps.tableExists(l)}async createNamespaceIfNotExists(l,a){return this.namespaceOps.createNamespaceIfNotExists(l,a)}async createTableIfNotExists(l,a){return this.tableOps.createTableIfNotExists(l,a)}};class Fp{constructor(a,r={},s){this.shouldThrowOnError=!1,this.url=a.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Gm),r),this.fetch=lc(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(a){return X(this,void 0,void 0,function*(){try{return{data:yield Kt(this.fetch,`${this.url}/bucket`,{name:a},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(De(r))return{data:null,error:r};throw r}})}listBuckets(a){return X(this,void 0,void 0,function*(){try{const r=new URLSearchParams;a?.limit!==void 0&&r.set("limit",a.limit.toString()),a?.offset!==void 0&&r.set("offset",a.offset.toString()),a?.sortColumn&&r.set("sortColumn",a.sortColumn),a?.sortOrder&&r.set("sortOrder",a.sortOrder),a?.search&&r.set("search",a.search);const s=r.toString(),o=s?`${this.url}/bucket?${s}`:`${this.url}/bucket`;return{data:yield gr(this.fetch,o,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(De(r))return{data:null,error:r};throw r}})}deleteBucket(a){return X(this,void 0,void 0,function*(){try{return{data:yield uc(this.fetch,`${this.url}/bucket/${a}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(De(r))return{data:null,error:r};throw r}})}from(a){if(!kp(a))throw new tl("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");return new Ip({baseUrl:this.url,catalogName:a,auth:{type:"custom",getHeaders:()=>X(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch})}}const oc={"X-Client-Info":`storage-js/${$m}`,"Content-Type":"application/json"};class Vm extends Error{constructor(a){super(a),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function At(l){return typeof l=="object"&&l!==null&&"__isStorageVectorsError"in l}class xo extends Vm{constructor(a,r,s){super(a),this.name="StorageVectorsApiError",this.status=r,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Pp extends Vm{constructor(a,r){super(a),this.name="StorageVectorsUnknownError",this.originalError=r}}var Gg;(function(l){l.InternalError="InternalError",l.S3VectorConflictException="S3VectorConflictException",l.S3VectorNotFoundException="S3VectorNotFoundException",l.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",l.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",l.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Gg||(Gg={}));const cc=l=>l?(...a)=>l(...a):(...a)=>fetch(...a),Wp=l=>{if(typeof l!="object"||l===null)return!1;const a=Object.getPrototypeOf(l);return(a===null||a===Object.prototype||Object.getPrototypeOf(a)===null)&&!(Symbol.toStringTag in l)&&!(Symbol.iterator in l)},Vg=l=>l.msg||l.message||l.error_description||l.error||JSON.stringify(l),eb=(l,a,r)=>X(void 0,void 0,void 0,function*(){if(l&&typeof l=="object"&&"status"in l&&"ok"in l&&typeof l.status=="number"&&!r?.noResolveJson){const o=l.status||500,f=l;if(typeof f.json=="function")f.json().then(h=>{const m=h?.statusCode||h?.code||o+"";a(new xo(Vg(h),o,m))}).catch(()=>{const h=o+"",m=f.statusText||`HTTP ${o} error`;a(new xo(m,o,h))});else{const h=o+"",m=f.statusText||`HTTP ${o} error`;a(new xo(m,o,h))}}else a(new Pp(Vg(l),l))}),tb=(l,a,r,s)=>{const o={method:l,headers:a?.headers||{}};return s?(Wp(s)?(o.headers=Object.assign({"Content-Type":"application/json"},a?.headers),o.body=JSON.stringify(s)):o.body=s,Object.assign(Object.assign({},o),r)):o};function nb(l,a,r,s,o,f){return X(this,void 0,void 0,function*(){return new Promise((h,m)=>{l(r,tb(a,s,o,f)).then(g=>{if(!g.ok)throw g;if(s?.noResolveJson)return g;const v=g.headers.get("content-type");return!v||!v.includes("application/json")?{}:g.json()}).then(g=>h(g)).catch(g=>eb(g,m,s))})})}function jt(l,a,r,s,o){return X(this,void 0,void 0,function*(){return nb(l,"POST",a,s,o,r)})}class ab{constructor(a,r={},s){this.shouldThrowOnError=!1,this.url=a.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},oc),r),this.fetch=cc(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(a){return X(this,void 0,void 0,function*(){try{return{data:(yield jt(this.fetch,`${this.url}/CreateIndex`,a,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(At(r))return{data:null,error:r};throw r}})}getIndex(a,r){return X(this,void 0,void 0,function*(){try{return{data:yield jt(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:a,indexName:r},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(At(s))return{data:null,error:s};throw s}})}listIndexes(a){return X(this,void 0,void 0,function*(){try{return{data:yield jt(this.fetch,`${this.url}/ListIndexes`,a,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(At(r))return{data:null,error:r};throw r}})}deleteIndex(a,r){return X(this,void 0,void 0,function*(){try{return{data:(yield jt(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:a,indexName:r},{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(At(s))return{data:null,error:s};throw s}})}}class ib{constructor(a,r={},s){this.shouldThrowOnError=!1,this.url=a.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},oc),r),this.fetch=cc(s)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(a){return X(this,void 0,void 0,function*(){try{if(a.vectors.length<1||a.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield jt(this.fetch,`${this.url}/PutVectors`,a,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(At(r))return{data:null,error:r};throw r}})}getVectors(a){return X(this,void 0,void 0,function*(){try{return{data:yield jt(this.fetch,`${this.url}/GetVectors`,a,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(At(r))return{data:null,error:r};throw r}})}listVectors(a){return X(this,void 0,void 0,function*(){try{if(a.segmentCount!==void 0){if(a.segmentCount<1||a.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(a.segmentIndex!==void 0&&(a.segmentIndex<0||a.segmentIndex>=a.segmentCount))throw new Error(`segmentIndex must be between 0 and ${a.segmentCount-1}`)}return{data:yield jt(this.fetch,`${this.url}/ListVectors`,a,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(At(r))return{data:null,error:r};throw r}})}queryVectors(a){return X(this,void 0,void 0,function*(){try{return{data:yield jt(this.fetch,`${this.url}/QueryVectors`,a,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(At(r))return{data:null,error:r};throw r}})}deleteVectors(a){return X(this,void 0,void 0,function*(){try{if(a.keys.length<1||a.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield jt(this.fetch,`${this.url}/DeleteVectors`,a,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(At(r))return{data:null,error:r};throw r}})}}class rb{constructor(a,r={},s){this.shouldThrowOnError=!1,this.url=a.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},oc),r),this.fetch=cc(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(a){return X(this,void 0,void 0,function*(){try{return{data:(yield jt(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:a},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(At(r))return{data:null,error:r};throw r}})}getBucket(a){return X(this,void 0,void 0,function*(){try{return{data:yield jt(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:a},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(At(r))return{data:null,error:r};throw r}})}listBuckets(){return X(this,arguments,void 0,function*(a={}){try{return{data:yield jt(this.fetch,`${this.url}/ListVectorBuckets`,a,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(At(r))return{data:null,error:r};throw r}})}deleteBucket(a){return X(this,void 0,void 0,function*(){try{return{data:(yield jt(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:a},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(At(r))return{data:null,error:r};throw r}})}}class sb extends rb{constructor(a,r={}){super(a,r.headers||{},r.fetch)}from(a){return new lb(this.url,this.headers,a,this.fetch)}createBucket(a){const r=Object.create(null,{createBucket:{get:()=>super.createBucket}});return X(this,void 0,void 0,function*(){return r.createBucket.call(this,a)})}getBucket(a){const r=Object.create(null,{getBucket:{get:()=>super.getBucket}});return X(this,void 0,void 0,function*(){return r.getBucket.call(this,a)})}listBuckets(){const a=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return X(this,arguments,void 0,function*(r={}){return a.listBuckets.call(this,r)})}deleteBucket(a){const r=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return X(this,void 0,void 0,function*(){return r.deleteBucket.call(this,a)})}}class lb extends ab{constructor(a,r,s,o){super(a,r,o),this.vectorBucketName=s}createIndex(a){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return X(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},a),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const a=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return X(this,arguments,void 0,function*(r={}){return a.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(a){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return X(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,a)})}deleteIndex(a){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return X(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,a)})}index(a){return new ub(this.url,this.headers,this.vectorBucketName,a,this.fetch)}}class ub extends ib{constructor(a,r,s,o,f){super(a,r,f),this.vectorBucketName=s,this.indexName=o}putVectors(a){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return X(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},a),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(a){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return X(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},a),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const a=Object.create(null,{listVectors:{get:()=>super.listVectors}});return X(this,arguments,void 0,function*(r={}){return a.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(a){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return X(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},a),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(a){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return X(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},a),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class ob extends Yp{constructor(a,r={},s,o){super(a,r,s,o)}from(a){return new Vp(this.url,this.headers,a,this.fetch)}get vectors(){return new sb(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Fp(this.url+"/iceberg",this.headers,this.fetch)}}const cb="2.86.0";let fr="";typeof Deno<"u"?fr="deno":typeof document<"u"?fr="web":typeof navigator<"u"&&navigator.product==="ReactNative"?fr="react-native":fr="node";const fb={"X-Client-Info":`supabase-js-${fr}/${cb}`},hb={headers:fb},db={schema:"public"},gb={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},mb={},vb=l=>l?(...a)=>l(...a):(...a)=>fetch(...a),yb=()=>Headers,pb=(l,a,r)=>{const s=vb(r),o=yb();return async(f,h)=>{var m;const g=(m=await a())!==null&&m!==void 0?m:l;let v=new o(h?.headers);return v.has("apikey")||v.set("apikey",l),v.has("Authorization")||v.set("Authorization",`Bearer ${g}`),s(f,Object.assign(Object.assign({},h),{headers:v}))}};function bb(l){return l.endsWith("/")?l:l+"/"}function _b(l,a){var r,s;const{db:o,auth:f,realtime:h,global:m}=l,{db:g,auth:v,realtime:b,global:_}=a,T={db:Object.assign(Object.assign({},g),o),auth:Object.assign(Object.assign({},v),f),realtime:Object.assign(Object.assign({},b),h),storage:{},global:Object.assign(Object.assign(Object.assign({},_),m),{headers:Object.assign(Object.assign({},(r=_?.headers)!==null&&r!==void 0?r:{}),(s=m?.headers)!==null&&s!==void 0?s:{})}),accessToken:async()=>""};return l.accessToken?T.accessToken=l.accessToken:delete T.accessToken,T}function Sb(l){const a=l?.trim();if(!a)throw new Error("supabaseUrl is required.");if(!a.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(bb(a))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Ym="2.86.0",ui=30*1e3,Fo=3,Do=Fo*ui,wb="http://localhost:9999",Eb="supabase.auth.token",Tb={"X-Client-Info":`gotrue-js/${Ym}`},Po="X-Supabase-Api-Version",Km={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Ob=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Ab=600*1e3;class vr extends Error{constructor(a,r,s){super(a),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=s}}function I(l){return typeof l=="object"&&l!==null&&"__isAuthError"in l}class jb extends vr{constructor(a,r,s){super(a,r,s),this.name="AuthApiError",this.status=r,this.code=s}}function Rb(l){return I(l)&&l.name==="AuthApiError"}class va extends vr{constructor(a,r){super(a),this.name="AuthUnknownError",this.originalError=r}}class Kn extends vr{constructor(a,r,s,o){super(a,s,o),this.name=r,this.status=s}}class Ot extends Kn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Cb(l){return I(l)&&l.name==="AuthSessionMissingError"}class ai extends Kn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Qs extends Kn{constructor(a){super(a,"AuthInvalidCredentialsError",400,void 0)}}class Xs extends Kn{constructor(a,r=null){super(a,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Nb(l){return I(l)&&l.name==="AuthImplicitGrantRedirectError"}class Yg extends Kn{constructor(a,r=null){super(a,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Wo extends Kn{constructor(a,r){super(a,"AuthRetryableFetchError",r,void 0)}}function zo(l){return I(l)&&l.name==="AuthRetryableFetchError"}class Kg extends Kn{constructor(a,r,s){super(a,"AuthWeakPasswordError",r,"weak_password"),this.reasons=s}}class ec extends Kn{constructor(a){super(a,"AuthInvalidJwtError",400,"invalid_jwt")}}const Fs="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Qg=` 	
\r=`.split(""),Ub=(()=>{const l=new Array(128);for(let a=0;a<l.length;a+=1)l[a]=-1;for(let a=0;a<Qg.length;a+=1)l[Qg[a].charCodeAt(0)]=-2;for(let a=0;a<Fs.length;a+=1)l[Fs[a].charCodeAt(0)]=a;return l})();function Xg(l,a,r){if(l!==null)for(a.queue=a.queue<<8|l,a.queuedBits+=8;a.queuedBits>=6;){const s=a.queue>>a.queuedBits-6&63;r(Fs[s]),a.queuedBits-=6}else if(a.queuedBits>0)for(a.queue=a.queue<<6-a.queuedBits,a.queuedBits=6;a.queuedBits>=6;){const s=a.queue>>a.queuedBits-6&63;r(Fs[s]),a.queuedBits-=6}}function Qm(l,a,r){const s=Ub[l];if(s>-1)for(a.queue=a.queue<<6|s,a.queuedBits+=6;a.queuedBits>=8;)r(a.queue>>a.queuedBits-8&255),a.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(l)}"`)}}function Jg(l){const a=[],r=h=>{a.push(String.fromCodePoint(h))},s={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},f=h=>{zb(h,s,r)};for(let h=0;h<l.length;h+=1)Qm(l.charCodeAt(h),o,f);return a.join("")}function xb(l,a){if(l<=127){a(l);return}else if(l<=2047){a(192|l>>6),a(128|l&63);return}else if(l<=65535){a(224|l>>12),a(128|l>>6&63),a(128|l&63);return}else if(l<=1114111){a(240|l>>18),a(128|l>>12&63),a(128|l>>6&63),a(128|l&63);return}throw new Error(`Unrecognized Unicode codepoint: ${l.toString(16)}`)}function Db(l,a){for(let r=0;r<l.length;r+=1){let s=l.charCodeAt(r);if(s>55295&&s<=56319){const o=(s-55296)*1024&65535;s=(l.charCodeAt(r+1)-56320&65535|o)+65536,r+=1}xb(s,a)}}function zb(l,a,r){if(a.utf8seq===0){if(l<=127){r(l);return}for(let s=1;s<6;s+=1)if((l>>7-s&1)===0){a.utf8seq=s;break}if(a.utf8seq===2)a.codepoint=l&31;else if(a.utf8seq===3)a.codepoint=l&15;else if(a.utf8seq===4)a.codepoint=l&7;else throw new Error("Invalid UTF-8 sequence");a.utf8seq-=1}else if(a.utf8seq>0){if(l<=127)throw new Error("Invalid UTF-8 sequence");a.codepoint=a.codepoint<<6|l&63,a.utf8seq-=1,a.utf8seq===0&&r(a.codepoint)}}function ci(l){const a=[],r={queue:0,queuedBits:0},s=o=>{a.push(o)};for(let o=0;o<l.length;o+=1)Qm(l.charCodeAt(o),r,s);return new Uint8Array(a)}function Mb(l){const a=[];return Db(l,r=>a.push(r)),new Uint8Array(a)}function ya(l){const a=[],r={queue:0,queuedBits:0},s=o=>{a.push(o)};return l.forEach(o=>Xg(o,r,s)),Xg(null,r,s),a.join("")}function kb(l){return Math.round(Date.now()/1e3)+l}function Bb(){return Symbol("auth-callback")}const tt=()=>typeof window<"u"&&typeof document<"u",fa={tested:!1,writable:!1},Xm=()=>{if(!tt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(fa.tested)return fa.writable;const l=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(l,l),globalThis.localStorage.removeItem(l),fa.tested=!0,fa.writable=!0}catch{fa.tested=!0,fa.writable=!1}return fa.writable};function qb(l){const a={},r=new URL(l);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((o,f)=>{a[f]=o})}catch{}return r.searchParams.forEach((s,o)=>{a[o]=s}),a}const Jm=l=>l?(...a)=>l(...a):(...a)=>fetch(...a),Lb=l=>typeof l=="object"&&l!==null&&"status"in l&&"ok"in l&&"json"in l&&typeof l.json=="function",oi=async(l,a,r)=>{await l.setItem(a,JSON.stringify(r))},ha=async(l,a)=>{const r=await l.getItem(a);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Vn=async(l,a)=>{await l.removeItem(a)};class nl{constructor(){this.promise=new nl.promiseConstructor((a,r)=>{this.resolve=a,this.reject=r})}}nl.promiseConstructor=Promise;function Mo(l){const a=l.split(".");if(a.length!==3)throw new ec("Invalid JWT structure");for(let s=0;s<a.length;s++)if(!Ob.test(a[s]))throw new ec("JWT not in base64url format");return{header:JSON.parse(Jg(a[0])),payload:JSON.parse(Jg(a[1])),signature:ci(a[2]),raw:{header:a[0],payload:a[1]}}}async function Hb(l){return await new Promise(a=>{setTimeout(()=>a(null),l)})}function $b(l,a){return new Promise((s,o)=>{(async()=>{for(let f=0;f<1/0;f++)try{const h=await l(f);if(!a(f,null,h)){s(h);return}}catch(h){if(!a(f,h)){o(h);return}}})()})}function Gb(l){return("0"+l.toString(16)).substr(-2)}function Vb(){const a=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=r.length;let o="";for(let f=0;f<56;f++)o+=r.charAt(Math.floor(Math.random()*s));return o}return crypto.getRandomValues(a),Array.from(a,Gb).join("")}async function Yb(l){const r=new TextEncoder().encode(l),s=await crypto.subtle.digest("SHA-256",r),o=new Uint8Array(s);return Array.from(o).map(f=>String.fromCharCode(f)).join("")}async function Kb(l){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),l;const r=await Yb(l);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ii(l,a,r=!1){const s=Vb();let o=s;r&&(o+="/PASSWORD_RECOVERY"),await oi(l,`${a}-code-verifier`,o);const f=await Kb(s);return[f,s===f?"plain":"s256"]}const Qb=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Xb(l){const a=l.headers.get(Po);if(!a||!a.match(Qb))return null;try{return new Date(`${a}T00:00:00.0Z`)}catch{return null}}function Jb(l){if(!l)throw new Error("Missing exp claim");const a=Math.floor(Date.now()/1e3);if(l<=a)throw new Error("JWT has expired")}function Zb(l){switch(l){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Ib=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ri(l){if(!Ib.test(l))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function ko(){const l={};return new Proxy(l,{get:(a,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const s=r.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(a,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(a,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Fb(l,a){return new Proxy(l,{get:(r,s,o)=>{if(s==="__isInsecureUserWarningProxy")return!0;if(typeof s=="symbol"){const f=s.toString();if(f==="Symbol(Symbol.toPrimitive)"||f==="Symbol(Symbol.toStringTag)"||f==="Symbol(util.inspect.custom)"||f==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,s,o)}return!a.value&&typeof s=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a.value=!0),Reflect.get(r,s,o)}})}function Zg(l){return JSON.parse(JSON.stringify(l))}const da=l=>l.msg||l.message||l.error_description||l.error||JSON.stringify(l),Pb=[502,503,504];async function Ig(l){var a;if(!Lb(l))throw new Wo(da(l),0);if(Pb.includes(l.status))throw new Wo(da(l),l.status);let r;try{r=await l.json()}catch(f){throw new va(da(f),f)}let s;const o=Xb(l);if(o&&o.getTime()>=Km["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?s=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(s=r.error_code),s){if(s==="weak_password")throw new Kg(da(r),l.status,((a=r.weak_password)===null||a===void 0?void 0:a.reasons)||[]);if(s==="session_not_found")throw new Ot}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((f,h)=>f&&typeof h=="string",!0))throw new Kg(da(r),l.status,r.weak_password.reasons);throw new jb(da(r),l.status||500,s)}const Wb=(l,a,r,s)=>{const o={method:l,headers:a?.headers||{}};return l==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},a?.headers),o.body=JSON.stringify(s),Object.assign(Object.assign({},o),r))};async function te(l,a,r,s){var o;const f=Object.assign({},s?.headers);f[Po]||(f[Po]=Km["2024-01-01"].name),s?.jwt&&(f.Authorization=`Bearer ${s.jwt}`);const h=(o=s?.query)!==null&&o!==void 0?o:{};s?.redirectTo&&(h.redirect_to=s.redirectTo);const m=Object.keys(h).length?"?"+new URLSearchParams(h).toString():"",g=await e_(l,a,r+m,{headers:f,noResolveJson:s?.noResolveJson},{},s?.body);return s?.xform?s?.xform(g):{data:Object.assign({},g),error:null}}async function e_(l,a,r,s,o,f){const h=Wb(a,s,o,f);let m;try{m=await l(r,Object.assign({},h))}catch(g){throw console.error(g),new Wo(da(g),0)}if(m.ok||await Ig(m),s?.noResolveJson)return m;try{return await m.json()}catch(g){await Ig(g)}}function Yt(l){var a;let r=null;a_(l)&&(r=Object.assign({},l),l.expires_at||(r.expires_at=kb(l.expires_in)));const s=(a=l.user)!==null&&a!==void 0?a:l;return{data:{session:r,user:s},error:null}}function Fg(l){const a=Yt(l);return!a.error&&l.weak_password&&typeof l.weak_password=="object"&&Array.isArray(l.weak_password.reasons)&&l.weak_password.reasons.length&&l.weak_password.message&&typeof l.weak_password.message=="string"&&l.weak_password.reasons.reduce((r,s)=>r&&typeof s=="string",!0)&&(a.data.weak_password=l.weak_password),a}function Yn(l){var a;return{data:{user:(a=l.user)!==null&&a!==void 0?a:l},error:null}}function t_(l){return{data:l,error:null}}function n_(l){const{action_link:a,email_otp:r,hashed_token:s,redirect_to:o,verification_type:f}=l,h=hi(l,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),m={action_link:a,email_otp:r,hashed_token:s,redirect_to:o,verification_type:f},g=Object.assign({},h);return{data:{properties:m,user:g},error:null}}function Pg(l){return l}function a_(l){return l.access_token&&l.refresh_token&&l.expires_in}const Bo=["global","local","others"];class i_{constructor({url:a="",headers:r={},fetch:s}){this.url=a,this.headers=r,this.fetch=Jm(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(a,r=Bo[0]){if(Bo.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Bo.join(", ")}`);try{return await te(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:a,noResolveJson:!0}),{data:null,error:null}}catch(s){if(I(s))return{data:null,error:s};throw s}}async inviteUserByEmail(a,r={}){try{return await te(this.fetch,"POST",`${this.url}/invite`,{body:{email:a,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Yn})}catch(s){if(I(s))return{data:{user:null},error:s};throw s}}async generateLink(a){try{const{options:r}=a,s=hi(a,["options"]),o=Object.assign(Object.assign({},s),r);return"newEmail"in s&&(o.new_email=s?.newEmail,delete o.newEmail),await te(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:n_,redirectTo:r?.redirectTo})}catch(r){if(I(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(a){try{return await te(this.fetch,"POST",`${this.url}/admin/users`,{body:a,headers:this.headers,xform:Yn})}catch(r){if(I(r))return{data:{user:null},error:r};throw r}}async listUsers(a){var r,s,o,f,h,m,g;try{const v={nextPage:null,lastPage:0,total:0},b=await te(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(r=a?.page)===null||r===void 0?void 0:r.toString())!==null&&s!==void 0?s:"",per_page:(f=(o=a?.perPage)===null||o===void 0?void 0:o.toString())!==null&&f!==void 0?f:""},xform:Pg});if(b.error)throw b.error;const _=await b.json(),T=(h=b.headers.get("x-total-count"))!==null&&h!==void 0?h:0,E=(g=(m=b.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&g!==void 0?g:[];return E.length>0&&(E.forEach(D=>{const N=parseInt(D.split(";")[0].split("=")[1].substring(0,1)),U=JSON.parse(D.split(";")[1].split("=")[1]);v[`${U}Page`]=N}),v.total=parseInt(T)),{data:Object.assign(Object.assign({},_),v),error:null}}catch(v){if(I(v))return{data:{users:[]},error:v};throw v}}async getUserById(a){ri(a);try{return await te(this.fetch,"GET",`${this.url}/admin/users/${a}`,{headers:this.headers,xform:Yn})}catch(r){if(I(r))return{data:{user:null},error:r};throw r}}async updateUserById(a,r){ri(a);try{return await te(this.fetch,"PUT",`${this.url}/admin/users/${a}`,{body:r,headers:this.headers,xform:Yn})}catch(s){if(I(s))return{data:{user:null},error:s};throw s}}async deleteUser(a,r=!1){ri(a);try{return await te(this.fetch,"DELETE",`${this.url}/admin/users/${a}`,{headers:this.headers,body:{should_soft_delete:r},xform:Yn})}catch(s){if(I(s))return{data:{user:null},error:s};throw s}}async _listFactors(a){ri(a.userId);try{const{data:r,error:s}=await te(this.fetch,"GET",`${this.url}/admin/users/${a.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:r,error:s}}catch(r){if(I(r))return{data:null,error:r};throw r}}async _deleteFactor(a){ri(a.userId),ri(a.id);try{return{data:await te(this.fetch,"DELETE",`${this.url}/admin/users/${a.userId}/factors/${a.id}`,{headers:this.headers}),error:null}}catch(r){if(I(r))return{data:null,error:r};throw r}}async _listOAuthClients(a){var r,s,o,f,h,m,g;try{const v={nextPage:null,lastPage:0,total:0},b=await te(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(r=a?.page)===null||r===void 0?void 0:r.toString())!==null&&s!==void 0?s:"",per_page:(f=(o=a?.perPage)===null||o===void 0?void 0:o.toString())!==null&&f!==void 0?f:""},xform:Pg});if(b.error)throw b.error;const _=await b.json(),T=(h=b.headers.get("x-total-count"))!==null&&h!==void 0?h:0,E=(g=(m=b.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&g!==void 0?g:[];return E.length>0&&(E.forEach(D=>{const N=parseInt(D.split(";")[0].split("=")[1].substring(0,1)),U=JSON.parse(D.split(";")[1].split("=")[1]);v[`${U}Page`]=N}),v.total=parseInt(T)),{data:Object.assign(Object.assign({},_),v),error:null}}catch(v){if(I(v))return{data:{clients:[]},error:v};throw v}}async _createOAuthClient(a){try{return await te(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:a,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(I(r))return{data:null,error:r};throw r}}async _getOAuthClient(a){try{return await te(this.fetch,"GET",`${this.url}/admin/oauth/clients/${a}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(I(r))return{data:null,error:r};throw r}}async _updateOAuthClient(a,r){try{return await te(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${a}`,{body:r,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(I(s))return{data:null,error:s};throw s}}async _deleteOAuthClient(a){try{return await te(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${a}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(I(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(a){try{return await te(this.fetch,"POST",`${this.url}/admin/oauth/clients/${a}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(I(r))return{data:null,error:r};throw r}}}function Wg(l={}){return{getItem:a=>l[a]||null,setItem:(a,r)=>{l[a]=r},removeItem:a=>{delete l[a]}}}const si={debug:!!(globalThis&&Xm()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Zm extends Error{constructor(a){super(a),this.isAcquireTimeout=!0}}class r_ extends Zm{}async function s_(l,a,r){si.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",l,a);const s=new globalThis.AbortController;return a>0&&setTimeout(()=>{s.abort(),si.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",l)},a),await Promise.resolve().then(()=>globalThis.navigator.locks.request(l,a===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async o=>{if(o){si.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",l,o.name);try{return await r()}finally{si.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",l,o.name)}}else{if(a===0)throw si.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",l),new r_(`Acquiring an exclusive Navigator LockManager lock "${l}" immediately failed`);if(si.debug)try{const f=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(f,null,"  "))}catch(f){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",f)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function l_(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Im(l){if(!/^0x[a-fA-F0-9]{40}$/.test(l))throw new Error(`@supabase/auth-js: Address "${l}" is invalid.`);return l.toLowerCase()}function u_(l){return parseInt(l,16)}function o_(l){const a=new TextEncoder().encode(l);return"0x"+Array.from(a,s=>s.toString(16).padStart(2,"0")).join("")}function c_(l){var a;const{chainId:r,domain:s,expirationTime:o,issuedAt:f=new Date,nonce:h,notBefore:m,requestId:g,resources:v,scheme:b,uri:_,version:T}=l;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!s)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(h&&h.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${h}`);if(!_)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(T!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${T}`);if(!((a=l.statement)===null||a===void 0)&&a.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${l.statement}`)}const E=Im(l.address),D=b?`${b}://${s}`:s,N=l.statement?`${l.statement}
`:"",U=`${D} wants you to sign in with your Ethereum account:
${E}

${N}`;let q=`URI: ${_}
Version: ${T}
Chain ID: ${r}${h?`
Nonce: ${h}`:""}
Issued At: ${f.toISOString()}`;if(o&&(q+=`
Expiration Time: ${o.toISOString()}`),m&&(q+=`
Not Before: ${m.toISOString()}`),g&&(q+=`
Request ID: ${g}`),v){let $=`
Resources:`;for(const H of v){if(!H||typeof H!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${H}`);$+=`
- ${H}`}q+=$}return`${U}
${q}`}class Ve extends Error{constructor({message:a,code:r,cause:s,name:o}){var f;super(a,{cause:s}),this.__isWebAuthnError=!0,this.name=(f=o??(s instanceof Error?s.name:void 0))!==null&&f!==void 0?f:"Unknown Error",this.code=r}}class Ps extends Ve{constructor(a,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:a}),this.name="WebAuthnUnknownError",this.originalError=r}}function f_({error:l,options:a}){var r,s,o;const{publicKey:f}=a;if(!f)throw Error("options was missing required publicKey property");if(l.name==="AbortError"){if(a.signal instanceof AbortSignal)return new Ve({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:l})}else if(l.name==="ConstraintError"){if(((r=f.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Ve({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:l});if(a.mediation==="conditional"&&((s=f.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new Ve({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:l});if(((o=f.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new Ve({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:l})}else{if(l.name==="InvalidStateError")return new Ve({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:l});if(l.name==="NotAllowedError")return new Ve({message:l.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l});if(l.name==="NotSupportedError")return f.pubKeyCredParams.filter(m=>m.type==="public-key").length===0?new Ve({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:l}):new Ve({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:l});if(l.name==="SecurityError"){const h=window.location.hostname;if(Fm(h)){if(f.rp.id!==h)return new Ve({message:`The RP ID "${f.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:l})}else return new Ve({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:l})}else if(l.name==="TypeError"){if(f.user.id.byteLength<1||f.user.id.byteLength>64)return new Ve({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:l})}else if(l.name==="UnknownError")return new Ve({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:l})}return new Ve({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l})}function h_({error:l,options:a}){const{publicKey:r}=a;if(!r)throw Error("options was missing required publicKey property");if(l.name==="AbortError"){if(a.signal instanceof AbortSignal)return new Ve({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:l})}else{if(l.name==="NotAllowedError")return new Ve({message:l.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l});if(l.name==="SecurityError"){const s=window.location.hostname;if(Fm(s)){if(r.rpId!==s)return new Ve({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:l})}else return new Ve({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:l})}else if(l.name==="UnknownError")return new Ve({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:l})}return new Ve({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l})}class d_{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const a=new AbortController;return this.controller=a,a.signal}cancelCeremony(){if(this.controller){const a=new Error("Manually cancelling existing WebAuthn API call");a.name="AbortError",this.controller.abort(a),this.controller=void 0}}}const g_=new d_;function m_(l){if(!l)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(l);const{challenge:a,user:r,excludeCredentials:s}=l,o=hi(l,["challenge","user","excludeCredentials"]),f=ci(a).buffer,h=Object.assign(Object.assign({},r),{id:ci(r.id).buffer}),m=Object.assign(Object.assign({},o),{challenge:f,user:h});if(s&&s.length>0){m.excludeCredentials=new Array(s.length);for(let g=0;g<s.length;g++){const v=s[g];m.excludeCredentials[g]=Object.assign(Object.assign({},v),{id:ci(v.id).buffer,type:v.type||"public-key",transports:v.transports})}}return m}function v_(l){if(!l)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(l);const{challenge:a,allowCredentials:r}=l,s=hi(l,["challenge","allowCredentials"]),o=ci(a).buffer,f=Object.assign(Object.assign({},s),{challenge:o});if(r&&r.length>0){f.allowCredentials=new Array(r.length);for(let h=0;h<r.length;h++){const m=r[h];f.allowCredentials[h]=Object.assign(Object.assign({},m),{id:ci(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return f}function y_(l){var a;if("toJSON"in l&&typeof l.toJSON=="function")return l.toJSON();const r=l;return{id:l.id,rawId:l.id,response:{attestationObject:ya(new Uint8Array(l.response.attestationObject)),clientDataJSON:ya(new Uint8Array(l.response.clientDataJSON))},type:"public-key",clientExtensionResults:l.getClientExtensionResults(),authenticatorAttachment:(a=r.authenticatorAttachment)!==null&&a!==void 0?a:void 0}}function p_(l){var a;if("toJSON"in l&&typeof l.toJSON=="function")return l.toJSON();const r=l,s=l.getClientExtensionResults(),o=l.response;return{id:l.id,rawId:l.id,response:{authenticatorData:ya(new Uint8Array(o.authenticatorData)),clientDataJSON:ya(new Uint8Array(o.clientDataJSON)),signature:ya(new Uint8Array(o.signature)),userHandle:o.userHandle?ya(new Uint8Array(o.userHandle)):void 0},type:"public-key",clientExtensionResults:s,authenticatorAttachment:(a=r.authenticatorAttachment)!==null&&a!==void 0?a:void 0}}function Fm(l){return l==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(l)}function em(){var l,a;return!!(tt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((l=navigator?.credentials)===null||l===void 0?void 0:l.create)=="function"&&typeof((a=navigator?.credentials)===null||a===void 0?void 0:a.get)=="function")}async function b_(l){try{const a=await navigator.credentials.create(l);return a?a instanceof PublicKeyCredential?{data:a,error:null}:{data:null,error:new Ps("Browser returned unexpected credential type",a)}:{data:null,error:new Ps("Empty credential response",a)}}catch(a){return{data:null,error:f_({error:a,options:l})}}}async function __(l){try{const a=await navigator.credentials.get(l);return a?a instanceof PublicKeyCredential?{data:a,error:null}:{data:null,error:new Ps("Browser returned unexpected credential type",a)}:{data:null,error:new Ps("Empty credential response",a)}}catch(a){return{data:null,error:h_({error:a,options:l})}}}const S_={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},w_={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Ws(...l){const a=o=>o!==null&&typeof o=="object"&&!Array.isArray(o),r=o=>o instanceof ArrayBuffer||ArrayBuffer.isView(o),s={};for(const o of l)if(o)for(const f in o){const h=o[f];if(h!==void 0)if(Array.isArray(h))s[f]=h;else if(r(h))s[f]=h;else if(a(h)){const m=s[f];a(m)?s[f]=Ws(m,h):s[f]=Ws(h)}else s[f]=h}return s}function E_(l,a){return Ws(S_,l,a||{})}function T_(l,a){return Ws(w_,l,a||{})}class O_{constructor(a){this.client=a,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(a){return this.client.mfa.enroll(Object.assign(Object.assign({},a),{factorType:"webauthn"}))}async _challenge({factorId:a,webauthn:r,friendlyName:s,signal:o},f){try{const{data:h,error:m}=await this.client.mfa.challenge({factorId:a,webauthn:r});if(!h)return{data:null,error:m};const g=o??g_.createNewAbortSignal();if(h.webauthn.type==="create"){const{user:v}=h.webauthn.credential_options.publicKey;v.name||(v.name=`${v.id}:${s}`),v.displayName||(v.displayName=v.name)}switch(h.webauthn.type){case"create":{const v=E_(h.webauthn.credential_options.publicKey,f?.create),{data:b,error:_}=await b_({publicKey:v,signal:g});return b?{data:{factorId:a,challengeId:h.id,webauthn:{type:h.webauthn.type,credential_response:b}},error:null}:{data:null,error:_}}case"request":{const v=T_(h.webauthn.credential_options.publicKey,f?.request),{data:b,error:_}=await __(Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:v,signal:g}));return b?{data:{factorId:a,challengeId:h.id,webauthn:{type:h.webauthn.type,credential_response:b}},error:null}:{data:null,error:_}}}}catch(h){return I(h)?{data:null,error:h}:{data:null,error:new va("Unexpected error in challenge",h)}}}async _verify({challengeId:a,factorId:r,webauthn:s}){return this.client.mfa.verify({factorId:r,challengeId:a,webauthn:s})}async _authenticate({factorId:a,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},f){if(!r)return{data:null,error:new vr("rpId is required for WebAuthn authentication")};try{if(!em())return{data:null,error:new va("Browser does not support WebAuthn",null)};const{data:h,error:m}=await this.challenge({factorId:a,webauthn:{rpId:r,rpOrigins:s},signal:o},{request:f});if(!h)return{data:null,error:m};const{webauthn:g}=h;return this._verify({factorId:a,challengeId:h.challengeId,webauthn:{type:g.type,rpId:r,rpOrigins:s,credential_response:g.credential_response}})}catch(h){return I(h)?{data:null,error:h}:{data:null,error:new va("Unexpected error in authenticate",h)}}}async _register({friendlyName:a,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},f){if(!r)return{data:null,error:new vr("rpId is required for WebAuthn registration")};try{if(!em())return{data:null,error:new va("Browser does not support WebAuthn",null)};const{data:h,error:m}=await this._enroll({friendlyName:a});if(!h)return await this.client.mfa.listFactors().then(b=>{var _;return(_=b.data)===null||_===void 0?void 0:_.all.find(T=>T.factor_type==="webauthn"&&T.friendly_name===a&&T.status!=="unverified")}).then(b=>b?this.client.mfa.unenroll({factorId:b?.id}):void 0),{data:null,error:m};const{data:g,error:v}=await this._challenge({factorId:h.id,friendlyName:h.friendly_name,webauthn:{rpId:r,rpOrigins:s},signal:o},{create:f});return g?this._verify({factorId:h.id,challengeId:g.challengeId,webauthn:{rpId:r,rpOrigins:s,type:g.webauthn.type,credential_response:g.webauthn.credential_response}}):{data:null,error:v}}catch(h){return I(h)?{data:null,error:h}:{data:null,error:new va("Unexpected error in register",h)}}}}l_();const A_={url:wb,storageKey:Eb,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Tb,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function tm(l,a,r){return await r()}const li={};class yr{get jwks(){var a,r;return(r=(a=li[this.storageKey])===null||a===void 0?void 0:a.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(a){li[this.storageKey]=Object.assign(Object.assign({},li[this.storageKey]),{jwks:a})}get jwks_cached_at(){var a,r;return(r=(a=li[this.storageKey])===null||a===void 0?void 0:a.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(a){li[this.storageKey]=Object.assign(Object.assign({},li[this.storageKey]),{cachedAt:a})}constructor(a){var r,s,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const f=Object.assign(Object.assign({},A_),a);if(this.storageKey=f.storageKey,this.instanceID=(r=yr.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,yr.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!f.debug,typeof f.debug=="function"&&(this.logger=f.debug),this.instanceID>0&&tt()){const h=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(h),this.logDebugMessages&&console.trace(h)}if(this.persistSession=f.persistSession,this.autoRefreshToken=f.autoRefreshToken,this.admin=new i_({url:f.url,headers:f.headers,fetch:f.fetch}),this.url=f.url,this.headers=f.headers,this.fetch=Jm(f.fetch),this.lock=f.lock||tm,this.detectSessionInUrl=f.detectSessionInUrl,this.flowType=f.flowType,this.hasCustomAuthorizationHeader=f.hasCustomAuthorizationHeader,this.throwOnError=f.throwOnError,f.lock?this.lock=f.lock:tt()&&(!((s=globalThis?.navigator)===null||s===void 0)&&s.locks)?this.lock=s_:this.lock=tm,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new O_(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(f.storage?this.storage=f.storage:Xm()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Wg(this.memoryStorage)),f.userStorage&&(this.userStorage=f.userStorage)):(this.memoryStorage={},this.storage=Wg(this.memoryStorage)),tt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(h){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",h)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async h=>{this._debug("received broadcast notification from other tab or client",h),await this._notifyAllSubscribers(h.data.event,h.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(a){if(this.throwOnError&&a&&a.error)throw a.error;return a}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Ym}) ${new Date().toISOString()}`}_debug(...a){return this.logDebugMessages&&this.logger(this._logPrefix(),...a),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var a;try{let r={},s="none";if(tt()&&(r=qb(window.location.href),this._isImplicitGrantCallback(r)?s="implicit":await this._isPKCECallback(r)&&(s="pkce")),tt()&&this.detectSessionInUrl&&s!=="none"){const{data:o,error:f}=await this._getSessionFromURL(r,s);if(f){if(this._debug("#_initialize()","error detecting session from URL",f),Nb(f)){const g=(a=f.details)===null||a===void 0?void 0:a.code;if(g==="identity_already_exists"||g==="identity_not_found"||g==="single_identity_not_deletable")return{error:f}}return await this._removeSession(),{error:f}}const{session:h,redirectType:m}=o;return this._debug("#_initialize()","detected session in URL",h,"redirect type",m),await this._saveSession(h),setTimeout(async()=>{m==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",h):await this._notifyAllSubscribers("SIGNED_IN",h)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return I(r)?this._returnResult({error:r}):this._returnResult({error:new va("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(a){var r,s,o;try{const f=await te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(r=a?.options)===null||r===void 0?void 0:r.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(o=a?.options)===null||o===void 0?void 0:o.captchaToken}},xform:Yt}),{data:h,error:m}=f;if(m||!h)return this._returnResult({data:{user:null,session:null},error:m});const g=h.session,v=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",g)),this._returnResult({data:{user:v,session:g},error:null})}catch(f){if(I(f))return this._returnResult({data:{user:null,session:null},error:f});throw f}}async signUp(a){var r,s,o;try{let f;if("email"in a){const{email:b,password:_,options:T}=a;let E=null,D=null;this.flowType==="pkce"&&([E,D]=await ii(this.storage,this.storageKey)),f=await te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:T?.emailRedirectTo,body:{email:b,password:_,data:(r=T?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:T?.captchaToken},code_challenge:E,code_challenge_method:D},xform:Yt})}else if("phone"in a){const{phone:b,password:_,options:T}=a;f=await te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:b,password:_,data:(s=T?.data)!==null&&s!==void 0?s:{},channel:(o=T?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:T?.captchaToken}},xform:Yt})}else throw new Qs("You must provide either an email or phone number and a password");const{data:h,error:m}=f;if(m||!h)return this._returnResult({data:{user:null,session:null},error:m});const g=h.session,v=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",g)),this._returnResult({data:{user:v,session:g},error:null})}catch(f){if(I(f))return this._returnResult({data:{user:null,session:null},error:f});throw f}}async signInWithPassword(a){try{let r;if("email"in a){const{email:f,password:h,options:m}=a;r=await te(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:f,password:h,gotrue_meta_security:{captcha_token:m?.captchaToken}},xform:Fg})}else if("phone"in a){const{phone:f,password:h,options:m}=a;r=await te(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:f,password:h,gotrue_meta_security:{captcha_token:m?.captchaToken}},xform:Fg})}else throw new Qs("You must provide either an email or phone number and a password");const{data:s,error:o}=r;if(o)return this._returnResult({data:{user:null,session:null},error:o});if(!s||!s.session||!s.user){const f=new ai;return this._returnResult({data:{user:null,session:null},error:f})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:o})}catch(r){if(I(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(a){var r,s,o,f;return await this._handleProviderSignIn(a.provider,{redirectTo:(r=a.options)===null||r===void 0?void 0:r.redirectTo,scopes:(s=a.options)===null||s===void 0?void 0:s.scopes,queryParams:(o=a.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(f=a.options)===null||f===void 0?void 0:f.skipBrowserRedirect})}async exchangeCodeForSession(a){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(a))}async signInWithWeb3(a){const{chain:r}=a;switch(r){case"ethereum":return await this.signInWithEthereum(a);case"solana":return await this.signInWithSolana(a);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(a){var r,s,o,f,h,m,g,v,b,_,T;let E,D;if("message"in a)E=a.message,D=a.signature;else{const{chain:N,wallet:U,statement:q,options:$}=a;let H;if(tt())if(typeof U=="object")H=U;else{const Te=window;if("ethereum"in Te&&typeof Te.ethereum=="object"&&"request"in Te.ethereum&&typeof Te.ethereum.request=="function")H=Te.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof U!="object"||!$?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");H=U}const K=new URL((r=$?.url)!==null&&r!==void 0?r:window.location.href),ie=await H.request({method:"eth_requestAccounts"}).then(Te=>Te).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!ie||ie.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const ne=Im(ie[0]);let G=(s=$?.signInWithEthereum)===null||s===void 0?void 0:s.chainId;if(!G){const Te=await H.request({method:"eth_chainId"});G=u_(Te)}const ve={domain:K.host,address:ne,statement:q,uri:K.href,version:"1",chainId:G,nonce:(o=$?.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(h=(f=$?.signInWithEthereum)===null||f===void 0?void 0:f.issuedAt)!==null&&h!==void 0?h:new Date,expirationTime:(m=$?.signInWithEthereum)===null||m===void 0?void 0:m.expirationTime,notBefore:(g=$?.signInWithEthereum)===null||g===void 0?void 0:g.notBefore,requestId:(v=$?.signInWithEthereum)===null||v===void 0?void 0:v.requestId,resources:(b=$?.signInWithEthereum)===null||b===void 0?void 0:b.resources};E=c_(ve),D=await H.request({method:"personal_sign",params:[o_(E),ne]})}try{const{data:N,error:U}=await te(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:E,signature:D},!((_=a.options)===null||_===void 0)&&_.captchaToken?{gotrue_meta_security:{captcha_token:(T=a.options)===null||T===void 0?void 0:T.captchaToken}}:null),xform:Yt});if(U)throw U;if(!N||!N.session||!N.user){const q=new ai;return this._returnResult({data:{user:null,session:null},error:q})}return N.session&&(await this._saveSession(N.session),await this._notifyAllSubscribers("SIGNED_IN",N.session)),this._returnResult({data:Object.assign({},N),error:U})}catch(N){if(I(N))return this._returnResult({data:{user:null,session:null},error:N});throw N}}async signInWithSolana(a){var r,s,o,f,h,m,g,v,b,_,T,E;let D,N;if("message"in a)D=a.message,N=a.signature;else{const{chain:U,wallet:q,statement:$,options:H}=a;let K;if(tt())if(typeof q=="object")K=q;else{const ne=window;if("solana"in ne&&typeof ne.solana=="object"&&("signIn"in ne.solana&&typeof ne.solana.signIn=="function"||"signMessage"in ne.solana&&typeof ne.solana.signMessage=="function"))K=ne.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof q!="object"||!H?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");K=q}const ie=new URL((r=H?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in K&&K.signIn){const ne=await K.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},H?.signInWithSolana),{version:"1",domain:ie.host,uri:ie.href}),$?{statement:$}:null));let G;if(Array.isArray(ne)&&ne[0]&&typeof ne[0]=="object")G=ne[0];else if(ne&&typeof ne=="object"&&"signedMessage"in ne&&"signature"in ne)G=ne;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in G&&"signature"in G&&(typeof G.signedMessage=="string"||G.signedMessage instanceof Uint8Array)&&G.signature instanceof Uint8Array)D=typeof G.signedMessage=="string"?G.signedMessage:new TextDecoder().decode(G.signedMessage),N=G.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in K)||typeof K.signMessage!="function"||!("publicKey"in K)||typeof K!="object"||!K.publicKey||!("toBase58"in K.publicKey)||typeof K.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");D=[`${ie.host} wants you to sign in with your Solana account:`,K.publicKey.toBase58(),...$?["",$,""]:[""],"Version: 1",`URI: ${ie.href}`,`Issued At: ${(o=(s=H?.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((f=H?.signInWithSolana)===null||f===void 0)&&f.notBefore?[`Not Before: ${H.signInWithSolana.notBefore}`]:[],...!((h=H?.signInWithSolana)===null||h===void 0)&&h.expirationTime?[`Expiration Time: ${H.signInWithSolana.expirationTime}`]:[],...!((m=H?.signInWithSolana)===null||m===void 0)&&m.chainId?[`Chain ID: ${H.signInWithSolana.chainId}`]:[],...!((g=H?.signInWithSolana)===null||g===void 0)&&g.nonce?[`Nonce: ${H.signInWithSolana.nonce}`]:[],...!((v=H?.signInWithSolana)===null||v===void 0)&&v.requestId?[`Request ID: ${H.signInWithSolana.requestId}`]:[],...!((_=(b=H?.signInWithSolana)===null||b===void 0?void 0:b.resources)===null||_===void 0)&&_.length?["Resources",...H.signInWithSolana.resources.map(G=>`- ${G}`)]:[]].join(`
`);const ne=await K.signMessage(new TextEncoder().encode(D),"utf8");if(!ne||!(ne instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");N=ne}}try{const{data:U,error:q}=await te(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:D,signature:ya(N)},!((T=a.options)===null||T===void 0)&&T.captchaToken?{gotrue_meta_security:{captcha_token:(E=a.options)===null||E===void 0?void 0:E.captchaToken}}:null),xform:Yt});if(q)throw q;if(!U||!U.session||!U.user){const $=new ai;return this._returnResult({data:{user:null,session:null},error:$})}return U.session&&(await this._saveSession(U.session),await this._notifyAllSubscribers("SIGNED_IN",U.session)),this._returnResult({data:Object.assign({},U),error:q})}catch(U){if(I(U))return this._returnResult({data:{user:null,session:null},error:U});throw U}}async _exchangeCodeForSession(a){const r=await ha(this.storage,`${this.storageKey}-code-verifier`),[s,o]=(r??"").split("/");try{const{data:f,error:h}=await te(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:a,code_verifier:s},xform:Yt});if(await Vn(this.storage,`${this.storageKey}-code-verifier`),h)throw h;if(!f||!f.session||!f.user){const m=new ai;return this._returnResult({data:{user:null,session:null,redirectType:null},error:m})}return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",f.session)),this._returnResult({data:Object.assign(Object.assign({},f),{redirectType:o??null}),error:h})}catch(f){if(I(f))return this._returnResult({data:{user:null,session:null,redirectType:null},error:f});throw f}}async signInWithIdToken(a){try{const{options:r,provider:s,token:o,access_token:f,nonce:h}=a,m=await te(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:o,access_token:f,nonce:h,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:Yt}),{data:g,error:v}=m;if(v)return this._returnResult({data:{user:null,session:null},error:v});if(!g||!g.session||!g.user){const b=new ai;return this._returnResult({data:{user:null,session:null},error:b})}return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),this._returnResult({data:g,error:v})}catch(r){if(I(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(a){var r,s,o,f,h;try{if("email"in a){const{email:m,options:g}=a;let v=null,b=null;this.flowType==="pkce"&&([v,b]=await ii(this.storage,this.storageKey));const{error:_}=await te(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:m,data:(r=g?.data)!==null&&r!==void 0?r:{},create_user:(s=g?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:g?.captchaToken},code_challenge:v,code_challenge_method:b},redirectTo:g?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:_})}if("phone"in a){const{phone:m,options:g}=a,{data:v,error:b}=await te(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:m,data:(o=g?.data)!==null&&o!==void 0?o:{},create_user:(f=g?.shouldCreateUser)!==null&&f!==void 0?f:!0,gotrue_meta_security:{captcha_token:g?.captchaToken},channel:(h=g?.channel)!==null&&h!==void 0?h:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:v?.message_id},error:b})}throw new Qs("You must provide either an email or phone number.")}catch(m){if(I(m))return this._returnResult({data:{user:null,session:null},error:m});throw m}}async verifyOtp(a){var r,s;try{let o,f;"options"in a&&(o=(r=a.options)===null||r===void 0?void 0:r.redirectTo,f=(s=a.options)===null||s===void 0?void 0:s.captchaToken);const{data:h,error:m}=await te(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},a),{gotrue_meta_security:{captcha_token:f}}),redirectTo:o,xform:Yt});if(m)throw m;if(!h)throw new Error("An error occurred on token verification.");const g=h.session,v=h.user;return g?.access_token&&(await this._saveSession(g),await this._notifyAllSubscribers(a.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",g)),this._returnResult({data:{user:v,session:g},error:null})}catch(o){if(I(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithSSO(a){var r,s,o,f,h;try{let m=null,g=null;this.flowType==="pkce"&&([m,g]=await ii(this.storage,this.storageKey));const v=await te(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in a?{provider_id:a.providerId}:null),"domain"in a?{domain:a.domain}:null),{redirect_to:(s=(r=a.options)===null||r===void 0?void 0:r.redirectTo)!==null&&s!==void 0?s:void 0}),!((o=a?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:a.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:m,code_challenge_method:g}),headers:this.headers,xform:t_});return!((f=v.data)===null||f===void 0)&&f.url&&tt()&&!(!((h=a.options)===null||h===void 0)&&h.skipBrowserRedirect)&&window.location.assign(v.data.url),this._returnResult(v)}catch(m){if(I(m))return this._returnResult({data:null,error:m});throw m}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async a=>{const{data:{session:r},error:s}=a;if(s)throw s;if(!r)throw new Ot;const{error:o}=await te(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:o})})}catch(a){if(I(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async resend(a){try{const r=`${this.url}/resend`;if("email"in a){const{email:s,type:o,options:f}=a,{error:h}=await te(this.fetch,"POST",r,{headers:this.headers,body:{email:s,type:o,gotrue_meta_security:{captcha_token:f?.captchaToken}},redirectTo:f?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}else if("phone"in a){const{phone:s,type:o,options:f}=a,{data:h,error:m}=await te(this.fetch,"POST",r,{headers:this.headers,body:{phone:s,type:o,gotrue_meta_security:{captcha_token:f?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:h?.message_id},error:m})}throw new Qs("You must provide either an email or phone number and a type")}catch(r){if(I(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(a,r){this._debug("#_acquireLock","begin",a);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await s,await r()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,a,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=r();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(a){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await a(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let a=null;const r=await ha(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?a=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!a)return{data:{session:null},error:null};const s=a.expires_at?a.expires_at*1e3-Date.now()<Do:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",a.expires_at),!s){if(this.userStorage){const h=await ha(this.userStorage,this.storageKey+"-user");h?.user?a.user=h.user:a.user=ko()}if(this.storage.isServer&&a.user&&!a.user.__isUserNotAvailableProxy){const h={value:this.suppressGetSessionWarning};a.user=Fb(a.user,h),h.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:a},error:null}}const{data:o,error:f}=await this._callRefreshToken(a.refresh_token);return f?this._returnResult({data:{session:null},error:f}):this._returnResult({data:{session:o},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(a){return a?await this._getUser(a):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(a){try{return a?await te(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:a,xform:Yn}):await this._useSession(async r=>{var s,o,f;const{data:h,error:m}=r;if(m)throw m;return!(!((s=h.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ot}:await te(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(f=(o=h.session)===null||o===void 0?void 0:o.access_token)!==null&&f!==void 0?f:void 0,xform:Yn})})}catch(r){if(I(r))return Cb(r)&&(await this._removeSession(),await Vn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(a,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(a,r))}async _updateUser(a,r={}){try{return await this._useSession(async s=>{const{data:o,error:f}=s;if(f)throw f;if(!o.session)throw new Ot;const h=o.session;let m=null,g=null;this.flowType==="pkce"&&a.email!=null&&([m,g]=await ii(this.storage,this.storageKey));const{data:v,error:b}=await te(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},a),{code_challenge:m,code_challenge_method:g}),jwt:h.access_token,xform:Yn});if(b)throw b;return h.user=v.user,await this._saveSession(h),await this._notifyAllSubscribers("USER_UPDATED",h),this._returnResult({data:{user:h.user},error:null})})}catch(s){if(I(s))return this._returnResult({data:{user:null},error:s});throw s}}async setSession(a){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(a))}async _setSession(a){try{if(!a.access_token||!a.refresh_token)throw new Ot;const r=Date.now()/1e3;let s=r,o=!0,f=null;const{payload:h}=Mo(a.access_token);if(h.exp&&(s=h.exp,o=s<=r),o){const{data:m,error:g}=await this._callRefreshToken(a.refresh_token);if(g)return this._returnResult({data:{user:null,session:null},error:g});if(!m)return{data:{user:null,session:null},error:null};f=m}else{const{data:m,error:g}=await this._getUser(a.access_token);if(g)throw g;f={access_token:a.access_token,refresh_token:a.refresh_token,user:m.user,token_type:"bearer",expires_in:s-r,expires_at:s},await this._saveSession(f),await this._notifyAllSubscribers("SIGNED_IN",f)}return this._returnResult({data:{user:f.user,session:f},error:null})}catch(r){if(I(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(a){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(a))}async _refreshSession(a){try{return await this._useSession(async r=>{var s;if(!a){const{data:h,error:m}=r;if(m)throw m;a=(s=h.session)!==null&&s!==void 0?s:void 0}if(!a?.refresh_token)throw new Ot;const{data:o,error:f}=await this._callRefreshToken(a.refresh_token);return f?this._returnResult({data:{user:null,session:null},error:f}):o?this._returnResult({data:{user:o.user,session:o},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(I(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(a,r){try{if(!tt())throw new Xs("No browser detected.");if(a.error||a.error_description||a.error_code)throw new Xs(a.error_description||"Error in URL with unspecified error_description",{error:a.error||"unspecified_error",code:a.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Yg("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Xs("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!a.code)throw new Yg("No code detected.");const{data:$,error:H}=await this._exchangeCodeForSession(a.code);if(H)throw H;const K=new URL(window.location.href);return K.searchParams.delete("code"),window.history.replaceState(window.history.state,"",K.toString()),{data:{session:$.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:o,access_token:f,refresh_token:h,expires_in:m,expires_at:g,token_type:v}=a;if(!f||!m||!h||!v)throw new Xs("No session defined in URL");const b=Math.round(Date.now()/1e3),_=parseInt(m);let T=b+_;g&&(T=parseInt(g));const E=T-b;E*1e3<=ui&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${E}s, should have been closer to ${_}s`);const D=T-_;b-D>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",D,T,b):b-D<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",D,T,b);const{data:N,error:U}=await this._getUser(f);if(U)throw U;const q={provider_token:s,provider_refresh_token:o,access_token:f,expires_in:_,expires_at:T,refresh_token:h,token_type:v,user:N.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:q,redirectType:a.type},error:null})}catch(s){if(I(s))return this._returnResult({data:{session:null,redirectType:null},error:s});throw s}}_isImplicitGrantCallback(a){return!!(a.access_token||a.error_description)}async _isPKCECallback(a){const r=await ha(this.storage,`${this.storageKey}-code-verifier`);return!!(a.code&&r)}async signOut(a={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(a))}async _signOut({scope:a}={scope:"global"}){return await this._useSession(async r=>{var s;const{data:o,error:f}=r;if(f)return this._returnResult({error:f});const h=(s=o.session)===null||s===void 0?void 0:s.access_token;if(h){const{error:m}=await this.admin.signOut(h,a);if(m&&!(Rb(m)&&(m.status===404||m.status===401||m.status===403)))return this._returnResult({error:m})}return a!=="others"&&(await this._removeSession(),await Vn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(a){const r=Bb(),s={id:r,callback:a,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:s}}}async _emitInitialSession(a){return await this._useSession(async r=>{var s,o;try{const{data:{session:f},error:h}=r;if(h)throw h;await((s=this.stateChangeEmitters.get(a))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",f)),this._debug("INITIAL_SESSION","callback id",a,"session",f)}catch(f){await((o=this.stateChangeEmitters.get(a))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",a,"error",f),console.error(f)}})}async resetPasswordForEmail(a,r={}){let s=null,o=null;this.flowType==="pkce"&&([s,o]=await ii(this.storage,this.storageKey,!0));try{return await te(this.fetch,"POST",`${this.url}/recover`,{body:{email:a,code_challenge:s,code_challenge_method:o,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(f){if(I(f))return this._returnResult({data:null,error:f});throw f}}async getUserIdentities(){var a;try{const{data:r,error:s}=await this.getUser();if(s)throw s;return this._returnResult({data:{identities:(a=r.user.identities)!==null&&a!==void 0?a:[]},error:null})}catch(r){if(I(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(a){return"token"in a?this.linkIdentityIdToken(a):this.linkIdentityOAuth(a)}async linkIdentityOAuth(a){var r;try{const{data:s,error:o}=await this._useSession(async f=>{var h,m,g,v,b;const{data:_,error:T}=f;if(T)throw T;const E=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,a.provider,{redirectTo:(h=a.options)===null||h===void 0?void 0:h.redirectTo,scopes:(m=a.options)===null||m===void 0?void 0:m.scopes,queryParams:(g=a.options)===null||g===void 0?void 0:g.queryParams,skipBrowserRedirect:!0});return await te(this.fetch,"GET",E,{headers:this.headers,jwt:(b=(v=_.session)===null||v===void 0?void 0:v.access_token)!==null&&b!==void 0?b:void 0})});if(o)throw o;return tt()&&!(!((r=a.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(s?.url),this._returnResult({data:{provider:a.provider,url:s?.url},error:null})}catch(s){if(I(s))return this._returnResult({data:{provider:a.provider,url:null},error:s});throw s}}async linkIdentityIdToken(a){return await this._useSession(async r=>{var s;try{const{error:o,data:{session:f}}=r;if(o)throw o;const{options:h,provider:m,token:g,access_token:v,nonce:b}=a,_=await te(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(s=f?.access_token)!==null&&s!==void 0?s:void 0,body:{provider:m,id_token:g,access_token:v,nonce:b,link_identity:!0,gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:Yt}),{data:T,error:E}=_;return E?this._returnResult({data:{user:null,session:null},error:E}):!T||!T.session||!T.user?this._returnResult({data:{user:null,session:null},error:new ai}):(T.session&&(await this._saveSession(T.session),await this._notifyAllSubscribers("USER_UPDATED",T.session)),this._returnResult({data:T,error:E}))}catch(o){if(I(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}})}async unlinkIdentity(a){try{return await this._useSession(async r=>{var s,o;const{data:f,error:h}=r;if(h)throw h;return await te(this.fetch,"DELETE",`${this.url}/user/identities/${a.identity_id}`,{headers:this.headers,jwt:(o=(s=f.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0})})}catch(r){if(I(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(a){const r=`#_refreshAccessToken(${a.substring(0,5)}...)`;this._debug(r,"begin");try{const s=Date.now();return await $b(async o=>(o>0&&await Hb(200*Math.pow(2,o-1)),this._debug(r,"refreshing attempt",o),await te(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:a},headers:this.headers,xform:Yt})),(o,f)=>{const h=200*Math.pow(2,o);return f&&zo(f)&&Date.now()+h-s<ui})}catch(s){if(this._debug(r,"error",s),I(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}finally{this._debug(r,"end")}}_isValidSession(a){return typeof a=="object"&&a!==null&&"access_token"in a&&"refresh_token"in a&&"expires_at"in a}async _handleProviderSignIn(a,r){const s=await this._getUrlForProvider(`${this.url}/authorize`,a,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",a,"options",r,"url",s),tt()&&!r.skipBrowserRedirect&&window.location.assign(s),{data:{provider:a,url:s},error:null}}async _recoverAndRefresh(){var a,r;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const o=await ha(this.storage,this.storageKey);if(o&&this.userStorage){let h=await ha(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!h&&(h={user:o.user},await oi(this.userStorage,this.storageKey+"-user",h)),o.user=(a=h?.user)!==null&&a!==void 0?a:ko()}else if(o&&!o.user&&!o.user){const h=await ha(this.storage,this.storageKey+"-user");h&&h?.user?(o.user=h.user,await Vn(this.storage,this.storageKey+"-user"),await oi(this.storage,this.storageKey,o)):o.user=ko()}if(this._debug(s,"session from storage",o),!this._isValidSession(o)){this._debug(s,"session is not valid"),o!==null&&await this._removeSession();return}const f=((r=o.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Do;if(this._debug(s,`session has${f?"":" not"} expired with margin of ${Do}s`),f){if(this.autoRefreshToken&&o.refresh_token){const{error:h}=await this._callRefreshToken(o.refresh_token);h&&(console.error(h),zo(h)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",h),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:h,error:m}=await this._getUser(o.access_token);!m&&h?.user?(o.user=h.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(h){console.error("Error getting user data:",h),this._debug(s,"error getting user data, skipping SIGNED_IN notification",h)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(s,"error",o),console.error(o);return}finally{this._debug(s,"end")}}async _callRefreshToken(a){var r,s;if(!a)throw new Ot;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${a.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new nl;const{data:f,error:h}=await this._refreshAccessToken(a);if(h)throw h;if(!f.session)throw new Ot;await this._saveSession(f.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",f.session);const m={data:f.session,error:null};return this.refreshingDeferred.resolve(m),m}catch(f){if(this._debug(o,"error",f),I(f)){const h={data:null,error:f};return zo(f)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(h),h}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(f),f}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(a,r,s=!0){const o=`#_notifyAllSubscribers(${a})`;this._debug(o,"begin",r,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:a,session:r});const f=[],h=Array.from(this.stateChangeEmitters.values()).map(async m=>{try{await m.callback(a,r)}catch(g){f.push(g)}});if(await Promise.all(h),f.length>0){for(let m=0;m<f.length;m+=1)console.error(f[m]);throw f[0]}}finally{this._debug(o,"end")}}async _saveSession(a){this._debug("#_saveSession()",a),this.suppressGetSessionWarning=!0;const r=Object.assign({},a),s=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!s&&r.user&&await oi(this.userStorage,this.storageKey+"-user",{user:r.user});const o=Object.assign({},r);delete o.user;const f=Zg(o);await oi(this.storage,this.storageKey,f)}else{const o=Zg(r);await oi(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),await Vn(this.storage,this.storageKey),await Vn(this.storage,this.storageKey+"-code-verifier"),await Vn(this.storage,this.storageKey+"-user"),this.userStorage&&await Vn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const a=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{a&&tt()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",a)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const a=setInterval(()=>this._autoRefreshTokenTick(),ui);this.autoRefreshTicker=a,a&&typeof a=="object"&&typeof a.unref=="function"?a.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(a),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const a=this.autoRefreshTicker;this.autoRefreshTicker=null,a&&clearInterval(a)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const a=Date.now();try{return await this._useSession(async r=>{const{data:{session:s}}=r;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((s.expires_at*1e3-a)/ui);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${ui}ms, refresh threshold is ${Fo} ticks`),o<=Fo&&await this._callRefreshToken(s.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(a){if(a.isAcquireTimeout||a instanceof Zm)this._debug("auto refresh token tick lock not available");else throw a}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!tt()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(a){console.error("_handleVisibilityChange",a)}}async _onVisibilityChanged(a){const r=`#_onVisibilityChanged(${a})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),a||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(a,r,s){const o=[`provider=${encodeURIComponent(r)}`];if(s?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s?.scopes&&o.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[f,h]=await ii(this.storage,this.storageKey),m=new URLSearchParams({code_challenge:`${encodeURIComponent(f)}`,code_challenge_method:`${encodeURIComponent(h)}`});o.push(m.toString())}if(s?.queryParams){const f=new URLSearchParams(s.queryParams);o.push(f.toString())}return s?.skipBrowserRedirect&&o.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${a}?${o.join("&")}`}async _unenroll(a){try{return await this._useSession(async r=>{var s;const{data:o,error:f}=r;return f?this._returnResult({data:null,error:f}):await te(this.fetch,"DELETE",`${this.url}/factors/${a.factorId}`,{headers:this.headers,jwt:(s=o?.session)===null||s===void 0?void 0:s.access_token})})}catch(r){if(I(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(a){try{return await this._useSession(async r=>{var s,o;const{data:f,error:h}=r;if(h)return this._returnResult({data:null,error:h});const m=Object.assign({friendly_name:a.friendlyName,factor_type:a.factorType},a.factorType==="phone"?{phone:a.phone}:a.factorType==="totp"?{issuer:a.issuer}:{}),{data:g,error:v}=await te(this.fetch,"POST",`${this.url}/factors`,{body:m,headers:this.headers,jwt:(s=f?.session)===null||s===void 0?void 0:s.access_token});return v?this._returnResult({data:null,error:v}):(a.factorType==="totp"&&g.type==="totp"&&(!((o=g?.totp)===null||o===void 0)&&o.qr_code)&&(g.totp.qr_code=`data:image/svg+xml;utf-8,${g.totp.qr_code}`),this._returnResult({data:g,error:null}))})}catch(r){if(I(r))return this._returnResult({data:null,error:r});throw r}}async _verify(a){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var s;const{data:o,error:f}=r;if(f)return this._returnResult({data:null,error:f});const h=Object.assign({challenge_id:a.challengeId},"webauthn"in a?{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_response:a.webauthn.type==="create"?y_(a.webauthn.credential_response):p_(a.webauthn.credential_response)})}:{code:a.code}),{data:m,error:g}=await te(this.fetch,"POST",`${this.url}/factors/${a.factorId}/verify`,{body:h,headers:this.headers,jwt:(s=o?.session)===null||s===void 0?void 0:s.access_token});return g?this._returnResult({data:null,error:g}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+m.expires_in},m)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",m),this._returnResult({data:m,error:g}))})}catch(r){if(I(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(a){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var s;const{data:o,error:f}=r;if(f)return this._returnResult({data:null,error:f});const h=await te(this.fetch,"POST",`${this.url}/factors/${a.factorId}/challenge`,{body:a,headers:this.headers,jwt:(s=o?.session)===null||s===void 0?void 0:s.access_token});if(h.error)return h;const{data:m}=h;if(m.type!=="webauthn")return{data:m,error:null};switch(m.webauthn.type){case"create":return{data:Object.assign(Object.assign({},m),{webauthn:Object.assign(Object.assign({},m.webauthn),{credential_options:Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:m_(m.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},m),{webauthn:Object.assign(Object.assign({},m.webauthn),{credential_options:Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:v_(m.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(I(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(a){const{data:r,error:s}=await this._challenge({factorId:a.factorId});return s?this._returnResult({data:null,error:s}):await this._verify({factorId:a.factorId,challengeId:r.id,code:a.code})}async _listFactors(){var a;const{data:{user:r},error:s}=await this.getUser();if(s)return{data:null,error:s};const o={all:[],phone:[],totp:[],webauthn:[]};for(const f of(a=r?.factors)!==null&&a!==void 0?a:[])o.all.push(f),f.status==="verified"&&o[f.factor_type].push(f);return{data:o,error:null}}async _getAuthenticatorAssuranceLevel(){var a,r;const{data:{session:s},error:o}=await this.getSession();if(o)return this._returnResult({data:null,error:o});if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:f}=Mo(s.access_token);let h=null;f.aal&&(h=f.aal);let m=h;((r=(a=s.user.factors)===null||a===void 0?void 0:a.filter(b=>b.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(m="aal2");const v=f.amr||[];return{data:{currentLevel:h,nextLevel:m,currentAuthenticationMethods:v},error:null}}async _getAuthorizationDetails(a){try{return await this._useSession(async r=>{const{data:{session:s},error:o}=r;return o?this._returnResult({data:null,error:o}):s?await te(this.fetch,"GET",`${this.url}/oauth/authorizations/${a}`,{headers:this.headers,jwt:s.access_token,xform:f=>({data:f,error:null})}):this._returnResult({data:null,error:new Ot})})}catch(r){if(I(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(a,r){try{return await this._useSession(async s=>{const{data:{session:o},error:f}=s;if(f)return this._returnResult({data:null,error:f});if(!o)return this._returnResult({data:null,error:new Ot});const h=await te(this.fetch,"POST",`${this.url}/oauth/authorizations/${a}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"approve"},xform:m=>({data:m,error:null})});return h.data&&h.data.redirect_url&&tt()&&!r?.skipBrowserRedirect&&window.location.assign(h.data.redirect_url),h})}catch(s){if(I(s))return this._returnResult({data:null,error:s});throw s}}async _denyAuthorization(a,r){try{return await this._useSession(async s=>{const{data:{session:o},error:f}=s;if(f)return this._returnResult({data:null,error:f});if(!o)return this._returnResult({data:null,error:new Ot});const h=await te(this.fetch,"POST",`${this.url}/oauth/authorizations/${a}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"deny"},xform:m=>({data:m,error:null})});return h.data&&h.data.redirect_url&&tt()&&!r?.skipBrowserRedirect&&window.location.assign(h.data.redirect_url),h})}catch(s){if(I(s))return this._returnResult({data:null,error:s});throw s}}async _listOAuthGrants(){try{return await this._useSession(async a=>{const{data:{session:r},error:s}=a;return s?this._returnResult({data:null,error:s}):r?await te(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new Ot})})}catch(a){if(I(a))return this._returnResult({data:null,error:a});throw a}}async _revokeOAuthGrant(a){try{return await this._useSession(async r=>{const{data:{session:s},error:o}=r;return o?this._returnResult({data:null,error:o}):s?(await te(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:s.access_token,query:{client_id:a.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Ot})})}catch(r){if(I(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(a,r={keys:[]}){let s=r.keys.find(m=>m.kid===a);if(s)return s;const o=Date.now();if(s=this.jwks.keys.find(m=>m.kid===a),s&&this.jwks_cached_at+Ab>o)return s;const{data:f,error:h}=await te(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(h)throw h;return!f.keys||f.keys.length===0||(this.jwks=f,this.jwks_cached_at=o,s=f.keys.find(m=>m.kid===a),!s)?null:s}async getClaims(a,r={}){try{let s=a;if(!s){const{data:E,error:D}=await this.getSession();if(D||!E.session)return this._returnResult({data:null,error:D});s=E.session.access_token}const{header:o,payload:f,signature:h,raw:{header:m,payload:g}}=Mo(s);r?.allowExpired||Jb(f.exp);const v=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!v){const{error:E}=await this.getUser(s);if(E)throw E;return{data:{claims:f,header:o,signature:h},error:null}}const b=Zb(o.alg),_=await crypto.subtle.importKey("jwk",v,b,!0,["verify"]);if(!await crypto.subtle.verify(b,_,h,Mb(`${m}.${g}`)))throw new ec("Invalid JWT signature");return{data:{claims:f,header:o,signature:h},error:null}}catch(s){if(I(s))return this._returnResult({data:null,error:s});throw s}}}yr.nextInstanceID={};const j_=yr;class R_ extends j_{constructor(a){super(a)}}class C_{constructor(a,r,s){var o,f,h;this.supabaseUrl=a,this.supabaseKey=r;const m=Sb(a);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",m),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",m),this.storageUrl=new URL("storage/v1",m),this.functionsUrl=new URL("functions/v1",m);const g=`sb-${m.hostname.split(".")[0]}-auth-token`,v={db,realtime:mb,auth:Object.assign(Object.assign({},gb),{storageKey:g}),global:hb},b=_b(s??{},v);this.storageKey=(o=b.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(f=b.global.headers)!==null&&f!==void 0?f:{},b.accessToken?(this.accessToken=b.accessToken,this.auth=new Proxy({},{get:(_,T)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(T)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((h=b.auth)!==null&&h!==void 0?h:{},this.headers,b.global.fetch),this.fetch=pb(r,this._getAccessToken.bind(this),b.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},b.realtime)),this.accessToken&&this.accessToken().then(_=>this.realtime.setAuth(_)).catch(_=>console.warn("Failed to set initial Realtime auth token:",_)),this.rest=new mp(new URL("rest/v1",m).href,{headers:this.headers,schema:b.db.schema,fetch:this.fetch}),this.storage=new ob(this.storageUrl.href,this.headers,this.fetch,s?.storage),b.accessToken||this._listenForAuthEvents()}get functions(){return new fp(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(a){return this.rest.from(a)}schema(a){return this.rest.schema(a)}rpc(a,r={},s={head:!1,get:!1,count:void 0}){return this.rest.rpc(a,r,s)}channel(a,r={config:{}}){return this.realtime.channel(a,r)}getChannels(){return this.realtime.getChannels()}removeChannel(a){return this.realtime.removeChannel(a)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var a,r;if(this.accessToken)return await this.accessToken();const{data:s}=await this.auth.getSession();return(r=(a=s.session)===null||a===void 0?void 0:a.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:a,persistSession:r,detectSessionInUrl:s,storage:o,userStorage:f,storageKey:h,flowType:m,lock:g,debug:v,throwOnError:b},_,T){const E={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new R_({url:this.authUrl.href,headers:Object.assign(Object.assign({},E),_),storageKey:h,autoRefreshToken:a,persistSession:r,detectSessionInUrl:s,storage:o,userStorage:f,flowType:m,lock:g,debug:v,throwOnError:b,fetch:T,hasCustomAuthorizationHeader:Object.keys(this.headers).some(D=>D.toLowerCase()==="authorization")})}_initRealtimeClient(a){return new xp(this.realtimeUrl.href,Object.assign(Object.assign({},a),{params:Object.assign({apikey:this.supabaseKey},a?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,s)=>{this._handleTokenChanged(r,"CLIENT",s?.access_token)})}_handleTokenChanged(a,r,s){(a==="TOKEN_REFRESHED"||a==="SIGNED_IN")&&this.changedAccessToken!==s?(this.changedAccessToken=s,this.realtime.setAuth(s)):a==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const N_=(l,a,r)=>new C_(l,a,r);function U_(){if(typeof window<"u"||typeof process>"u")return!1;const l=process.version;if(l==null)return!1;const a=l.match(/^v(\d+)\./);return a?parseInt(a[1],10)<=18:!1}U_()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const x_="https://ahrtkkoolebzgbysbghs.supabase.co",D_="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFocnRra29vbGViemdieXNiZ2hzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQ3Njk0MDcsImV4cCI6MjA4MDM0NTQwN30.xenorCoLkstLdJaJlP6aYCapQkx7VPVw3Baf5Py5cdo",z_=(l=1e4)=>async(a,r)=>{const s=new AbortController,o=setTimeout(()=>s.abort(),l);try{return await fetch(a,{...r,signal:s.signal})}finally{clearTimeout(o)}},Vt=N_(x_,D_,{auth:{persistSession:!1,autoRefreshToken:!1,detectSessionInUrl:!1},global:{headers:{"x-application-name":"flight-logbook"},fetch:z_(1e4)}});class Js{static TABLE_NAME="flights";static validateUUID(a){if(!/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(a)){const s=new Error(`Invalid user ID format. Expected UUID, got: ${a.substring(0,20)}...`);throw P.error("Invalid UUID format",{userId:a,error:s}),s}}static async checkConnection(){try{const{error:a}=await Vt.from("flights").select("id").limit(1);return a?a.code==="42P01"?(P.warn("Flights table does not exist yet, but Supabase connection is OK"),!0):a.message?.includes("Failed to fetch")||a.code==="PGRST301"?(P.error("Cannot connect to Supabase. Check URL and API key.",a),!1):(P.warn("Supabase connection warning",a),!0):(P.info("Supabase connection established successfully"),!0)}catch(a){return P.error("Supabase connection check exception",a),!1}}static toSupabase(a,r){if(!a.id)throw new Error("Flight ID is required for synchronization");const s=a.reason?a.reason.toString():null,o=a.class?a.class.toString():null;return{id:a.id,user_id:r,date:a.date,airline:a.airline,flight_number:a.flightNumber,origin:a.origin,destination:a.destination,aircraft:a.aircraft||null,registration:a.registration||null,seat:a.seat||null,distance:a.distance||null,duration:a.duration||null,class:o,reason:s,note:a.note||null,created_at:a.created_at,updated_at:a.updated_at||null}}static fromSupabase(a){const r=["economy","premium_economy","business","first"],s=["business","leisure","personal","connecting","other"];let o="economy";a.class&&r.includes(a.class)&&(o=a.class);let f;return a.reason&&s.includes(a.reason)&&(f=a.reason),{id:a.id,date:a.date,airline:a.airline,flightNumber:a.flight_number,origin:a.origin,destination:a.destination,aircraft:a.aircraft||void 0,registration:a.registration||void 0,seat:a.seat||void 0,distance:a.distance||void 0,duration:a.duration||void 0,class:o,reason:f,note:a.note||void 0,created_at:a.created_at,updated_at:a.updated_at||void 0}}static async getFlightById(a,r){const{data:s,error:o}=await Vt.from(this.TABLE_NAME).select("*").eq("user_id",a).eq("id",r).single();return o||!s?null:this.fromSupabase(s)}static async loadUserData(a){this.validateUUID(a);const{data:r,error:s}=await Vt.from(this.TABLE_NAME).select("*").eq("user_id",a).order("created_at",{ascending:!1});if(s)throw P.error("Failed to load user data from Supabase",s),new Error(`Database error: ${s.message}`);const o=(r||[]).map(g=>this.fromSupabase(g)),f=[...new Set(o.map(g=>g.airline).filter(Boolean))],h=[...new Set(o.map(g=>g.origin).filter(Boolean))],m=[...new Set(o.map(g=>g.destination).filter(Boolean))];return P.info("User data loaded successfully",{userId:a,flightsCount:o.length}),{flights:o,airlines:f,origin_cities:h,destination_cities:m}}static async saveUserData(a,r){if(this.validateUUID(a),!Array.isArray(r.flights))throw new Error("Invalid data format: flights must be an array");if(P.debug("Syncing user data to Supabase (upsert)",{userId:a,flightsCount:r.flights.length}),r.flights.length===0){P.info("No flights to sync",{userId:a});return}const s=r.flights.map(g=>this.toSupabase(g,a)),{error:o}=await Vt.from(this.TABLE_NAME).upsert(s,{onConflict:"id",ignoreDuplicates:!1});if(o)throw P.error("Failed to upsert user data",{error:o,userId:a}),new Error(`Sync failed: ${o.message}`);const f=new Set(r.flights.map(g=>g.id)),{data:h,error:m}=await Vt.from(this.TABLE_NAME).select("id").eq("user_id",a);if(m)P.warn("Could not fetch remote IDs for cleanup",m);else if(h){const g=h,b=[...new Set(g.map(_=>_.id))].filter(_=>!f.has(_));if(b.length>0){const{error:_}=await Vt.from(this.TABLE_NAME).delete().in("id",b);_?P.warn("Failed to delete stale records",_):P.debug("Deleted stale records",{count:b.length})}}P.info("User data synced successfully",{userId:a,upserted:s.length})}static async addFlight(a,r){if(this.validateUUID(a),!r.id)throw new Error("Flight ID is required");r.created_at||(r.created_at=new Date().toISOString()),P.debug("Adding flight to Supabase",{userId:a,flightId:r.id});const s=this.toSupabase(r,a),{error:o}=await Vt.from(this.TABLE_NAME).insert(s);if(o)throw P.error("Failed to add flight",{error:o,flightId:r.id}),new Error(`Failed to save flight: ${o.message}`);P.info("Flight added successfully",{userId:a,flightId:r.id})}static async deleteFlight(a,r){if(this.validateUUID(a),!r)throw new Error("Flight ID is required");const{error:s,count:o}=await Vt.from(this.TABLE_NAME).delete().eq("user_id",a).eq("id",r);if(s)throw P.error("Failed to delete flight",{error:s,flightId:r}),s;P.info("Flight deleted",{userId:a,flightId:r,count:o})}static async updateFlight(a,r,s){if(this.validateUUID(a),!r)throw new Error("Flight ID is required");const o=await this.getFlightById(a,r);if(!o)throw new Error(`Flight ${r} not found for user ${a}`);const f={...o,...s,updated_at:new Date().toISOString()},h=this.toSupabase(f,a),{error:m}=await Vt.from(this.TABLE_NAME).upsert(h,{onConflict:"id",ignoreDuplicates:!1});if(m)throw P.error("Failed to update flight",{error:m,flightId:r}),m;P.info("Flight updated",{userId:a,flightId:r})}static async searchFlights(a,r){if(this.validateUUID(a),!r.trim())return(await this.loadUserData(a)).flights;const{data:s,error:o}=await Vt.from(this.TABLE_NAME).select("*").eq("user_id",a).or(`origin.ilike.%${r}%,destination.ilike.%${r}%,airline.ilike.%${r}%,flight_number.ilike.%${r}%`).order("created_at",{ascending:!1});if(o)throw P.error("Search failed",o),o;return(s||[]).map(f=>this.fromSupabase(f))}static async getStats(a){this.validateUUID(a);const{data:r,error:s}=await Vt.from(this.TABLE_NAME).select("*").eq("user_id",a);if(s)throw s;const o=(r||[]).map(f=>this.fromSupabase(f));return{totalFlights:o.length,totalDistance:o.reduce((f,h)=>f+(h.distance||0),0),uniqueAirlines:new Set(o.map(f=>f.airline).filter(Boolean)).size,uniqueDestinations:new Set(o.map(f=>f.destination).filter(Boolean)).size}}}const M_=(l,a)=>{const r=ue.useRef(null),s=ue.useCallback((...f)=>{r.current&&clearTimeout(r.current),r.current=setTimeout(()=>{l(...f)},a)},[l,a]);ue.useEffect(()=>()=>{r.current&&clearTimeout(r.current)},[]);const o=ue.useCallback(()=>{r.current&&(clearTimeout(r.current),r.current=null)},[]);return Object.assign(s,{cancel:o})},k_=l=>{const a=l?.startsWith("dev_")?l.substring(4):l,[r,s]=ue.useState({isSyncing:!1,lastSync:null,pendingChanges:0,hasError:!1,errorMessage:void 0}),[o,f]=ue.useState("offline"),[h,m]=ue.useState(!1),g=ue.useRef(!0),v=ue.useRef(0),b=ue.useRef([]),{flights:_,isLoading:T,error:E,clearError:D}=Ho(),N=ue.useCallback(()=>{const G=navigator.onLine;f(G?"online":"offline")},[]),U=ue.useCallback(async()=>o!=="online"?!1:await Js.checkConnection(),[o]);ue.useEffect(()=>{},[]),ue.useEffect(()=>(N(),window.addEventListener("online",N),window.addEventListener("offline",N),()=>{window.removeEventListener("online",N),window.removeEventListener("offline",N),g.current=!1}),[N]),ue.useEffect(()=>{if(!a||h||o!=="online")return;(async()=>{try{if(!await U()){s(Ye=>({...Ye,hasError:!0,errorMessage:"   .   ."})),m(!0);return}P.info("   Supabase  ",{userId:a});const Te=await Js.loadUserData(a),{flights:rt}=Ho.getState();rt.length===0&&Te.flights.length>0&&P.info("   :  store  "),s(Ye=>({...Ye,lastSync:new Date().toISOString(),hasError:!1,errorMessage:void 0})),m(!0),P.info("  ")}catch(ve){P.error("  ",ve),s(Te=>({...Te,hasError:!0,errorMessage:"     "})),m(!0)}})()},[a,o,U,h]);const q=M_(async()=>{if(!(!a||!g.current||o!=="online"))try{s(G=>({...G,isSyncing:!0})),await Js.saveUserData(a,{flights:_,airlines:[],origin_cities:[],destination_cities:[]}),v.current=0,g.current&&(s(G=>({...G,isSyncing:!1,lastSync:new Date().toISOString(),pendingChanges:0,hasError:!1,errorMessage:void 0})),P.debug("  "))}catch(G){g.current&&(s(ve=>({...ve,isSyncing:!1,hasError:!0,errorMessage:"   "})),P.error(" ",G))}},3e3);ue.useEffect(()=>{a&&h&&o==="online"&&(b.current=_)},[_,a,h,o]),ue.useEffect(()=>{if(!a||!h||o!=="online")return;const G=b.current,ve=_;(ve.length!==G.length||ve[ve.length-1]?.id!==G[G.length-1]?.id)&&(v.current+=1,s(rt=>({...rt,pendingChanges:v.current})),q())},[_,a,h,o,q]);const $=ue.useCallback(async()=>{if(!a||o!=="online"){P.warn("  :  ");return}try{s(G=>({...G,isSyncing:!0})),await Js.saveUserData(a,{flights:_,airlines:[],origin_cities:[],destination_cities:[]}),v.current=0,s(G=>({...G,isSyncing:!1,lastSync:new Date().toISOString(),pendingChanges:0,hasError:!1})),P.info("  ")}catch(G){throw s(ve=>({...ve,isSyncing:!1,hasError:!0,errorMessage:"  "})),P.error("  ",G),G}},[a,_,o]),H=ue.useCallback(()=>{s(G=>({...G,hasError:!1,errorMessage:void 0})),D()},[D]),K=[...new Set(_.map(G=>G.airline).filter(Boolean))],ie=[...new Set(_.map(G=>G.origin).filter(Boolean))],ne=[...new Set(_.map(G=>G.destination).filter(Boolean))];return{flights:_,airlines:K,origin_cities:ie,destination_cities:ne,loading:T||!h,error:r.errorMessage||E,syncStatus:r,connectionStatus:o,isOnline:o==="online",lastSync:r.lastSync,pendingChanges:r.pendingChanges,forceSync:$,clearError:H,retrySync:$,checkConnection:U}},nm={DEBOUNCE_DELAY:3e3,TELEGRAM_INIT_DELAY:100,LOCAL_STORAGE_KEYS:{DEV_USER_ID:"flight_tracker_dev_user_id",THEME:"flight_tracker_theme",LAST_SYNC:"flight_tracker_last_sync"},DEFAULT_THEME:{LIGHT:{bgColor:"#ffffff",textColor:"#000000",hintColor:"#888888",linkColor:"#0088cc",borderColor:"#e0e0e0",cardBg:"#ffffff"},DARK:{bgColor:"#0f0f0f",textColor:"#ffffff",hintColor:"#aaaaaa",linkColor:"#5db0ff",borderColor:"#333333",cardBg:"#1c1c1c"}}};class qo{static applyTelegramTheme(a){try{this.setCssVariable("--tg-theme-bg-color",a.bg_color),this.setCssVariable("--tg-theme-text-color",a.text_color),this.setCssVariable("--tg-theme-hint-color",a.hint_color),this.setCssVariable("--tg-theme-link-color",a.link_color),this.setCssVariable("--tg-theme-button-color",a.button_color),this.setCssVariable("--tg-theme-button-text-color",a.button_text_color),this.setCssVariable("--tg-bg-color","var(--tg-theme-bg-color)"),this.setCssVariable("--tg-text-color","var(--tg-theme-text-color)"),this.setCssVariable("--tg-hint-color","var(--tg-theme-hint-color)"),this.setCssVariable("--tg-link-color","var(--tg-theme-button-color)"),this.setCssVariable("--tg-border-color","var(--tg-theme-hint-color)"),this.setCssVariable("--tg-card-bg","var(--tg-theme-bg-color)"),document.documentElement.setAttribute("data-tg-theme","loaded"),console.debug("[ThemeService] Telegram theme applied")}catch(r){console.error("[ThemeService] Failed to apply Telegram theme",r)}}static applyDefaultTheme(){try{const r=window.matchMedia("(prefers-color-scheme: dark)").matches?nm.DEFAULT_THEME.DARK:nm.DEFAULT_THEME.LIGHT;this.setCssVariable("--tg-bg-color",r.bgColor),this.setCssVariable("--tg-text-color",r.textColor),this.setCssVariable("--tg-hint-color",r.hintColor),this.setCssVariable("--tg-link-color",r.linkColor),this.setCssVariable("--tg-border-color",r.borderColor),this.setCssVariable("--tg-card-bg",r.cardBg),document.documentElement.removeAttribute("data-tg-theme"),console.debug("[ThemeService] Default theme applied")}catch(a){console.error("[ThemeService] Failed to apply default theme",a)}}static setCssVariable(a,r){document.documentElement.style.setProperty(a,r)}}const B_=l=>{ue.useEffect(()=>{if(l){qo.applyTelegramTheme(l.themeParams);const a=()=>{qo.applyTelegramTheme(l.themeParams)};return l.onEvent("themeChanged",a),()=>{l.offEvent("themeChanged",a)}}else qo.applyDefaultTheme()},[l])},q_=()=>{const[l,a]=ue.useState("add"),[r,s]=ue.useState(null),{isTelegram:o,webApp:f}=ap(),{user:h,loading:m}=ip(o),{addFlight:g,deleteFlight:v,clearError:b}=Ho(),{flights:_,airlines:T,origin_cities:E,destination_cities:D,loading:N,error:U,syncStatus:q,forceSync:$,clearError:H,isOnline:K,lastSync:ie,pendingChanges:ne}=k_(h?.id);B_(f);const[G,ve]=ue.useState({search:""}),Te=np(_,G),rt=tp(Te),Ye=(oe,ce)=>{s({type:oe,message:ce});const S=setTimeout(()=>s(null),3e3);return()=>clearTimeout(S)},nt=async oe=>{try{await g(oe),Ye("success","   !"),f&&f.HapticFeedback.notificationOccurred("success"),P.info("Flight added",{origin:oe.origin,destination:oe.destination}),a("history")}catch(ce){const S=ce instanceof Error?ce.message:" ";Ye("error",`: ${S}`),f&&f.HapticFeedback.notificationOccurred("error"),P.error("Failed to add flight",ce)}},Ft=async oe=>{let ce=!1;if(f?ce=await new Promise(S=>f.showConfirm("  ?",S)):ce=window.confirm("  ?"),!!ce)try{await v(oe),Ye("success"," "),f&&f.HapticFeedback.notificationOccurred("warning"),P.info("Flight deleted",{flightId:oe})}catch(S){Ye("error","   "),P.error("Failed to delete flight",S)}},Lt=()=>{H(),s(null),b()};if(ue.useEffect(()=>{f&&(f.ready(),f.expand(),f.MainButton&&(f.MainButton.setText(""),f.MainButton.onClick($),f.MainButton.show()),P.info("Telegram WebApp initialized"))},[f,$]),m||N)return A.jsx(k0,{text:m?" Telegram...":" ..."});const M=()=>o&&f?.initDataUnsafe?.user?`, ${f.initDataUnsafe.user.first_name||""}! `:"    ! ",V=()=>o&&K?"    ":o&&!K?"  ,  ":"   ",W=_.length;return A.jsxs("div",{className:"app",children:[A.jsxs("header",{className:"header",children:[A.jsx("h1",{className:"title",children:" Flight Logbook"}),A.jsxs("p",{className:"greeting",children:[M()," ",A.jsxs("strong",{children:[": ",W]})]}),A.jsxs("div",{className:"stats-bar",children:[rt.totalDistance>0&&A.jsxs("span",{className:"stat-item",children:[" ",rt.totalDistance.toLocaleString()," "]}),rt.uniqueAirlines>0&&A.jsxs("span",{className:"stat-item",children:[" ",rt.uniqueAirlines," "]})]}),A.jsxs("div",{className:"storage-info",children:[A.jsx("small",{children:V()}),ie&&A.jsxs("small",{children:["  : ",L_(ie)]}),ne>0&&A.jsxs("small",{children:["  : ",ne]})]})]}),r&&A.jsxs("div",{className:`notification notification-${r.type}`,onClick:()=>s(null),children:[r.message,A.jsx("button",{className:"notification-close",children:""})]}),U&&A.jsxs("div",{className:"error-notification",onClick:Lt,children:[" ",U,A.jsx("button",{className:"close-error",children:""})]}),!K&&A.jsxs("div",{className:"offline-banner",children:["  .   .",A.jsx("button",{className:"retry-button",onClick:$,disabled:q.isSyncing,children:q.isSyncing?"...":""})]}),q.isSyncing&&A.jsx("div",{className:"sync-indicator",children:" ..."}),A.jsxs("nav",{className:"tabs",children:[A.jsx(Tg,{active:l==="add",onClick:()=>a("add"),children:"  "}),A.jsxs(Tg,{active:l==="history",onClick:()=>a("history"),children:["  (",W,")"]})]}),A.jsxs("main",{className:"main",children:[l==="add"&&A.jsx(B0,{onAdd:nt,isLoading:q.isSyncing,airlines:T,cities:[...E,...D]}),l==="history"&&A.jsx(L0,{flights:Te,onDelete:Ft,isLoading:N})]}),!o&&A.jsx("div",{className:"sync-footer",children:A.jsx("button",{className:"sync-button",onClick:$,disabled:q.isSyncing,children:q.isSyncing?" ...":" "})})]})},L_=l=>{const a=new Date(l),s=Math.floor((new Date().getTime()-a.getTime())/(1e3*60));return s<1?" ":s<60?`${s}  `:s<1440?`${Math.floor(s/60)}  `:a.toLocaleDateString("ru-RU")},H_=()=>{const l="https://ahrtkkoolebzgbysbghs.supabase.co",a=[];if(a.length>0)throw new Error(`   : ${a.join(", ")}`);if(!l.startsWith("https://"))throw new Error("VITE_SUPABASE_URL    https://")},$_=l=>{const a=document.getElementById("root");if(!a)return;let r=" ";l instanceof Error?r=l.message:typeof l=="string"&&(r=l),a.innerHTML=`
    <div style="min-height: 100vh; display: flex; align-items: center; justify-content: center; padding: 20px; background: #f8f9fa;">
      <div style="max-width: 600px; background: white; border-radius: 12px; padding: 30px; text-align: center;">
        <div style="font-size: 48px; margin-bottom: 20px; color: #dc3545;"></div>
        <h1 style="color: #212529; margin-bottom: 16px;"> </h1>
        <div style="background: #fff5f5; border: 1px solid #ffc9c9; border-radius: 8px; padding: 16px; margin-bottom: 20px;">
          <p style="color: #c92a2a; margin: 0;">${r}</p>
        </div>
        <div style="background: #e7f5ff; border: 1px solid #a5d8ff; border-radius: 8px; padding: 20px; margin-bottom: 24px;">
          <h3 style="color: #1971c2; margin: 0 0 12px 0;">  :</h3>
          <p> <code>.env.development</code>   :</p>
          <pre style="background: #f8f9fa; padding: 12px; border-radius: 6px; margin-top: 12px;">
VITE_SUPABASE_URL=https://-.supabase.co
VITE_SUPABASE_ANON_KEY=_</pre>
        </div>
        <button onclick="location.reload()" style="background: #339af0; color: white; border: none; padding: 10px 20px; border-radius: 6px;">
           
        </button>
      </div>
    </div>
  `},am=()=>{try{H_(),P.info("  ");const l=document.getElementById("root");if(!l)throw new Error(" #root");D0.createRoot(l).render(A.jsx(or.StrictMode,{children:A.jsx(q_,{})}))}catch(l){P.error(" :",l),$_(l)}};window.addEventListener("error",l=>P.error(" ",l.error));window.addEventListener("unhandledrejection",l=>P.error("Unhandled promise",l.reason));document.readyState==="loading"?document.addEventListener("DOMContentLoaded",am):am();
